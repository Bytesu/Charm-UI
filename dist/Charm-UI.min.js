var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:this.props.localAddress,isWrapShow:!1,isSecondShow:!1}},getDefaultProps:function(){return{localAddress:"西安"}},secondAddressData:{},handleBtnClick:function(){this.state.isWrapShow?this.setState({isWrapShow:!1}):(this.setState({isWrapShow:!0}),this.setState({isSecondShow:!1}))},handleSelectAddress:function(t,e,s){if(this.setState({nowAddress:t}),e){var a=this.props.addressData[e],i=a[s],r=0;for(var n in i)r++;return r?(this.setState({isSecondShow:!0}),void(this.secondAddressData=i)):void this.setState({isWrapShow:!1})}this.setState({isWrapShow:!1})},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress,secondAddressData:this.secondAddressData,isSecondShow:this.state.isSecondShow}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return this.props.isSecondShow?React.createElement("div",{className:"AddressWrap"},React.createElement(AddressSecondWrap,{secondAddressData:this.props.secondAddressData})):React.createElement("div",{className:"AddressWrap"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}))}}),AddressLocation=React.createClass({displayName:"AddressLocation",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",null,"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleSearch:function(t){var e=t.target.value;console.log(e)},render:function(){return React.createElement("div",{className:"AddressSearch"},"搜索：",React.createElement("input",{onChange:this.handleSearch}))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){var t=this.props.addressData,e=this.props.handleSelectAddress,s=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement(AddressListRow,{keyData:i,data:t[i],handleSelectAddress:e}),a++;return s}(t);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(t){var e=this.props.keyData,s=t.target.getAttribute("data"),a=t.target.innerHTML;this.props.handleSelectAddress(a,e,s)},render:function(){var t=this.handleClick,e=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement("span",null,React.createElement("span",{data:i,key:a,onClick:t},i)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},e))}}),AddressSecondWrap=React.createClass({displayName:"AddressSecondWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){var t=this.props.secondAddressData,e=function(t){var e=[],s=0;for(var a in t)e[s]=React.createElement(AddressSecondRow,{keyData:a,data:t[a]}),s++;return e}(t);return React.createElement("div",{className:"AddressSecondWrap"},e)}}),AddressSecondRow=React.createClass({displayName:"AddressSecondRow",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){var t=function(t){var e=[],s=0;for(var a in t)e[s]=React.createElement("span",null,React.createElement("a",{data:a,key:s,href:t[a]},a)),s++;return e}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},t))}}),ScrollBar=React.createClass({displayName:"ScrollBar",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",null)}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"北京",address:null}},getDefaultProps:function(){return{}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setCity(e)}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){var t=this.state.address?this.props.addressPickerActiveStyle:{};return React.createElement("div",{className:"address-picker",style:t},React.createElement(AddressList,{localAddress:this.state.city}),React.createElement(AddressInput,{city:this.state.city,searchSubmitHandler:this.setAddress}),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京"}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setCity(e)}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,{city:this.props.city,inputTip:this.props.inputTip,inputWidth:this.props.inputWidth,searchBtnText:this.props.searchBtnText,searchSubmitHandler:this.setAddress}),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}))}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京"}},searchSubmit:function(){var t=this.getDOMNode().children[0].value;this.props.searchSubmitHandler(t)},checkEnter:function(t){13===t.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var t={width:this.props.inputWidth};return React.createElement("div",{className:"address-input"},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onKeyUp:this.checkEnter,placeholder:this.props.inputTip,style:t}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0,itemsList:[],itemActive:0}},getDefaultProps:function(){return{mapSearchgeotableId:121763,mapSearchTags:"",mapSearchFilter:""}},componentDidMount:function(){this.map=new BMap.Map("_addressMapMain",{enableMapClick:!1}),this.map.centerAndZoom(this.props.city,12)},componentWillReceiveProps:function(t){t.addressKeyword&&this.getNearby(t.addressKeyword)},getNearby:function(t,e){var s=new BMap.Geocoder,a=this;s.getPoint(t,function(t){t?reqwest({url:"http://api.map.baidu.com/geosearch/v3/nearby",type:"jsonp",data:{ak:"sdp9qCbToS7E23nDRxaAAwbh",geotable_id:121763,location:t.lng+","+t.lat,radius:1e4,page_index:e||0,page_size:50},jsonpCallback:"callback",success:function(t){a.setState({itemsNumber:t.total,itemsList:t.contents}),a.showNearby(),a.map.centerAndZoom(a.props.addressKeyword,12)}}):alert("未找到该区域信息")}.bind(this),this.props.city)},showNearby:function(){var t=this;for(var e in this.state.itemsList){var s=new BMap.Point(this.state.itemsList[e].location[0],this.state.itemsList[e].location[1]),a=new BMap.Marker(s),i=new BMap.Label(String.fromCharCode(65+parseInt(e)),{offset:new BMap.Size(4,2)});i.setStyle({border:"none",backgroundColor:"transparent",color:"#FAFAFA"}),a.setLabel(i),a.setTitle(this.state.itemsList[e].title),a.addEventListener("click",function(e){t.showInfoWindow(this.getLabel().content.charCodeAt(0)-65)}),this.map.addOverlay(a)}this.state.itemsList.length&&this.showInfoWindow(0)},showInfoWindow:function(t){if(t!==this.state.itemActive,!0){var e=new BMap.Point(this.state.itemsList[t].location[0],this.state.itemsList[t].location[1]),s=this.state.itemsList[t],a=s.title,i=s.address,r=(s.tel,'<p class="map-info-window">地址：'+i+'<button class="map-info-btn">进入体验店</button></p>'),n=new BMap.InfoWindow(r,{title:a,width:290,panel:"panel",enableAutoPan:!0,offset:new BMap.Size(0,-25)});this.setState({itemActive:+t}),this.map.openInfoWindow(n,e)}},clickMapItem:function(t){var e=t.target,s=e.getAttribute("class"),a=0;a="map-item"===s?e.getAttribute("data-key"):"map-item-mark"===s||"map-item-main"===s?e.parentNode.getAttribute("data-key"):s?e.parentNode.parentNode.getAttribute("data-key"):e.parentNode.parentNode.parentNode.getAttribute("data-key"),this.showInfoWindow(a)},render:function(){var t={backgroundColor:"#F0F0F0"};return React.createElement("div",{className:"address-map",style:{display:this.props.addressKeyword?"block":"none"}},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"附近有",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("ul",{className:"map-items",id:"_addressMapItems",onClick:this.clickMapItem},this.state.itemsList.map(function(e,s){return React.createElement("li",{className:"map-item","data-key":s,key:s,style:s===this.state.itemActive?t:{}},React.createElement("span",{className:"map-item-mark",style:s===this.state.itemActive?{backgroundColor:"#1bbc9b"}:{}},String.fromCharCode(65+s)),React.createElement("div",{className:"map-item-main"},React.createElement("div",{className:"map-item-title"},e.title),React.createElement("div",{className:"map-item-address"},"地址：",e.address),React.createElement("div",{className:"map-item-tel"},"电话：",e.tel)))}.bind(this)))),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(t,e){!e&&this._init(),t=this._format(t),100===t?this.setState({rate:100}):(t=t>100*this.props.maxRate?100*this.props.maxRate:t,this.setState({rate:t}))},inc:function(t){this._init(),this.props.trickle&&this._autoInc(),t=t?this._format(t):100*this.props.incStep;var e=this.state.rate+t;this.set(e+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(t){return"number"==typeof t?t>1?100*this.pros.maxRate:100*t:"string"==typeof t?parseFloat(t)>100?100*this.props.maxRate:parseFloat(t):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var t,e;this.timer=setInterval(function(){return e=this._getRadomStep(),t=this.state.rate+e,console.log(e),t>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(t),void this.set(t+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(t,e){return t=t||100*this.props.minStep,e=e||100*this.props.maxStep,Math.random()*(e-t)+t},render:function(){var t={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},e={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:t},React.createElement("div",{className:"cu-progress-bar",style:e}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(t){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(t){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(t){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(t){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(t){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var t=this.refs.tip.getDOMNode(),e=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=t.offsetHeight,this.flag=1);var s=t.offsetWidth,a=t.offsetHeight,i=e.offsetWidth,r=e.offsetHeight;switch(this.state.position){case"left":t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px";break;case"right":t.style.top=-(a-r)/2+"px",t.style.left="100%";break;case"top":t.style.left=-(s-i)/2+"px",t.style.bottom="100%";break;case"bottom":t.style.left=-(s-i)/2+"px",t.style.top="100%";break;default:t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px"}t.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var t=this.refs.tip.getDOMNode().getBoundingClientRect().left,e=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>t&&t+e>s)return!0;if(0>t){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(t+e>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NQaWNrZXIvQWRkcmVzc1BpY2tlci5qc3giLCJBZGRyZXNzU2VhcmNoL0FkZHJlc3NTZWFyY2guanN4IiwiUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIuanN4IiwiVG9vbHRpcC9Ub29sdGlwLmpzeCJdLCJuYW1lcyI6WyJBZGRyZXNzTGlzdCIsIlJlYWN0IiwiY3JlYXRlQ2xhc3MiLCJkaXNwbGF5TmFtZSIsImdldEluaXRpYWxTdGF0ZSIsIm5vd0FkZHJlc3MiLCJ0aGlzIiwicHJvcHMiLCJsb2NhbEFkZHJlc3MiLCJpc1dyYXBTaG93IiwiaXNTZWNvbmRTaG93IiwiZ2V0RGVmYXVsdFByb3BzIiwic2Vjb25kQWRkcmVzc0RhdGEiLCJoYW5kbGVCdG5DbGljayIsInN0YXRlIiwic2V0U3RhdGUiLCJoYW5kbGVTZWxlY3RBZGRyZXNzIiwic2VsZWN0QWRkcmVzcyIsImtleSIsIm5hbWUiLCJkYXRhIiwiYWRkcmVzc0RhdGEiLCJzZWNvbmREYXRhIiwianNsZW5ndGgiLCJqczIiLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiQWRkcmVzc0Ryb3BCdXR0b24iLCJ0cmlhbmdsZVN0YXRlIiwib25DbGljayIsIkFkZHJlc3NXcmFwIiwiaGFuZGxlQ2xpY2siLCJjaGlsZHJlbiIsIkFkZHJlc3NTZWNvbmRXcmFwIiwiQWRkcmVzc0xvY2F0aW9uIiwiQWRkcmVzc1NlYXJjaElucHV0IiwiQWRkcmVzc0xpc3RXcmFwIiwiaGFuZGxlU2VhcmNoIiwiZXZlbnQiLCJjb250IiwidGFyZ2V0IiwidmFsdWUiLCJjb25zb2xlIiwibG9nIiwib25DaGFuZ2UiLCJyb3dOb2RlcyIsImkiLCJBZGRyZXNzTGlzdFJvdyIsImtleURhdGEiLCJlIiwiZ2V0QXR0cmlidXRlIiwiaW5uZXJIVE1MIiwiZGF0YU5vZGVzIiwiQWRkcmVzc1NlY29uZFJvdyIsImhyZWYiLCJTY3JvbGxCYXIiLCJBZGRyZXNzUGlja2VyIiwiY2l0eSIsImFkZHJlc3MiLCJjb21wb25lbnRXaWxsTW91bnQiLCJteUNpdHkiLCJCTWFwIiwiTG9jYWxDaXR5IiwiZ2V0IiwicmVzIiwiY3VycmVudENpdHkiLCJzZXRDaXR5IiwiYmluZCIsInNldEFkZHJlc3MiLCJhZCIsImN0IiwiYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlIiwic3R5bGUiLCJBZGRyZXNzSW5wdXQiLCJzZWFyY2hTdWJtaXRIYW5kbGVyIiwiQWRkcmVzc01hcCIsImFkZHJlc3NLZXl3b3JkIiwiQWRkcmVzc1NlYXJjaCIsImlucHV0V2lkdGgiLCJpbnB1dFRpcCIsInNlYXJjaEJ0blRleHQiLCJrZXl3b3JkIiwic2VhcmNoU3VibWl0IiwiZ2V0RE9NTm9kZSIsImNoZWNrRW50ZXIiLCJrZXlDb2RlIiwiY29tcG9uZW50RGlkTW91bnQiLCJBdXRvY29tcGxldGUiLCJpbnB1dCIsImxvY2F0aW9uIiwia2V5d29yZFN0eWxlIiwid2lkdGgiLCJpZCIsIm9uS2V5VXAiLCJwbGFjZWhvbGRlciIsIm1hcExvY2FsT2JqIiwiaXRlbXNOdW1iZXIiLCJpdGVtc0xpc3QiLCJpdGVtQWN0aXZlIiwibWFwU2VhcmNoZ2VvdGFibGVJZCIsIm1hcFNlYXJjaFRhZ3MiLCJtYXBTZWFyY2hGaWx0ZXIiLCJtYXAiLCJNYXAiLCJlbmFibGVNYXBDbGljayIsImNlbnRlckFuZFpvb20iLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwiZ2V0TmVhcmJ5IiwicGFnZSIsIm15R2VvIiwiR2VvY29kZXIiLCJfdGhpcyIsImdldFBvaW50IiwicG9pbnQiLCJyZXF3ZXN0IiwidXJsIiwidHlwZSIsImFrIiwiZ2VvdGFibGVfaWQiLCJsbmciLCJsYXQiLCJyYWRpdXMiLCJwYWdlX2luZGV4IiwicGFnZV9zaXplIiwianNvbnBDYWxsYmFjayIsInN1Y2Nlc3MiLCJ0b3RhbCIsImNvbnRlbnRzIiwic2hvd05lYXJieSIsImFsZXJ0IiwiayIsIlBvaW50IiwibWFya2VyIiwiTWFya2VyIiwibGFiZWwiLCJMYWJlbCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhcnNlSW50Iiwib2Zmc2V0IiwiU2l6ZSIsInNldFN0eWxlIiwiYm9yZGVyIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJzZXRMYWJlbCIsInNldFRpdGxlIiwidGl0bGUiLCJhZGRFdmVudExpc3RlbmVyIiwic2hvd0luZm9XaW5kb3ciLCJnZXRMYWJlbCIsImNvbnRlbnQiLCJjaGFyQ29kZUF0IiwiYWRkT3ZlcmxheSIsImxlbmd0aCIsImluZGV4IiwiaXRlbUluZm8iLCJ0ZWwiLCJpbmZvV2luZG93IiwiSW5mb1dpbmRvdyIsInBhbmVsIiwiZW5hYmxlQXV0b1BhbiIsIm9wZW5JbmZvV2luZG93IiwiY2xpY2tNYXBJdGVtIiwiZWxlIiwiZWxlQ2xhc3MiLCJpdGVtSW5kZXgiLCJwYXJlbnROb2RlIiwibWFwSXRlbUFjdGllU3R5bGUiLCJkaXNwbGF5IiwiaXRlbSIsImRhdGEta2V5IiwiU3Bpbm5lciIsIlByb2dyZXNzQmFyIiwicmF0ZSIsImRvbmUiLCJzcGVlZCIsInNwaW5uZXIiLCJlYXNpbmciLCJtYXhSYXRlIiwiaW5jU3RlcCIsIm1pblN0ZXAiLCJtYXhTdGVwIiwidHJpY2tsZSIsInRyaWNrbGVTcGVlZCIsInNldFRyaWNrbGUiLCJzdGFydCIsIl9pbml0Iiwic2V0IiwiX2F1dG9JbmMiLCJuIiwiX2Zvcm1hdCIsImluYyIsIm5ld1JhdGUiLCJzZXRUaW1lb3V0IiwicHJvcyIsInBhcnNlRmxvYXQiLCJ0aW1lciIsIl9jbGVhckludGVydmFsIiwicmFuZG9tIiwic2V0SW50ZXJ2YWwiLCJfZ2V0UmFkb21TdGVwIiwiY2xlYXJJbnRlcnZhbCIsIm1pbiIsIm1heCIsIk1hdGgiLCJwcm9ncmVzc1N0eWxlIiwib3BhY2l0eSIsInRyYW5zaXRpb24iLCJiYXJTdHlsZSIsIlRvb2xUaXAiLCJ0aXAiLCJ0cmlnZ2VyIiwiZGVsYXkiLCJob3ZlcmFibGUiLCJwb3NpdGlvbiIsImFIcmVmIiwiaXNBY3RpdmUiLCJpc09uVGlwIiwidGlwSGVpZ2h0IiwiaGFuZGxlTW91c2VPdmVyIiwiaGFuZGxlTW91c2VPdXQiLCJoYW5kbGVUaXBNb3VzZU92ZXIiLCJoYW5kbGVUaXBNb3VzZU91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNldFRpcFBvc2l0aW9uIiwicmVmcyIsImZsYWciLCJvZmZzZXRIZWlnaHQiLCJ0aXBXaWR0aCIsIm9mZnNldFdpZHRoIiwiY29udFdpZHRoIiwiY29udEhlaWdodCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJoZWlnaHQiLCJwcmV2ZXJ0VGlwT3ZlcmZsb3ciLCJ0aXBYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYXZhaWxXaWR0aCIsImRvY3VtZW50IiwiYm9keSIsImNsaWVudFdpZHRoIiwiZ2V0VGlwU3R5bGUiLCJyZWYiLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VPdXQiXSwibWFwcGluZ3MiOiJBQUNBLEdBQUlBLGFBQUFDLE1BQUFDLGFBQWlDQyxZQUFBLGNBQ2pDQyxnQkFBaUIsV0FDYixPQUNJQyxXQUFZQyxLQUFLQyxNQUFNQyxhQUN2QkMsWUFBWSxFQUNaQyxjQUFjLElBR3RCQyxnQkFBaUIsV0FDYixPQUNJSCxhQUFjLE9BR3RCSSxxQkFHQUMsZUFBZ0IsV0FDUlAsS0FBS1EsTUFBTUwsV0FJWEgsS0FBS1MsVUFBVU4sWUFBWSxLQUgzQkgsS0FBS1MsVUFBVU4sWUFBWSxJQUMzQkgsS0FBS1MsVUFBVUwsY0FBYyxNQUtyQ00sb0JBQXFCLFNBQVNDLEVBQWdCQyxFQUFNQyxHQUVoRCxHQURBYixLQUFLUyxVQUFVVixXQUFZWSxJQUN4QkMsRUFBSyxDQUNKLEdBQUlFLEdBQU9kLEtBQUtDLE1BQU1jLFlBQVlILEdBQzlCSSxFQUFhRixFQUFLRCxHQUNsQkksRUFBUyxDQUNULEtBQUksR0FBSUMsS0FBT0YsR0FDZkMsR0FFSixPQUFJQSxJQUlKakIsS0FBS1MsVUFBVUwsY0FBYyxTQUM3QkosS0FBS00sa0JBQW9CVSxRQUpyQmhCLE1BQUtTLFVBQVVOLFlBQVks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QyxNQUFBeUIsY0FBQSxPQUFJOE4sWUFBQ2xQLEtBQWEwTixtQkFBdUJ5QixXQUFFblAsS0FBWTJOLGtCQUFLdE0sVUFBbUIsTUFBVTROLElBQUEsTUFBUzlLLE1BQUNuRSxLQUFNZ1AsZUFBWWhQLEtBQVdDLE1BQUs4TSxNQUk3SCxLQUFqQi9NLEtBQUtDLE1BQU0rRyxLQUVOckgsTUFBQXlCLGNBQUEsUUFBS0MsVUFBQyxXQUFXckIsS0FBV1EsTUFBSzJNLFVBQzdCeE4sTUFBQXlCLGNBQUEsS0FBRTZCLEtBQUNqRCxLQUFNQyxNQUFLbU4sTUFBVzZCLElBQUUsT0FBSUMsWUFBT2xQLEtBQVd3TixnQkFBTzJCLFdBQWlCblAsS0FBQXlOLGVBQWlCak0sUUFBZ0J4QixLQUFBMEIsYUFBYzFCLEtBQUFDLE1BQWMwQixVQUN0SWhDLE1BQUF5QixjQUFBLE9BQUk4TixZQUFDbFAsS0FBYTBOLG1CQUF1QnlCLFdBQUVuUCxLQUFZMk4sa0JBQUt0TSxVQUFtQixNQUFVNE4sSUFBQSxNQUFTOUssTUFBQ25FLEtBQU1nUCxlQUFZaFAsS0FBV0MsTUFBSzhNLE1BSTdILFVBQWpCL00sS0FBS0MsTUFBTStHLEtBRU5ySCxNQUFBeUIsY0FBQSxRQUFLQyxVQUFDLFdBQVdyQixLQUFXUSxNQUFLMk0sVUFDN0J4TixNQUFBeUIsY0FBQSxVQUFPNk4sSUFBQyxPQUFJQyxZQUFPbFAsS0FBYXdOLGdCQUFLMkIsV0FBaUJuUCxLQUFVeU4sZUFBT2pNLFFBQWdCeEIsS0FBQTBCLGFBQWMxQixLQUFhQyxNQUFDMEIsVUFDbkhoQyxNQUFBeUIsY0FBQSxPQUFJOE4sWUFBQ2xQLEtBQWEwTixtQkFBdUJ5QixXQUFFblAsS0FBWTJOLGtCQUFLdE0sVUFBbUIsTUFBVTROLElBQUEsTUFBUzlLLE1BQUNuRSxLQUFNZ1AsZUFBWWhQLEtBQVdDLE1BQUs4TSxNQUpqSiIsImZpbGUiOiJDaGFybS1VSS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIOaVtOS9k+e7hOS7tlxudmFyIEFkZHJlc3NMaXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBub3dBZGRyZXNzOiB0aGlzLnByb3BzLmxvY2FsQWRkcmVzcyxcbiAgICAgICAgICAgIGlzV3JhcFNob3c6IGZhbHNlLFxuICAgICAgICAgICAgaXNTZWNvbmRTaG93OiBmYWxzZVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxvY2FsQWRkcmVzczogXCLopb/lrolcIixcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHNlY29uZEFkZHJlc3NEYXRhOiB7XG5cbiAgICB9LFxuICAgIGhhbmRsZUJ0bkNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYoIXRoaXMuc3RhdGUuaXNXcmFwU2hvdykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNXcmFwU2hvdzogdHJ1ZX0pO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNTZWNvbmRTaG93OiBmYWxzZX0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNXcmFwU2hvdzogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlU2VsZWN0QWRkcmVzczogZnVuY3Rpb24oc2VsZWN0QWRkcmVzcyAsIGtleSAsIG5hbWUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bm93QWRkcmVzczogc2VsZWN0QWRkcmVzc30pO1xuICAgICAgICBpZihrZXkpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5wcm9wcy5hZGRyZXNzRGF0YVtrZXldO1xuICAgICAgICAgICAgdmFyIHNlY29uZERhdGEgPSBkYXRhW25hbWVdO1xuICAgICAgICAgICAgdmFyIGpzbGVuZ3RoPTA7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqczIgaW4gc2Vjb25kRGF0YSl7XG4gICAgICAgICAgICAgICAganNsZW5ndGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKCFqc2xlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzV3JhcFNob3c6IGZhbHNlfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzU2Vjb25kU2hvdzogdHJ1ZX0pO1xuICAgICAgICAgICAgdGhpcy5zZWNvbmRBZGRyZXNzRGF0YSA9IHNlY29uZERhdGE7XG4gICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzV3JhcFNob3c6IGZhbHNlfSk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFwiPlxuICAgICAgICAgICAgICAgIDxBZGRyZXNzRHJvcEJ1dHRvbiB0cmlhbmdsZVN0YXRlPXt0aGlzLnN0YXRlLmlzV3JhcFNob3d9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQnRuQ2xpY2t9PlxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5ub3dBZGRyZXNzfVxuICAgICAgICAgICAgICAgIDwvQWRkcmVzc0Ryb3BCdXR0b24+XG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNXcmFwU2hvdz9cbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NXcmFwIGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfSBsb2NhbEFkZHJlc3M9e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IHNlY29uZEFkZHJlc3NEYXRhPXt0aGlzLnNlY29uZEFkZHJlc3NEYXRhfSBpc1NlY29uZFNob3c9e3RoaXMuc3RhdGUuaXNTZWNvbmRTaG93fS8+XG4gICAgICAgICAgICAgICAgICAgIDpudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cbi8vIOS4i+aLieaMiemSrlxudmFyIEFkZHJlc3NEcm9wQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrKCk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJBZGRyZXNzRHJvcEJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9PlxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0cmlhbmdsZSBcIit0aGlzLnByb3BzLnRyaWFuZ2xlU3RhdGV9Pjwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDlnLDlnYDmk43kvZzmoYblrrnlmahcbnZhciBBZGRyZXNzV3JhcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLnByb3BzLmlzU2Vjb25kU2hvdykge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NXcmFwXCI+XG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzU2Vjb25kV3JhcCBzZWNvbmRBZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5zZWNvbmRBZGRyZXNzRGF0YX0vPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzV3JhcFwiPlxuICAgICAgICAgICAgICAgIDxBZGRyZXNzTG9jYXRpb24gbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSAvPlxuICAgICAgICAgICAgICAgIDxBZGRyZXNzU2VhcmNoSW5wdXQgaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSAvPlxuICAgICAgICAgICAgICAgIDxBZGRyZXNzTGlzdFdyYXAgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDlrprkvY3lvZPliY3lnLDlnYBcbnZhciBBZGRyZXNzTG9jYXRpb24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICB9O1xuICAgIH0sXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3ModGhpcy5wcm9wcy5sb2NhbEFkZHJlc3MpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAg54yc5L2g5Zyo77yaPHNwYW4gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDlnLDlnYDmkJzntKJcbnZhciBBZGRyZXNzU2VhcmNoSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgaGFuZGxlU2VhcmNoOiBmdW5jdGlvbihldmVudCkge1xuICAgICAgICB2YXIgY29udCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgY29uc29sZS5sb2coY29udCk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzU2VhcmNoXCI+XG4gICAgICAgICAgICAgICAg5pCc57Si77yaXG4gICAgICAgICAgICAgICAgPGlucHV0IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVNlYXJjaH0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDlnLDlnYDliJfooajlrrnlmahcbnZhciBBZGRyZXNzTGlzdFdyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFkZHJlc3NEYXRhID0gdGhpcy5wcm9wcy5hZGRyZXNzRGF0YTtcbiAgICAgICAgdmFyIGhhbmRsZVNlbGVjdEFkZHJlc3MgPSB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3M7XG4gICAgICAgIHZhciByb3dOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBjb250ID0gW107XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29udFtpXSAgPSA8QWRkcmVzc0xpc3RSb3cga2V5RGF0YT17a2V5fSBkYXRhPXtkYXRhW2tleV19IGhhbmRsZVNlbGVjdEFkZHJlc3M9e2hhbmRsZVNlbGVjdEFkZHJlc3N9IC8+O1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb250O1xuICAgICAgICB9KGFkZHJlc3NEYXRhKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RXcmFwXCI+XG4gICAgICAgICAgICAgICAge3Jvd05vZGVzfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cbi8vIOWcsOWdgOWIl+ihqOihjFxudmFyIEFkZHJlc3NMaXN0Um93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBrZXlEYXRhID0gdGhpcy5wcm9wcy5rZXlEYXRhO1xuICAgICAgICB2YXIgaSA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YScpO1xuICAgICAgICB2YXIgbmFtZSA9IGUudGFyZ2V0LmlubmVySFRNTDtcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzKG5hbWUgLCBrZXlEYXRhICwgaSk7XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrO1xuICAgICAgICB2YXIgZGF0YU5vZGVzID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgdmFyIGNvbnQgPSBbXTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb250W2ldICA9IDxzcGFuPjxzcGFuIGRhdGE9e2tleX0ga2V5PXtpfSAgb25DbGljaz17aGFuZGxlQ2xpY2t9ID57a2V5fTwvc3Bhbj48L3NwYW4+O1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb250O1xuICAgICAgICB9KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0Um93XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwia2V5RGF0YVwiPnt0aGlzLnByb3BzLmtleURhdGF9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRhdGFXcmFwXCI+e2RhdGFOb2Rlc308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5LqM57qn5Zyw5Z2A5YiX6KGo5a655ZmoXG52YXIgQWRkcmVzc1NlY29uZFdyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHNlY29uZEFkZHJlc3NEYXRhID0gdGhpcy5wcm9wcy5zZWNvbmRBZGRyZXNzRGF0YTtcbiAgICAgICAgLy8gdmFyIGhhbmRsZVNlbGVjdEFkZHJlc3MgPSB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3M7XG4gICAgICAgIHZhciByb3dOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBjb250ID0gW107XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29udFtpXSAgPSA8QWRkcmVzc1NlY29uZFJvdyBrZXlEYXRhPXtrZXl9IGRhdGE9e2RhdGFba2V5XX0gLz47XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XG4gICAgICAgIH0oc2Vjb25kQWRkcmVzc0RhdGEpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzU2Vjb25kV3JhcFwiPlxuICAgICAgICAgICAgICAgIHtyb3dOb2Rlc31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDkuoznuqflnLDlnYDliJfooajooYxcbnZhciBBZGRyZXNzU2Vjb25kUm93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7IH07XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZGF0YU5vZGVzID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgdmFyIGNvbnQgPSBbXTtcbiAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjb250W2ldICA9IDxzcGFuPjxhIGRhdGE9e2tleX0ga2V5PXtpfSBocmVmPXtkYXRhW2tleV19ID57a2V5fTwvYT48L3NwYW4+O1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb250O1xuICAgICAgICB9KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0Um93XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwia2V5RGF0YVwiPnt0aGlzLnByb3BzLmtleURhdGF9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRhdGFXcmFwXCI+e2RhdGFOb2Rlc308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5rua5Yqo5p2h57uE5Lu2XG52YXIgU2Nyb2xsQmFyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gIENvbXBvbmVudDogQWRkcmVzc1BpY2tlclxuLy9cbi8vICBJbmNsdWRlOiBBZGRyZXNzTGlzdCBBZGRyZXNzU2VhcmNoXG4vL1xuLy8gIERlcGVuZGVuY2U6IHJlcXdlc3QuanNcbi8vXG4vLyAgRGVzY3JpcHRpb246ICBKc3ggZm9yIEFkZHJlc3NQaWNrZXJcbi8vXG4vLyAgVE9ETzogW0BUb25nY2hlbmdRaXVdIEFkZHJlc3NMaXN0IOabtOaNouWfjuW4guWQjuiwg+eUqCBzZXRDaXR5IOiuvue9ruWfjuW4glxuLy8gICAgICAgICAg5L2g5Y+v5Lul5qC55o2uIEFkZHJlc3NQaWNrZXIg55qEIHN0YXRlLmFkZHJlc3Mg5Yik5pat5piv5ZCm5bey57uP6L+b6KGM5LqG5pCc57SiXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxudmFyIEFkZHJlc3NQaWNrZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCIsXG4gICAgICBhZGRyZXNzOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge31cbiAgfSxcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbXlDaXR5ID0gbmV3IEJNYXAuTG9jYWxDaXR5KCk7XG4gICAgbXlDaXR5XG4gICAgICAuZ2V0KGZ1bmN0aW9uKHJlcykge1xuICAgICAgICB2YXIgY3VycmVudENpdHkgPSByZXMubmFtZTtcbiAgICAgICAgdGhpcy5zZXRDaXR5KGN1cnJlbnRDaXR5KTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gIH0sXG4gIHNldEFkZHJlc3M6IGZ1bmN0aW9uKGFkKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhZGRyZXNzOiBhZFxuICAgIH0pO1xuICB9LFxuICBzZXRDaXR5OiBmdW5jdGlvbihjdCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2l0eTogY3RcbiAgICB9KTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlID0gdGhpcy5zdGF0ZS5hZGRyZXNzXG4gICAgICA/IHRoaXMucHJvcHMuYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlXG4gICAgICA6IHt9O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtcGlja2VyXCIgc3R5bGU9e2FkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZX0+XG4gICAgICAgIDxBZGRyZXNzTGlzdCBsb2NhbEFkZHJlc3M9e3RoaXMuc3RhdGUuY2l0eX0vPlxuICAgICAgICA8QWRkcmVzc0lucHV0IGNpdHk9e3RoaXMuc3RhdGUuY2l0eX0gc2VhcmNoU3VibWl0SGFuZGxlcj17dGhpcy5zZXRBZGRyZXNzfS8+XG4gICAgICAgIDxBZGRyZXNzTWFwIGFkZHJlc3NLZXl3b3JkPXt0aGlzLnN0YXRlLmFkZHJlc3N9IGNpdHk9e3RoaXMucHJvcHMuY2l0eX0vPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCdcblxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAgQ29tcG9uZW50OiBBZGRyZXNzU2VhcmNoXG4vL1xuLy8gIEluY2x1ZGU6IEFkZHJlc3NJbnB1dCBBZGRyZXNzTWFwXG4vL1xuLy8gIERlcGVuZGVuY2U6IHJlcXdlc3QuanNcbi8vXG4vLyAgRGVzY3JpcHRpb246ICBKc3ggZm9yIEFkZHJlc3NTZWFyY2hcbi8vXG4vLyAgVE9ETzogW2FkZF0g5aKe5Yqg5ZCE6aG55Y+C5pWwXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyogQWRkcmVzc1NlYXJjaCAqL1xudmFyIEFkZHJlc3NTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFkZHJlc3M6IG51bGxcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXG4gICAgICBpbnB1dFRpcDogXCLovpPlhaXmg7PopoHmkJzntKLnmoTlnLDlnYBcIixcbiAgICAgIHNlYXJjaEJ0blRleHQ6IFwi5pCc57SiXCIsXG4gICAgICBjaXR5OiBcIuWMl+S6rFwiXG4gICAgfVxuICB9LFxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBteUNpdHkgPSBuZXcgQk1hcC5Mb2NhbENpdHkoKTtcbiAgICBteUNpdHlcbiAgICAgIC5nZXQoZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIHZhciBjdXJyZW50Q2l0eSA9IHJlcy5uYW1lO1xuICAgICAgICB0aGlzLnNldENpdHkoY3VycmVudENpdHkpO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgfSxcbiAgc2V0QWRkcmVzczogZnVuY3Rpb24oYWQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFkZHJlc3M6IGFkXG4gICAgfSk7XG4gIH0sXG4gIHNldENpdHk6IGZ1bmN0aW9uKGN0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaXR5OiBjdFxuICAgIH0pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3Mtc2VhcmNoXCI+XG4gICAgICAgIDxBZGRyZXNzSW5wdXQgY2l0eT17dGhpcy5wcm9wcy5jaXR5fSBpbnB1dFRpcD17dGhpcy5wcm9wcy5pbnB1dFRpcH0gaW5wdXRXaWR0aD17dGhpcy5wcm9wcy5pbnB1dFdpZHRofSBzZWFyY2hCdG5UZXh0PXt0aGlzLnByb3BzLnNlYXJjaEJ0blRleHR9IHNlYXJjaFN1Ym1pdEhhbmRsZXI9e3RoaXMuc2V0QWRkcmVzc30vPlxuICAgICAgICA8QWRkcmVzc01hcCBhZGRyZXNzS2V5d29yZD17dGhpcy5zdGF0ZS5hZGRyZXNzfSBjaXR5PXt0aGlzLnByb3BzLmNpdHl9Lz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuXG4vKiBBZGRyZXNzSW5wdXQgKi9cbnZhciBBZGRyZXNzSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleXdvcmQ6IG51bGxcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXG4gICAgICBpbnB1dFRpcDogXCLovpPlhaXmg7PopoHmkJzntKLnmoTlnLDlnYBcIixcbiAgICAgIHNlYXJjaEJ0blRleHQ6IFwi5pCc57SiXCIsXG4gICAgICBjaXR5OiBcIuWMl+S6rFwiXG4gICAgfVxuICB9LFxuICBzZWFyY2hTdWJtaXQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBrZXl3b3JkID0gdGhpcy5nZXRET01Ob2RlKClcbiAgICAgIC5jaGlsZHJlblswXVxuICAgICAgLnZhbHVlO1xuICAgIHRoaXMucHJvcHNcbiAgICAgIC5zZWFyY2hTdWJtaXRIYW5kbGVyKGtleXdvcmQpO1xuICB9LFxuICBjaGVja0VudGVyOiBmdW5jdGlvbihlKSB7XG4gICAgKGUua2V5Q29kZSA9PT0gMTMpICYmIHRoaXMuc2VhcmNoU3VibWl0KCk7XG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbWFwQXV0b0NvbXBsZXRlID0gbmV3IEJNYXAuQXV0b2NvbXBsZXRlKHtcbiAgICAgIFwiaW5wdXRcIjogXCJfYWRkcmVzc1NlYXJjaEtleXdvcmRcIixcbiAgICAgIFwibG9jYXRpb25cIjogdGhpcy5wcm9wcy5jaXR5XG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGtleXdvcmRTdHlsZSA9IHtcbiAgICAgIHdpZHRoOiB0aGlzLnByb3BzLmlucHV0V2lkdGhcbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtaW5wdXRcIj5cbiAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImlucHV0LWtleXdvcmRcIiBpZD1cIl9hZGRyZXNzU2VhcmNoS2V5d29yZFwiIG9uS2V5VXA9e3RoaXMuY2hlY2tFbnRlcn0gcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMuaW5wdXRUaXB9IHN0eWxlPXtrZXl3b3JkU3R5bGV9PjwvaW5wdXQ+XG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiaW5wdXQtY29tbWl0XCIgb25DbGljaz17dGhpcy5zZWFyY2hTdWJtaXR9Pnt0aGlzLnByb3BzLnNlYXJjaEJ0blRleHR9PC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59KTtcblxuLyogQWRkcmVzc01hcCAqL1xudmFyIEFkZHJlc3NNYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hcExvY2FsT2JqOiBudWxsLFxuICAgICAgaXRlbXNOdW1iZXI6IDAsXG4gICAgICBpdGVtc0xpc3Q6IFtdLFxuICAgICAgaXRlbUFjdGl2ZTogMFxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1hcFNlYXJjaGdlb3RhYmxlSWQ6IDEyMTc2MyxcbiAgICAgIG1hcFNlYXJjaFRhZ3M6IFwiXCIsXG4gICAgICBtYXBTZWFyY2hGaWx0ZXI6IFwiXCJcbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm1hcCA9IG5ldyBCTWFwLk1hcChcIl9hZGRyZXNzTWFwTWFpblwiLCB7XG4gICAgICBlbmFibGVNYXBDbGljazogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLm1hcFxuICAgICAgLmNlbnRlckFuZFpvb20odGhpcy5wcm9wcy5jaXR5LCAxMik7XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uKG5leHRQcm9wcykge1xuICAgIG5leHRQcm9wcy5hZGRyZXNzS2V5d29yZCAmJiB0aGlzLmdldE5lYXJieShuZXh0UHJvcHMuYWRkcmVzc0tleXdvcmQpO1xuICB9LFxuICBnZXROZWFyYnk6IGZ1bmN0aW9uKGtleXdvcmQsIHBhZ2UpIHtcbiAgICAvLyDlnLDlnYDop6PmnpDojrflj5bnu4/nuqzluqZcbiAgICB2YXIgbXlHZW8gPSBuZXcgQk1hcC5HZW9jb2RlcigpO1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgbXlHZW9cbiAgICAgIC5nZXRQb2ludChrZXl3b3JkLCBmdW5jdGlvbihwb2ludCkgeyAvLyDop6PmnpDmiJDlip/lkI7nmoTlm57osIMg5pCc57Si5L+h5oGvXG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgIHJlcXdlc3Qoe1xuICAgICAgICAgICAgdXJsOiAnaHR0cDovL2FwaS5tYXAuYmFpZHUuY29tL2dlb3NlYXJjaC92My9uZWFyYnknLFxuICAgICAgICAgICAgdHlwZTogJ2pzb25wJyxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgYWs6ICdzZHA5cUNiVG9TN0UyM25EUnhhQUF3YmgnLFxuICAgICAgICAgICAgICBnZW90YWJsZV9pZDogMTIxNzYzLFxuICAgICAgICAgICAgICBsb2NhdGlvbjogcG9pbnQubG5nICsgJywnICsgcG9pbnQubGF0LFxuICAgICAgICAgICAgICByYWRpdXM6IDEwMDAwLFxuICAgICAgICAgICAgICBwYWdlX2luZGV4OiBwYWdlIHx8IDAsXG4gICAgICAgICAgICAgIHBhZ2Vfc2l6ZTogNTBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBqc29ucENhbGxiYWNrOiAnY2FsbGJhY2snLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpdGVtc051bWJlcjogcmVzLnRvdGFsLFxuICAgICAgICAgICAgICAgIGl0ZW1zTGlzdDogcmVzLmNvbnRlbnRzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBfdGhpcy5zaG93TmVhcmJ5KCk7XG4gICAgICAgICAgICAgIF90aGlzLm1hcFxuICAgICAgICAgICAgICAgIC5jZW50ZXJBbmRab29tKF90aGlzLnByb3BzLmFkZHJlc3NLZXl3b3JkLCAxMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydChcIuacquaJvuWIsOivpeWMuuWfn+S/oeaBr1wiKTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLmNpdHkpO1xuICB9LFxuICBzaG93TmVhcmJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGZvciAodmFyIGsgaW4gdGhpcy5zdGF0ZS5pdGVtc0xpc3QpIHtcbiAgICAgIHZhciBwb2ludCA9IG5ldyBCTWFwLlBvaW50KHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLmxvY2F0aW9uWzBdLCB0aGlzLnN0YXRlLml0ZW1zTGlzdFtrXS5sb2NhdGlvblsxXSk7XG4gICAgICB2YXIgbWFya2VyID0gbmV3IEJNYXAuTWFya2VyKHBvaW50KTtcbiAgICAgIHZhciBsYWJlbCA9IG5ldyBCTWFwLkxhYmVsKFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBwYXJzZUludChrKSksIHtcbiAgICAgICAgb2Zmc2V0OiBuZXcgQk1hcC5TaXplKDQsIDIpXG4gICAgICB9KTtcbiAgICAgIGxhYmVsLnNldFN0eWxlKHtcbiAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgY29sb3I6ICcjRkFGQUZBJ1xuICAgICAgfSk7XG4gICAgICBtYXJrZXIuc2V0TGFiZWwobGFiZWwpO1xuICAgICAgbWFya2VyLnNldFRpdGxlKHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLnRpdGxlKTtcbiAgICAgIG1hcmtlclxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgX3RoaXMuc2hvd0luZm9XaW5kb3codGhpcy5nZXRMYWJlbCgpLmNvbnRlbnQuY2hhckNvZGVBdCgwKSAtIDY1KTtcbiAgICAgICAgfSk7XG4gICAgICB0aGlzLm1hcFxuICAgICAgICAuYWRkT3ZlcmxheShtYXJrZXIpO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLml0ZW1zTGlzdC5sZW5ndGggJiYgdGhpcy5zaG93SW5mb1dpbmRvdygwKTtcbiAgfSxcbiAgc2hvd0luZm9XaW5kb3c6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKGluZGV4ICE9PSB0aGlzLnN0YXRlLml0ZW1BY3RpdmUgfHwgMSkge1xuICAgICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQodGhpcy5zdGF0ZS5pdGVtc0xpc3RbaW5kZXhdLmxvY2F0aW9uWzBdLCB0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF0ubG9jYXRpb25bMV0pO1xuICAgICAgdmFyIGl0ZW1JbmZvID0gdGhpcy5zdGF0ZS5pdGVtc0xpc3RbaW5kZXhdO1xuICAgICAgdmFyIHRpdGxlID0gaXRlbUluZm8udGl0bGU7XG4gICAgICB2YXIgYWRkcmVzcyA9IGl0ZW1JbmZvLmFkZHJlc3M7XG4gICAgICB2YXIgdGVsID0gaXRlbUluZm8udGVsO1xuICAgICAgdmFyIGNvbnRlbnQgPSAnPHAgY2xhc3M9XCJtYXAtaW5mby13aW5kb3dcIj7lnLDlnYDvvJonICsgYWRkcmVzcyArICc8YnV0dG9uIGNsYXNzPVwibWFwLWluZm8tYnRuXCI+6L+b5YWl5L2T6aqM5bqXPC9idXR0b24+JyArICc8L3A+JztcbiAgICAgIHZhciBpbmZvV2luZG93ID0gbmV3IEJNYXAuSW5mb1dpbmRvdyhjb250ZW50LCB7XG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgd2lkdGg6IDI5MCxcbiAgICAgICAgcGFuZWw6IFwicGFuZWxcIixcbiAgICAgICAgZW5hYmxlQXV0b1BhbjogdHJ1ZSxcbiAgICAgICAgb2Zmc2V0OiBuZXcgQk1hcC5TaXplKDAsIC0yNSlcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGl0ZW1BY3RpdmU6ICsgaW5kZXhcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tYXBcbiAgICAgICAgLm9wZW5JbmZvV2luZG93KGluZm9XaW5kb3csIHBvaW50KTtcbiAgICB9XG4gIH0sXG4gIGNsaWNrTWFwSXRlbTogZnVuY3Rpb24oZSkge1xuICAgIHZhciBlbGUgPSBlLnRhcmdldDtcbiAgICB2YXIgZWxlQ2xhc3MgPSBlbGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xuICAgIHZhciBpdGVtSW5kZXggPSAwO1xuICAgIGlmIChlbGVDbGFzcyA9PT0gXCJtYXAtaXRlbVwiKSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH0gZWxzZSBpZiAoZWxlQ2xhc3MgPT09IFwibWFwLWl0ZW0tbWFya1wiIHx8IGVsZUNsYXNzID09PSBcIm1hcC1pdGVtLW1haW5cIikge1xuICAgICAgaXRlbUluZGV4ID0gZWxlLnBhcmVudE5vZGVcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcbiAgICB9IGVsc2UgaWYgKCFlbGVDbGFzcykge1xuICAgICAgaXRlbUluZGV4ID0gZWxlLnBhcmVudE5vZGVcbiAgICAgICAgLnBhcmVudE5vZGVcbiAgICAgICAgLnBhcmVudE5vZGVcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbUluZGV4ID0gZWxlLnBhcmVudE5vZGVcbiAgICAgICAgLnBhcmVudE5vZGVcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcbiAgICB9XG4gICAgdGhpcy5zaG93SW5mb1dpbmRvdyhpdGVtSW5kZXgpO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtYXBJdGVtQWN0aWVTdHlsZSA9IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRjBGMEYwXCJcbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtbWFwXCIgc3R5bGU9e3tcbiAgICAgICAgZGlzcGxheTogdGhpcy5wcm9wcy5hZGRyZXNzS2V5d29yZFxuICAgICAgICAgID8gXCJibG9ja1wiXG4gICAgICAgICAgOiBcIm5vbmVcIlxuICAgICAgfX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdi10aXRsZVwiPlxuICAgICAgICAgICAg6ZmE6L+R5pyJXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXAtbmF2LW51bWJlclwiPlxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pdGVtc051bWJlcn1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIOWutuS9k+mqjOW6l1xuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJtYXAtaXRlbXNcIiBpZD1cIl9hZGRyZXNzTWFwSXRlbXNcIiBvbkNsaWNrPXt0aGlzLmNsaWNrTWFwSXRlbX0+XG4gICAgICAgICAgICB7dGhpc1xuICAgICAgICAgICAgICAuc3RhdGVcbiAgICAgICAgICAgICAgLml0ZW1zTGlzdFxuICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJtYXAtaXRlbVwiIGRhdGEta2V5PXtpfSBrZXk9e2l9IHN0eWxlPXsoaSA9PT0gdGhpcy5zdGF0ZS5pdGVtQWN0aXZlKVxuICAgICAgICAgICAgICAgICAgICA/IG1hcEl0ZW1BY3RpZVN0eWxlXG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICB7fX0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hcC1pdGVtLW1hcmtcIiBzdHlsZT17KGkgPT09IHRoaXMuc3RhdGUuaXRlbUFjdGl2ZSkgPyB7YmFja2dyb3VuZENvbG9yOiBcIiMxYmJjOWJcIn0gOiB7fX0+e1N0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tbWFpblwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tdGl0bGVcIj57aXRlbS50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLWFkZHJlc3NcIj7lnLDlnYDvvJp7aXRlbS5hZGRyZXNzfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tdGVsXCI+55S16K+d77yae2l0ZW0udGVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvbGk+O1xuICAgICAgICAgICAgICB9LmJpbmQodGhpcykpfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1tYWluXCIgaWQ9XCJfYWRkcmVzc01hcE1haW5cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gIENvbXBvbmVudDogUHJvZ3Jlc3NCYXJcbi8vXG4vLyAgSW5jbHVkZTogU3Bpbm5lclxuLy9cbi8vICBEZXNjcmlwdGlvbjogSnN4IGZvciBQcm9ncmVzc0JhclxuLy9cbi8vICBUT0RPOiBbZml4XSDkv67mraPliJ3lp4vml7YgdHJhbnNpdGlvbiDkuI3nlJ/mlYjnmoTpl67pophcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKiBTcGlubmVyICovXG52YXIgU3Bpbm5lciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1zcGlubmVyXCI+PC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIFByb2dyZXNzQmFyICovXG52YXIgUHJvZ3Jlc3NCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJhdGU6IG51bGwsXG4gICAgICBkb25lOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNwZWVkOiAwLjYsICAvLyDliqjnlLvpgJ/luqZcbiAgICAgIHNwaW5uZXI6IHRydWUsICAvLyDmmK/lkKbmnInlnIjlnIhcbiAgICAgIGVhc2luZzogJ2Vhc2UnLCAgLy8g5Yqo55S757yT5Yqo5puy57q/XG4gICAgICBtYXhSYXRlOiAwLjk2LCAgLy8g6L+b5bqm5p2h5pyA5aSn5a695bqmXG4gICAgICBpbmNTdGVwOiAwLjA0LCAgLy8gaW5jIOWinumVv+atpeW5hVxuICAgICAgbWluU3RlcDogMC4wMDUsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlsI/mraXluYVcbiAgICAgIG1heFN0ZXA6IDAuMDMsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlpKfmraXluYVcbiAgICAgIHRyaWNrbGU6IHRydWUsICAvLyDmmK/lkKboh6rliqjlop7plb9cbiAgICAgIHRyaWNrbGVTcGVlZDogODAwLCAgLy8g6Ieq5Yqo5aKe6ZW/55qE6Ze06ZqU5pe26Ze0XG4gICAgICBzZXRUcmlja2xlOiBmYWxzZSAgLy8gc2V0IOWQjuaYr+WQpuiHquWKqOWinumVv++8iOacquWQr+eUqO+8iVxuICAgIH07XG4gIH0sXG4gIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5zZXQoJzAuNSUnKTtcbiAgICB0aGlzLnByb3BzLnRyaWNrbGUgJiYgdGhpcy5fYXV0b0luYygpO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKG4sIHRyaWNrbGUpIHtcbiAgICAhdHJpY2tsZSAmJiB0aGlzLl9pbml0KCk7XG4gICAgbiA9IHRoaXMuX2Zvcm1hdChuKTtcbiAgICBpZiAobiA9PT0gMTAwKSB7XG4gICAgICAvKiBkb25lICovXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcmF0ZTogMTAwXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbiA9IG4gPiB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcbiAgICAgICAgOiBuO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHJhdGU6IG5cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgaW5jOiBmdW5jdGlvbihuKSB7XG4gICAgdGhpcy5faW5pdCgpO1xuICAgIHRoaXMucHJvcHMudHJpY2tsZSAmJiB0aGlzLl9hdXRvSW5jKCk7XG4gICAgbiA9IG5cbiAgICAgID8gdGhpcy5fZm9ybWF0KG4pXG4gICAgICA6IHRoaXMucHJvcHMuaW5jU3RlcCAqIDEwMDtcbiAgICB2YXIgbmV3UmF0ZSA9IHRoaXMuc3RhdGUucmF0ZSArIG47XG4gICAgdGhpcy5zZXQobmV3UmF0ZSArICclJywgdHJ1ZSk7XG4gIH0sXG4gIGRvbmU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0KCcxMDAlJyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHJhdGU6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuc3BlZWQgKiAyICogMTAwMCk7XG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMTAwMCk7XG4gIH0sXG4gIF9mb3JtYXQ6IGZ1bmN0aW9uKGRhdGEpIHsgIC8vIOagvOW8j+WMluS4uiAwLTEwMCDnmoTmlbTmlbBcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7ICAvLyAwLTEg55qE5bCP5pWwXG4gICAgICByZXR1cm4gZGF0YSA+IDFcbiAgICAgICAgPyB0aGlzLnByb3MubWF4UmF0ZSAqIDEwMFxuICAgICAgICA6IGRhdGEgKiAxMDA7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHsgIC8vIOeZvuWIhuavlFxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YSkgPiAxMDBcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcbiAgICAgICAgOiBwYXJzZUZsb2F0KGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9LFxuICBfaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdGF0ZS5kb25lICYmIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZG9uZTogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLnRpbWVyICYmIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcbiAgfSxcbiAgX2F1dG9JbmM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdSYXRlO1xuICAgIHZhciByYW5kb207XG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgcmFuZG9tID0gdGhpcy5fZ2V0UmFkb21TdGVwKCk7XG4gICAgICBuZXdSYXRlID0gdGhpcy5zdGF0ZS5yYXRlICsgcmFuZG9tO1xuICAgICAgY29uc29sZS5sb2cocmFuZG9tKTtcbiAgICAgIGlmIChuZXdSYXRlID4gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMCk7XG4gICAgICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2cobmV3UmF0ZSk7XG4gICAgICB0aGlzLnNldChuZXdSYXRlICsgJyUnLCB0cnVlKTtcbiAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMudHJpY2tsZVNwZWVkKTtcbiAgfSxcbiAgX2NsZWFySW50ZXJ2YWw6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGltZXIgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgfSxcbiAgX2dldFJhZG9tU3RlcDogZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBtaW4gPSBtaW4gfHwgdGhpcy5wcm9wcy5taW5TdGVwICogMTAwO1xuICAgIG1heCA9IG1heCB8fCB0aGlzLnByb3BzLm1heFN0ZXAgKiAxMDA7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJvZ3Jlc3NTdHlsZSA9IHtcbiAgICAgIC8vZGlzcGxheTogKCF0aGlzLnN0YXRlLnJhdGUgJiYgdHlwZW9mIHRoaXMuc3RhdGUucmF0ZSA9PT0gJ29iamVjdCcpID8gJ25vbmUnIDogJ2Jsb2NrJyxcbiAgICAgIG9wYWNpdHk6IHRoaXMuc3RhdGUuZG9uZVxuICAgICAgICA/IDBcbiAgICAgICAgOiAxLFxuICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgJyArIHRoaXMucHJvcHMuc3BlZWQgKiAyICsgJ3MgJyArIHRoaXMucHJvcHMuZWFzaW5nXG4gICAgfTtcbiAgICB2YXIgYmFyU3R5bGUgPSB7XG4gICAgICB3aWR0aDogIXRoaXMuc3RhdGUucmF0ZVxuICAgICAgICA/IDBcbiAgICAgICAgOiB0aGlzLnN0YXRlLnJhdGUgKyAnJScsXG4gICAgICB0cmFuc2l0aW9uOiAnd2lkdGggJyArIHRoaXMucHJvcHMuc3BlZWQgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmdcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnJhdGVcbiAgICAgID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXByb2dyZXNzXCIgc3R5bGU9e3Byb2dyZXNzU3R5bGV9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3MtYmFyXCIgc3R5bGU9e2JhclN0eWxlfT48L2Rpdj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5zcGlubmVyXG4gICAgICAgICAgICA/IDxTcGlubmVyLz5cbiAgICAgICAgICAgIDogbnVsbH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgICA6IG51bGw7XG4gIH1cbn0pO1xuIiwidmFyIFRvb2xUaXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpcDogXCJ0aXBcIixcbiAgICAgICAgICAgIHRyaWdnZXI6ICdob3ZlcicsXG4gICAgICAgICAgICBkZWxheTogMCxcbiAgICAgICAgICAgIGhvdmVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJ0aXBcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjIwMHB4XCIsXG4gICAgICAgICAgICB0eXBlOiAnc3BhbicsXG4gICAgICAgICAgICBhSHJlZjogXCIjXCJcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wcm9wcy5wb3NpdGlvbixcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIGlzT25UaXA6IGZhbHNlLFxuICAgICAgICAgICAgdGlwSGVpZ2h0OiBcIlwiXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBoYW5kbGVNb3VzZU92ZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImhvdmVyXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZU1vdXNlT3V0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJob3ZlclwiKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuaXNPblRpcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpICwgdGhpcy5wcm9wcy5kZWxheSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJjbGlja1wiKSB7XG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYoIXRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVUaXBNb3VzZU92ZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYodGhpcy5wcm9wcy5ob3ZlcmFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzT25UaXA6IHRydWV9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZVRpcE1vdXNlT3V0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmKHRoaXMucHJvcHMuaG92ZXJhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc09uVGlwOiBmYWxzZX0pO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0VGlwUG9zaXRpb24oKTtcbiAgICB9LFxuICAgIHNldFRpcFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRpcCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpO1xuICAgICAgICB2YXIgY29udCA9IHRoaXMucmVmcy5jb250LmdldERPTU5vZGUoKTtcbiAgICAgICAgaWYoIXRoaXMuZmxhZykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS50aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5mbGFnID0gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aXAub2Zmc2V0V2lkdGg7XG4gICAgICAgIHZhciB0aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB2YXIgY29udFdpZHRoID0gY29udC5vZmZzZXRXaWR0aDtcbiAgICAgICAgdmFyIGNvbnRIZWlnaHQgPSBjb250Lm9mZnNldEhlaWdodDtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIFwibGVmdFwiOnRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aCsyMCkrXCJweFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6dGlwLnN0eWxlLnRvcCA9IC0odGlwSGVpZ2h0LWNvbnRIZWlnaHQpLzIrXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0b3BcIjp0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgtY29udFdpZHRoKS8yK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5ib3R0b20gPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b21cIjp0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgtY29udFdpZHRoKS8yK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS50b3AgPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoKzIwKStcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgdGlwLnN0eWxlLmhlaWdodCA9IHRoaXMuc3RhdGUudGlwSGVpZ2h0LTIwK1wicHhcIjtcbiAgICAgICAgdGhpcy5wcmV2ZXJ0VGlwT3ZlcmZsb3coKTtcbiAgICB9LFxuICAgIHByZXZlcnRUaXBPdmVyZmxvdzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0aXBYID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgICAgdmFyIHRpcFkgPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgIHZhciB0aXBXaWR0aCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgdGlwSGVpZ2h0ID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB2YXIgYXZhaWxXaWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpO1xuICAgICAgICBpZih0aXBYIDwgMCAmJiB0aXBYK3RpcFdpZHRoID4gYXZhaWxXaWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGlwWCA8IDApIHtcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJ0b3BcIn0pO1xuICAgICAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwidG9wXCIgfHwgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImJvdHRvbVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwicmlnaHRcIn0pO1xuICAgICAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwiYm90dG9tXCJ9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImJvdHRvbVwiIHx8IHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJ0b3BcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImxlZnRcIn0pO1xuICAgICAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sXG4gICAgZ2V0VGlwU3R5bGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzcGxheTogdGhpcy5zdGF0ZS5pc0FjdGl2ZT9cImJsb2NrXCI6XCJub25lXCIsXG4gICAgICAgICAgICBjb2xvcjogXCJwaW5rXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMzM1wiLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMud2lkdGgsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwic3BhblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwiYVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLmFIcmVmfSByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2E+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwiYnV0dG9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9