var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:this.props.localAddress,isWrapShow:!1}},getDefaultProps:function(){return{}},handleBtnClick:function(){this.state.isWrapShow?this.setState({isWrapShow:!1}):(this.setState({isWrapShow:!0}),console.log("000000000000000"))},handleSelectAddress:function(t){this.setState({nowAddress:t}),this.setState({isWrapShow:!1})},render:function(){var t=this.state.isWrapShow?React.createElement(AddressWrap,{localAddress:this.props.localAddress,selectAddress:this.handleSelectAddress}):null;return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{isClick:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress),t)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.isClick}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",{className:"AddressWrap"},React.createElement(AddressWrapTop,{localAddress:this.props.localAddress,selectAddress:this.props.selectAddress}))}}),AddressWrapTop=React.createClass({displayName:"AddressWrapTop",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",{className:"AddressWrapTop"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,selectAddress:this.props.selectAddress}))}}),AddressLocation=React.createClass({displayName:"AddressLocation",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(){this.props.selectAddress(this.props.localAddress)},render:function(){return React.createElement("div",null,"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",null)}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",null)}}),AddressListRow=React.createClass({displayName:"AddressListRow",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",null)}}),AddressSecondWrap=React.createClass({displayName:"AddressSecondWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",null)}}),AddressSecondWrap=React.createClass({displayName:"AddressSecondWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",null)}}),AddressSecondRow=React.createClass({displayName:"AddressSecondRow",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",null)}}),ScrollBar=React.createClass({displayName:"ScrollBar",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",null)}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"西安"}},setAddress:function(t){this.setState({address:t})},render:function(){({width:this.props.searchInput});return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,{city:this.props.city,inputTip:this.props.inputTip,inputWidth:this.props.inputWidth,searchBtnText:this.props.searchBtnText,searchSubmitHandler:this.setAddress}),this.state.address?React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}):null)}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索"}},searchSubmit:function(){this.props.searchSubmitHandler(this.state.keyword)},keywordChange:function(t){this.setState({keyword:t.target.value})},checkEnter:function(t){13===t.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var t={width:this.props.inputWidth};return React.createElement("div",{className:"address-input"},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onChange:this.keywordChange,onKeyUp:this.checkEnter,placeholder:this.props.inputTip,style:t}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0}},getDefaultProps:function(){return{}},componentDidMount:function(){var t=new BMap.Map("_addressMapMain");t.centerAndZoom(this.props.city);var e=new BMap.LocalSearch(t,{renderOptions:{map:t,panel:"_addressMapItems"},onSearchComplete:function(t){console.log(t.getNumPois())}.bind(this)});this.setState({mapLocalObj:e})},render:function(){return this.state.mapLocalObj&&this.state.mapLocalObj.search(this.props.addressKeyword),React.createElement("div",{className:"address-map"},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"找到",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("div",{className:"map-items",id:"_addressMapItems"})),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(t,e){!e&&this._init(),t=this._format(t),100===t?this.setState({rate:100}):(t=t>100*this.props.maxRate?100*this.props.maxRate:t,this.setState({rate:t}))},inc:function(t){this._init(),this.props.trickle&&this._autoInc(),t=t?this._format(t):100*this.props.incStep;var e=this.state.rate+t;this.set(e+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(t){return"number"==typeof t?t>1?100*this.pros.maxRate:100*t:"string"==typeof t?parseFloat(t)>100?100*this.props.maxRate:parseFloat(t):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var t,e;this.timer=setInterval(function(){return e=this._getRadomStep(),t=this.state.rate+e,console.log(e),t>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(t),void this.set(t+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(t,e){return t=t||100*this.props.minStep,e=e||100*this.props.maxStep,Math.random()*(e-t)+t},render:function(){var t={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},e={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:t},React.createElement("div",{className:"cu-progress-bar",style:e}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(t){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(t){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(t){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(t){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(t){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var t=this.refs.tip.getDOMNode(),e=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=t.offsetHeight,this.flag=1);var s=t.offsetWidth,i=t.offsetHeight,a=e.offsetWidth,r=e.offsetHeight;switch(this.state.position){case"left":t.style.top=-(i-r)/2+"px",t.style.left=-(s+20)+"px";break;case"right":t.style.top=-(i-r)/2+"px",t.style.left="100%";break;case"top":t.style.left=-(s-a)/2+"px",t.style.bottom="100%";break;case"bottom":t.style.left=-(s-a)/2+"px",t.style.top="100%";break;default:t.style.top=-(i-r)/2+"px",t.style.left=-(s+20)+"px"}t.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var t=this.refs.tip.getDOMNode().getBoundingClientRect().left,e=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>t&&t+e>s)return!0;if(0>t){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(t+e>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NTZWFyY2gvQWRkcmVzc1NlYXJjaC5qc3giLCJQcm9ncmVzc0Jhci9Qcm9ncmVzc0Jhci5qc3giLCJUb29sdGlwL1Rvb2x0aXAuanN4Il0sIm5hbWVzIjpbIkFkZHJlc3NMaXN0IiwiUmVhY3QiLCJjcmVhdGVDbGFzcyIsImRpc3BsYXlOYW1lIiwiZ2V0SW5pdGlhbFN0YXRlIiwibm93QWRkcmVzcyIsInRoaXMiLCJwcm9wcyIsImxvY2FsQWRkcmVzcyIsImlzV3JhcFNob3ciLCJnZXREZWZhdWx0UHJvcHMiLCJoYW5kbGVCdG5DbGljayIsInN0YXRlIiwic2V0U3RhdGUiLCJjb25zb2xlIiwibG9nIiwiaGFuZGxlU2VsZWN0QWRkcmVzcyIsInNlbGVjdEFkZHJlc3MiLCJyZW5kZXIiLCJhZGRyZXNzV3JhcCIsImNyZWF0ZUVsZW1lbnQiLCJBZGRyZXNzV3JhcCIsImNsYXNzTmFtZSIsIkFkZHJlc3NEcm9wQnV0dG9uIiwiaXNDbGljayIsIm9uQ2xpY2siLCJoYW5kbGVDbGljayIsImNoaWxkcmVuIiwiQWRkcmVzc1dyYXBUb3AiLCJBZGRyZXNzTG9jYXRpb24iLCJBZGRyZXNzU2VhcmNoIiwiQWRkcmVzc0xpc3RXcmFwIiwiQWRkcmVzc0xpc3RSb3ciLCJBZGRyZXNzU2Vjb25kV3JhcCIsIkFkZHJlc3NTZWNvbmRSb3ciLCJTY3JvbGxCYXIiLCJhZGRyZXNzIiwiaW5wdXRXaWR0aCIsImlucHV0VGlwIiwic2VhcmNoQnRuVGV4dCIsImNpdHkiLCJzZXRBZGRyZXNzIiwiYWQiLCJ3aWR0aCIsInNlYXJjaElucHV0IiwiQWRkcmVzc0lucHV0Iiwic2VhcmNoU3VibWl0SGFuZGxlciIsIkFkZHJlc3NNYXAiLCJhZGRyZXNzS2V5d29yZCIsImtleXdvcmQiLCJzZWFyY2hTdWJtaXQiLCJrZXl3b3JkQ2hhbmdlIiwiZSIsInRhcmdldCIsInZhbHVlIiwiY2hlY2tFbnRlciIsImtleUNvZGUiLCJjb21wb25lbnREaWRNb3VudCIsIkJNYXAiLCJBdXRvY29tcGxldGUiLCJpbnB1dCIsImxvY2F0aW9uIiwia2V5d29yZFN0eWxlIiwiaWQiLCJvbkNoYW5nZSIsIm9uS2V5VXAiLCJwbGFjZWhvbGRlciIsInN0eWxlIiwibWFwTG9jYWxPYmoiLCJpdGVtc051bWJlciIsIm1hcCIsIk1hcCIsImNlbnRlckFuZFpvb20iLCJMb2NhbFNlYXJjaCIsInJlbmRlck9wdGlvbnMiLCJwYW5lbCIsIm9uU2VhcmNoQ29tcGxldGUiLCJnZXROdW1Qb2lzIiwiYmluZCIsInNlYXJjaCIsIlNwaW5uZXIiLCJQcm9ncmVzc0JhciIsInJhdGUiLCJkb25lIiwic3BlZWQiLCJzcGlubmVyIiwiZWFzaW5nIiwibWF4UmF0ZSIsImluY1N0ZXAiLCJtaW5TdGVwIiwibWF4U3RlcCIsInRyaWNrbGUiLCJ0cmlja2xlU3BlZWQiLCJzZXRUcmlja2xlIiwic3RhcnQiLCJfaW5pdCIsInNldCIsIl9hdXRvSW5jIiwibiIsIl9mb3JtYXQiLCJpbmMiLCJuZXdSYXRlIiwic2V0VGltZW91dCIsImRhdGEiLCJwcm9zIiwicGFyc2VGbG9hdCIsInRpbWVyIiwiX2NsZWFySW50ZXJ2YWwiLCJyYW5kb20iLCJzZXRJbnRlcnZhbCIsIl9nZXRSYWRvbVN0ZXAiLCJjbGVhckludGVydmFsIiwibWluIiwibWF4IiwiTWF0aCIsInByb2dyZXNzU3R5bGUiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsImJhclN0eWxlIiwiVG9vbFRpcCIsInRpcCIsInRyaWdnZXIiLCJkZWxheSIsImhvdmVyYWJsZSIsInBvc2l0aW9uIiwidHlwZSIsImFIcmVmIiwiaXNBY3RpdmUiLCJpc09uVGlwIiwidGlwSGVpZ2h0IiwiaGFuZGxlTW91c2VPdmVyIiwiaGFuZGxlTW91c2VPdXQiLCJoYW5kbGVUaXBNb3VzZU92ZXIiLCJoYW5kbGVUaXBNb3VzZU91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNldFRpcFBvc2l0aW9uIiwicmVmcyIsImdldERPTU5vZGUiLCJjb250IiwiZmxhZyIsIm9mZnNldEhlaWdodCIsInRpcFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJjb250V2lkdGgiLCJjb250SGVpZ2h0IiwidG9wIiwibGVmdCIsImJvdHRvbSIsImhlaWdodCIsInByZXZlcnRUaXBPdmVyZmxvdyIsInRpcFgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhdmFpbFdpZHRoIiwicGFyc2VJbnQiLCJkb2N1bWVudCIsImJvZHkiLCJjbGllbnRXaWR0aCIsImdldFRpcFN0eWxlIiwiZGlzcGxheSIsImNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwicmVmIiwib25Nb3VzZU92ZXIiLCJvbk1vdXNlT3V0IiwiaHJlZiJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBSUEsYUFBQUMsTUFBQUMsYUFBaUNDLFlBQUEsY0FDakNDLGdCQUFpQixXQUNiLE9BQ0lDLFdBQVlDLEtBQUtDLE1BQU1DLGFBQ3ZCQyxZQUFZLElBR3BCQyxnQkFBaUIsV0FDYixVQUlKQyxlQUFnQixXQUNSTCxLQUFLTSxNQUFNSCxXQUtYSCxLQUFLTyxVQUFVSixZQUFZLEtBSjNCSCxLQUFLTyxVQUFVSixZQUFZLElBRTNCSyxRQUFRQyxJQUFJLHFCQUtwQkMsb0JBQXFCLFNBQVNDLEdBQzFCWCxLQUFLTyxVQUFVUixXQUFZWSxJQUMzQlgsS0FBS08sVUFBVUosWUFBWSxLQUUvQlMsT0FBUSxXQUNKLEdBQUlDLEdBQWNiLEtBQUtNLE1BQU1ILFdBQVdSLE1BQUFtQixjQUFDQyxhQUFXYixhQUFDRixLQUFjQyxNQUFLQyxhQUFrQlMsY0FBRVgsS0FBZVUsc0JBQUssSUFDaEgsT0FDSWYsT0FBQW1CLGNBQUEsT0FBSUUsVUFBQyxlQUNEckIsTUFBQW1CLGNBQUNHLG1CQUFpQkMsUUFBQ2xCLEtBQVNNLE1BQUtILFdBQWdCZ0IsUUFBRW5CLEtBQVNLLGdCQUFLTCxLQUFpQk0sTUFBS1AsWUFDdEZjLE1BT2JJLGtCQUFBdEIsTUFBQUMsYUFBdUNDLFlBQUEsb0JBQ3ZDQyxnQkFBaUIsV0FDYixVQUlKTSxnQkFBaUIsV0FDYixVQUlKZ0IsWUFBYSxXQUNUcEIsS0FBS0MsTUFBTWtCLFdBRWZQLE9BQVEsV0FDSixNQUNJakIsT0FBQW1CLGNBQUEsVUFBT0UsVUFBQyxvQkFBVUcsUUFBb0JuQixLQUFTb0IsYUFDMUNwQixLQUFLQyxNQUFNb0IsU0FDWjFCLE1BQUFtQixjQUFBLFFBQUtFLFVBQUMsWUFBV2hCLEtBQVlDLE1BQUtpQixjQU85Q0gsWUFBQXBCLE1BQUFDLGFBQWlDQyxZQUFBLGNBQ2pDQyxnQkFBaUIsV0FDYixVQUlKTSxnQkFBaUIsV0FDYixVQUlKUSxPQUFRLFdBQ0osTUFDSWpCLE9BQUFtQixjQUFBLE9BQUlFLFVBQUMsZUFDRHJCLE1BQUFtQixjQUFDUSxnQkFBY3BCLGFBQUNGLEtBQWNDLE1BQUtDLGFBQWtCUyxjQUFFWCxLQUFlQyxNQUFLVSxvQkFPdkZXLGVBQUEzQixNQUFBQyxhQUFvQ0MsWUFBQSxpQkFDcENDLGdCQUFpQixXQUNiLFVBSUpNLGdCQUFpQixXQUNiLFVBSUpRLE9BQVEsV0FDSixNQUNJakIsT0FBQW1CLGNBQUEsT0FBSUUsVUFBQyxrQkFDRHJCLE1BQUFtQixjQUFDUyxpQkFBZXJCLGFBQUNGLEtBQWNDLE1BQUtDLGFBQWtCUyxjQUFFWCxLQUFlQyxNQUFLVSxvQkFPeEZZLGdCQUFBNUIsTUFBQUMsYUFBcUNDLFlBQUEsa0JBQ3JDQyxnQkFBaUIsV0FDYixVQUlKTSxnQkFBaUIsV0FDYixVQUlKZ0IsWUFBYSxXQUNUcEIsS0FBS0MsTUFBTVUsY0FBY1gsS0FBS0MsTUFBTUMsZUFFeENVLE9BQVEsV0FDSixNQUNJakIsT0FBQW1CLGNBQUEsTUFBSSxLQUFDLE9BQ0duQixNQUFBbUIsY0FBQSxRQUFLSyxRQUFDbkIsS0FBU29CLGFBQWtCcEIsS0FBQ0MsTUFBS0Msa0JBT3ZEc0IsY0FBQTdCLE1BQUFDLGFBQW1DQyxZQUFBLGdCQUNuQ0MsZ0JBQWlCLFdBQ2IsVUFJSk0sZ0JBQWlCLFdBQ2IsVUFJSlEsT0FBUSxXQUNKLE1BQ0lqQixPQUFBbUIsY0FBQSxNQUFJLFNBTVpXLGdCQUFBOUIsTUFBQUMsYUFBcUNDLFlBQUEsa0JBQ3JDQyxnQkFBaUIsV0FDYixVQUlKTSxnQkFBaUIsV0FDYixVQUlKUSxPQUFRLFdBQ0osTUFDSWpCLE9BQUFtQixjQUFBLE1BQUksU0FNWlksZUFBQS9CLE1BQUFDLGFBQW9DQyxZQUFBLGlCQUNwQ0MsZ0JBQWlCLFdBQ2IsVUFJSk0sZ0JBQWlCLFdBQ2IsVUFJSlEsT0FBUSxXQUNKLE1BQ0lqQixPQUFBbUIsY0FBQSxNQUFJLFNBTVphLGtCQUFBaEMsTUFBQUMsYUFBdUNDLFlBQUEsb0JBQ3ZDQyxnQkFBaUIsV0FDYixVQUlKTSxnQkFBaUIsV0FDYixVQUlKUSxPQUFRLFdBQ0osTUFDSWpCLE9BQUFtQixjQUFBLE1BQUksU0FNWmEsa0JBQUFoQyxNQUFBQyxhQUF1Q0MsWUFBQSxvQkFDdkNDLGdCQUFpQixXQUNiLFVBSUpNLGdCQUFpQixXQUNiLFVBSUpRLE9BQVEsV0FDSixNQUNJakIsT0FBQW1CLGNBQUEsTUFBSSxTQU1aYyxpQkFBQWpDLE1BQUFDLGFBQXNDQyxZQUFBLG1CQUN0Q0MsZ0JBQWlCLFdBQ2IsVUFJSk0sZ0JBQWlCLFdBQ2IsVUFJSlEsT0FBUSxXQUNKLE1BQ0lqQixPQUFBbUIsY0FBQSxNQUFJLFNBTVplLFVBQUFsQyxNQUFBQyxhQUErQkMsWUFBQSxZQUMvQkMsZ0JBQWlCLFdBQ2IsVUFJSk0sZ0JBQWlCLFdBQ2IsVUFJSlEsT0FBUSxXQUNKLE1BQ0lqQixPQUFBbUIsY0FBQSxNQUFJLFNDblBaVSxjQUFBN0IsTUFBQUMsYUFBbUNDLFlBQUEsZ0JBQ3JDQyxnQkFBaUIsV0FDZixPQUNFZ0MsUUFBUyxPQUdiMUIsZ0JBQWlCLFdBQ2YsT0FDRTJCLFdBQVksSUFDWkMsU0FBVSxZQUNWQyxjQUFlLEtBQ2ZDLEtBQU0sT0FHVkMsV0FBWSxTQUFTQyxHQUNuQnBDLEtBQUtPLFVBQ0h1QixRQUFTTSxLQUdieEIsT0FBUSxhQUVKeUIsTUFBT3JDLEtBQUtDLE1BQU1xQyxhQUVwQixPQUNFM0MsT0FBQW1CLGNBQUEsT0FBSUUsVUFBQyxrQkFDSHJCLE1BQUFtQixjQUFDeUIsY0FBWUwsS0FBQ2xDLEtBQU1DLE1BQUtpQyxLQUFVRixTQUFFaEMsS0FBVUMsTUFBSytCLFNBQU1ELFdBQVUvQixLQUFVQyxNQUFPOEIsV0FBTUUsY0FBWWpDLEtBQUFDLE1BQWVnQyxjQUFXTyxvQkFBZXhDLEtBQUFtQyxhQUMvSW5DLEtBQUtNLE1BQU13QixRQUNSbkMsTUFBQW1CLGNBQUMyQixZQUFVQyxlQUFDMUMsS0FBZ0JNLE1BQUt3QixRQUFhSSxLQUFFbEMsS0FBTUMsTUFBS2lDLE9BQzNELFNBT1JLLGFBQUE1QyxNQUFBQyxhQUFrQ0MsWUFBQSxlQUNwQ0MsZ0JBQWlCLFdBQ2YsT0FDRTZDLFFBQVMsT0FHYnZDLGdCQUFpQixXQUNmLE9BQ0UyQixXQUFZLElBQ1pDLFNBQVUsWUFDVkMsY0FBZSxPQUduQlcsYUFBYyxXQUNaNUMsS0FBS0MsTUFDRnVDLG9CQUFvQnhDLEtBQUtNLE1BQU1xQyxVQUVwQ0UsY0FBZSxTQUFTQyxHQUN0QjlDLEtBQUtPLFVBQ0hvQyxRQUFTRyxFQUFFQyxPQUFPQyxTQUd0QkMsV0FBWSxTQUFTSCxHQUNKLEtBQWRBLEVBQUVJLFNBQW1CbEQsS0FBSzRDLGdCQUU3Qk8sa0JBQW1CLFdBQ0ssR0FBSUMsTUFBS0MsY0FDN0JDLE1BQVMsd0JBQ1RDLFNBQVl2RCxLQUFLQyxNQUFNaUMsUUFHM0J0QixPQUFRLFdBQ04sR0FBSTRDLElBQ0ZuQixNQUFPckMsS0FBS0MsTUFBTThCLFdBRXBCLE9BQ0VwQyxPQUFBbUIsY0FBQSxPQUFJRSxVQUFDLGlCQUNIckIsTUFBQW1CLGNBQUEsU0FBTUUsVUFBQyxnQkFBVXlDLEdBQWdCLHdCQUFHQyxTQUF3QjFELEtBQVE2QyxjQUFPYyxRQUFlM0QsS0FBQWlELFdBQWNXLFlBQVk1RCxLQUFBQyxNQUFhK0IsU0FBVzZCLE1BQUFMLElBQzVJN0QsTUFBQW1CLGNBQUEsVUFBT0UsVUFBQyxlQUFVRyxRQUFlbkIsS0FBUzRDLGNBQUs1QyxLQUFlQyxNQUFLZ0MsbUJBT3ZFUSxXQUFBOUMsTUFBQUMsYUFBZ0NDLFlBQUEsYUFDbENDLGdCQUFpQixXQUNmLE9BQ0VnRSxZQUFhLEtBQ2JDLFlBQWEsSUFHakIzRCxnQkFBaUIsV0FDZixVQUVGK0Msa0JBQW1CLFdBQ2pCLEdBQUlhLEdBQU0sR0FBSVosTUFBS2EsSUFBSSxrQkFDdkJELEdBQUlFLGNBQWNsRSxLQUFLQyxNQUFNaUMsS0FDN0IsSUFBSTRCLEdBQWMsR0FBSVYsTUFBS2UsWUFBWUgsR0FDckNJLGVBQ0VKLElBQUtBLEVBQ0xLLE1BQU8sb0JBRVRDLGlCQUFrQixTQUFTeEIsR0FJekJ0QyxRQUFRQyxJQUFJcUMsRUFBRXlCLGVBQ2RDLEtBQUt4RSxPQUVUQSxNQUFLTyxVQUNIdUQsWUFBYUEsS0FHakJsRCxPQUFRLFdBSU4sTUFIQVosTUFBS00sTUFBTXdELGFBQWU5RCxLQUFLTSxNQUM1QndELFlBQ0FXLE9BQU96RSxLQUFLQyxNQUFNeUMsZ0JBRW5CL0MsTUFBQW1CLGNBQUEsT0FBSUUsVUFBQyxlQUNIckIsTUFBQW1CLGNBQUEsT0FBSUUsVUFBQyxXQUNIckIsTUFBQW1CLGNBQUEsT0FBSUUsVUFBQyxpQkFBMEIsS0FFN0JyQixNQUFBbUIsY0FBQSxRQUFLRSxVQUFDLGtCQUNIaEIsS0FBS00sTUFBTXlELGFBQ1AsUUFHVHBFLE1BQUFtQixjQUFBLE9BQUlFLFVBQUMsWUFBVXlDLEdBQVksc0JBRTdCOUQsTUFBQW1CLGNBQUEsT0FBSUUsVUFBQyxXQUFVeUMsR0FBVyx3QkM3SDlCaUIsUUFBQS9FLE1BQUFDLGFBQTZCQyxZQUFBLFVBQy9CZSxPQUFRLFdBQ04sTUFDRWpCLE9BQUFtQixjQUFBLE9BQUlFLFVBQUMsa0JBTVAyRCxZQUFBaEYsTUFBQUMsYUFBaUNDLFlBQUEsY0FDbkNDLGdCQUFpQixXQUNmLE9BQ0U4RSxLQUFNLEtBQ05DLE1BQU0sSUFHVnpFLGdCQUFpQixXQUNmLE9BQ0UwRSxNQUFPLEdBQ1BDLFNBQVMsRUFDVEMsT0FBUSxPQUNSQyxRQUFTLElBQ1RDLFFBQVMsSUFDVEMsUUFBUyxLQUNUQyxRQUFTLElBQ1RDLFNBQVMsRUFDVEMsYUFBYyxJQUNkQyxZQUFZLElBR2hCQyxNQUFPLFdBQ0x4RixLQUFLeUYsUUFDTHpGLEtBQUswRixJQUFJLFFBQ1QxRixLQUFLQyxNQUFNb0YsU0FBV3JGLEtBQUsyRixZQUU3QkQsSUFBSyxTQUFTRSxFQUFHUCxJQUNkQSxHQUFXckYsS0FBS3lGLFFBQ2pCRyxFQUFJNUYsS0FBSzZGLFFBQVFELEdBQ1AsTUFBTkEsRUFFRjVGLEtBQUtPLFVBQ0hxRSxLQUFNLE9BR1JnQixFQUFJQSxFQUF5QixJQUFyQjVGLEtBQUtDLE1BQU1nRixRQUNNLElBQXJCakYsS0FBS0MsTUFBTWdGLFFBQ1hXLEVBQ0o1RixLQUFLTyxVQUNIcUUsS0FBTWdCLE1BSVpFLElBQUssU0FBU0YsR0FDWjVGLEtBQUt5RixRQUNMekYsS0FBS0MsTUFBTW9GLFNBQVdyRixLQUFLMkYsV0FDM0JDLEVBQUlBLEVBQ0E1RixLQUFLNkYsUUFBUUQsR0FDUSxJQUFyQjVGLEtBQUtDLE1BQU1pRixPQUNmLElBQUlhLEdBQVUvRixLQUFLTSxNQUFNc0UsS0FBT2dCLENBQ2hDNUYsTUFBSzBGLElBQUlLLEVBQVUsS0FBSyxJQUUxQmxCLEtBQU0sV0FDSjdFLEtBQUswRixJQUFJLFFBQ1RNLFdBQVcsV0FDVGhHLEtBQUtPLFVBQ0hzRSxNQUFNLElBRVJtQixXQUFXLFdBQ1RoRyxLQUFLTyxVQUNIcUUsS0FBTSxRQUVSSixLQUFLeEUsTUFBMEIsRUFBbkJBLEtBQUtDLE1BQU02RSxNQUFZLE1BQ3JDTixLQUFLeEUsTUFBMEIsSUFBbkJBLEtBQUtDLE1BQU02RSxRQUUzQmUsUUFBUyxTQUFTSSxHQUNoQixNQUFvQixnQkFBVEEsR0FDRkEsRUFBTyxFQUNVLElBQXBCakcsS0FBS2tHLEtBQUtqQixRQUNILElBQVBnQixFQUNxQixnQkFBVEEsR0FDVEUsV0FBV0YsR0FBUSxJQUNELElBQXJCakcsS0FBS0MsTUFBTWdGLFFBQ1hrQixXQUFXRixHQUVmLFFBR0pSLE1BQU8sV0FDTHpGLEtBQUtNLE1BQU11RSxNQUFRN0UsS0FBS08sVUFDdEJzRSxNQUFNLElBRVI3RSxLQUFLb0csT0FBU3BHLEtBQUtxRyxrQkFFckJWLFNBQVUsV0FDUixHQUFJSSxHQUNBTyxDQUNKdEcsTUFBS29HLE1BQVFHLFlBQVksV0FJdkIsTUFIQUQsR0FBU3RHLEtBQUt3RyxnQkFDZFQsRUFBVS9GLEtBQUtNLE1BQU1zRSxLQUFPMEIsRUFDNUI5RixRQUFRQyxJQUFJNkYsR0FDUlAsRUFBK0IsSUFBckIvRixLQUFLQyxNQUFNZ0YsU0FDdkJ6RSxRQUFRQyxJQUF5QixJQUFyQlQsS0FBS0MsTUFBTWdGLGFBQ3ZCakYsTUFBS3FHLG1CQUdQN0YsUUFBUUMsSUFBSXNGLE9BQ1ovRixNQUFLMEYsSUFBSUssRUFBVSxLQUFLLEtBQ3hCdkIsS0FBS3hFLE1BQU9BLEtBQUtDLE1BQU1xRixlQUUzQmUsZUFBZ0IsV0FDZHJHLEtBQUtvRyxPQUFTSyxjQUFjekcsS0FBS29HLFFBRW5DSSxjQUFlLFNBQVNFLEVBQUtDLEdBRzNCLE1BRkFELEdBQU1BLEdBQTRCLElBQXJCMUcsS0FBS0MsTUFBTWtGLFFBQ3hCd0IsRUFBTUEsR0FBNEIsSUFBckIzRyxLQUFLQyxNQUFNbUYsUUFDakJ3QixLQUFLTixVQUFZSyxFQUFNRCxHQUFPQSxHQUV2QzlGLE9BQVEsV0FDTixHQUFJaUcsSUFFRkMsUUFBUzlHLEtBQUtNLE1BQU11RSxLQUNoQixFQUNBLEVBQ0prQyxXQUFZLFdBQWdDLEVBQW5CL0csS0FBS0MsTUFBTTZFLE1BQVksS0FBTzlFLEtBQUtDLE1BQU0rRSxRQUVoRWdDLEdBQ0YzRSxNQUFRckMsS0FBS00sTUFBTXNFLEtBRWY1RSxLQUFLTSxNQUFNc0UsS0FBTyxJQURsQixFQUVKbUMsV0FBWSxTQUFXL0csS0FBS0MsTUFBTTZFLE1BQVEsS0FBTzlFLEtBQUtDLE1BQU0rRSxPQUU5RCxPQUFPaEYsTUFBS00sTUFBTXNFLEtBRWRqRixNQUFBbUIsY0FBQSxPQUFJRSxVQUFDLGNBQVU2QyxNQUFjZ0QsR0FDM0JsSCxNQUFBbUIsY0FBQSxPQUFJRSxVQUFDLGtCQUFVNkMsTUFBa0JtRCxJQUNoQ2hILEtBQUtDLE1BQU04RSxRQUNScEYsTUFBQW1CLGNBQUM0RCxRQUFPLE1BQ1IsTUFHTixRQ3pKSnVDLFFBQUF0SCxNQUFBQyxhQUE2QkMsWUFBQSxVQUM3Qk8sZ0JBQWlCLFdBQ2IsT0FDSThHLElBQUssTUFDTEMsUUFBUyxRQUNUQyxNQUFPLEVBQ1BDLFdBQVcsRUFDWEMsU0FBVSxNQUNWakYsTUFBTyxRQUNQa0YsS0FBTSxPQUNOQyxNQUFPLE1BR2YxSCxnQkFBaUIsV0FDYixPQUNJd0gsU0FBVXRILEtBQUtDLE1BQU1xSCxTQUNyQkcsVUFBVSxFQUNWQyxTQUFTLEVBQ1RDLFVBQVcsS0FHbkJDLGdCQUFpQixTQUFTOUUsR0FDQyxTQUFwQjlDLEtBQUtDLE1BQU1rSCxTQUNWbkgsS0FBS08sVUFBVWtILFVBQVUsS0FHakNJLGVBQWdCLFNBQVMvRSxHQUNFLFNBQXBCOUMsS0FBS0MsTUFBTWtILFNBQ1ZuQixXQUFXLFdBQ1AsTUFBR2hHLE1BQUtNLE1BQU1vSCxTQUNILE1BRVgxSCxNQUFLTyxVQUFVa0gsVUFBVSxLQUMzQmpELEtBQUt4RSxNQUFRQSxLQUFLQyxNQUFNbUgsUUFHbENoRyxZQUFhLFNBQVMwQixHQUNLLFNBQXBCOUMsS0FBS0MsTUFBTWtILFVBQ1BuSCxLQUFLTSxNQUFNbUgsU0FDVnpILEtBQUtPLFVBQVVrSCxVQUFVLElBQ2xCekgsS0FBS00sTUFBTW1ILFVBQ2xCekgsS0FBS08sVUFBVWtILFVBQVUsTUFJckNLLG1CQUFvQixTQUFTaEYsR0FDdEI5QyxLQUFLQyxNQUFNb0gsWUFDVnJILEtBQUtPLFVBQVVtSCxTQUFTLElBQ3hCMUgsS0FBS08sVUFBVWtILFVBQVUsTUFHakNNLGtCQUFtQixTQUFTakYsR0FDckI5QyxLQUFLQyxNQUFNb0gsWUFDVnJILEtBQUtPLFVBQVVtSCxTQUFTLElBQ3hCMUgsS0FBS08sVUFBVWtILFVBQVUsTUFHakNPLG1CQUFvQixXQUNoQmhJLEtBQUtpSSxrQkFFVEEsZUFBZ0IsV0FDWixHQUFJZixHQUFNbEgsS0FBS2tJLEtBQUtoQixJQUFJaUIsYUFDcEJDLEVBQU9wSSxLQUFLa0ksS0FBS0UsS0FBS0QsWUFDdEJuSSxNQUFLcUksT0FDTHJJLEtBQUtNLE1BQU1xSCxVQUFZVCxFQUFJb0IsYUFDM0J0SSxLQUFLcUksS0FBTyxFQUVoQixJQUFJRSxHQUFXckIsRUFBSXNCLFlBQ2ZiLEVBQVlULEVBQUlvQixhQUNoQkcsRUFBWUwsRUFBS0ksWUFDakJFLEVBQWFOLEVBQUtFLFlBQ3RCLFFBQVF0SSxLQUFLTSxNQUFNZ0gsVUFDZixJQUFLLE9BQU9KLEVBQUlyRCxNQUFNOEUsTUFBUWhCLEVBQVVlLEdBQVksRUFBRSxLQUMxQ3hCLEVBQUlyRCxNQUFNK0UsT0FBU0wsRUFBUyxJQUFJLElBQ3hDLE1BQ0osS0FBSyxRQUFRckIsRUFBSXJELE1BQU04RSxNQUFRaEIsRUFBVWUsR0FBWSxFQUFFLEtBQzNDeEIsRUFBSXJELE1BQU0rRSxLQUFPLE1BQ3pCLE1BQ0osS0FBSyxNQUFNMUIsRUFBSXJELE1BQU0rRSxPQUFTTCxFQUFTRSxHQUFXLEVBQUUsS0FDeEN2QixFQUFJckQsTUFBTWdGLE9BQVMsTUFDM0IsTUFDSixLQUFLLFNBQVMzQixFQUFJckQsTUFBTStFLE9BQVNMLEVBQVNFLEdBQVcsRUFBRSxLQUMzQ3ZCLEVBQUlyRCxNQUFNOEUsSUFBTSxNQUN4QixNQUNKLFNBQVN6QixFQUFJckQsTUFBTThFLE1BQVFoQixFQUFVZSxHQUFZLEVBQUUsS0FDM0N4QixFQUFJckQsTUFBTStFLE9BQVNMLEVBQVMsSUFBSSxLQUU1Q3JCLEVBQUlyRCxNQUFNaUYsT0FBUzlJLEtBQUtNLE1BQU1xSCxVQUFVLEdBQUcsS0FDM0MzSCxLQUFLK0ksc0JBRVRBLG1CQUFvQixXQUNoQixHQUFJQyxHQUFPaEosS0FBS2tJLEtBQUtoQixJQUFJaUIsYUFBYWMsd0JBQXdCTCxLQUUxREwsR0FET3ZJLEtBQUtrSSxLQUFLaEIsSUFBSWlCLGFBQWFjLHdCQUF3Qk4sSUFDL0MzSSxLQUFLa0ksS0FBS2hCLElBQUlpQixhQUFhSyxhQUV0Q1UsR0FEWWxKLEtBQUtrSSxLQUFLaEIsSUFBSWlCLGFBQWFHLGFBQzFCYSxTQUFTQyxTQUFTQyxLQUFLQyxhQUN4QyxJQUFVLEVBQVBOLEdBQVlBLEVBQUtULEVBQVdXLEVBQzNCLE9BQU8sQ0FFWCxJQUFVLEVBQVBGLEVBQVUsQ0FDVCxHQUEwQixRQUF2QmhKLEtBQUtNLE1BQU1nSCxTQUVWLFdBREF0SCxNQUFLTyxVQUFVK0csU0FBVSxPQUc3QixJQUEwQixPQUF2QnRILEtBQUtNLE1BQU1nSCxVQUE0QyxVQUF2QnRILEtBQUtNLE1BQU1nSCxTQUUxQyxXQURBdEgsTUFBS08sVUFBVStHLFNBQVUsVUFJakMsR0FBRzBCLEVBQUtULEVBQVdXLEVBQVksQ0FDM0IsR0FBMEIsU0FBdkJsSixLQUFLTSxNQUFNZ0gsU0FFVixXQURBdEgsTUFBS08sVUFBVStHLFNBQVUsVUFHN0IsSUFBMEIsVUFBdkJ0SCxLQUFLTSxNQUFNZ0gsVUFBK0MsT0FBdkJ0SCxLQUFLTSxNQUFNZ0gsU0FFN0MsV0FEQXRILE1BQUtPLFVBQVUrRyxTQUFVLFdBTXJDaUMsWUFBYSxXQUNULE9BQ0lDLFFBQVN4SixLQUFLTSxNQUFNbUgsU0FBUyxRQUFRLE9BQ3JDZ0MsTUFBTyxPQUNQQyxnQkFBaUIsT0FDakJySCxNQUFPckMsS0FBS0MsTUFBTW9DLFFBRzFCekIsT0FBUSxXQUNKLE1BQW9CLFFBQWpCWixLQUFLQyxNQUFNc0gsS0FFTjVILE1BQUFtQixjQUFBLFFBQUtFLFVBQUMsV0FBV2hCLEtBQVdNLE1BQUtnSCxVQUM3QjNILE1BQUFtQixjQUFBLFFBQUs2SSxJQUFDLE9BQUlDLFlBQU81SixLQUFhNEgsZ0JBQUtpQyxXQUFpQjdKLEtBQVU2SCxlQUFPMUcsUUFBZ0JuQixLQUFBb0IsYUFBY3BCLEtBQWFDLE1BQUNvQixVQUNqSDFCLE1BQUFtQixjQUFBLE9BQUk4SSxZQUFDNUosS0FBYThILG1CQUF1QitCLFdBQUU3SixLQUFZK0gsa0JBQUsvRyxVQUFtQixNQUFVMkksSUFBQSxNQUFTOUYsTUFBQzdELEtBQU11SixlQUFZdkosS0FBV0MsTUFBS2lILE1BSTdILEtBQWpCbEgsS0FBS0MsTUFBTXNILEtBRU41SCxNQUFBbUIsY0FBQSxRQUFLRSxVQUFDLFdBQVdoQixLQUFXTSxNQUFLZ0gsVUFDN0IzSCxNQUFBbUIsY0FBQSxLQUFFZ0osS0FBQzlKLEtBQU1DLE1BQUt1SCxNQUFXbUMsSUFBRSxPQUFJQyxZQUFPNUosS0FBVzRILGdCQUFPaUMsV0FBaUI3SixLQUFBNkgsZUFBaUIxRyxRQUFnQm5CLEtBQUFvQixhQUFjcEIsS0FBQUMsTUFBY29CLFVBQ3RJMUIsTUFBQW1CLGNBQUEsT0FBSThJLFlBQUM1SixLQUFhOEgsbUJBQXVCK0IsV0FBRTdKLEtBQVkrSCxrQkFBSy9HLFVBQW1CLE1BQVUySSxJQUFBLE1BQVM5RixNQUFDN0QsS0FBTXVKLGVBQVl2SixLQUFXQyxNQUFLaUgsTUFJN0gsVUFBakJsSCxLQUFLQyxNQUFNc0gsS0FFTjVILE1BQUFtQixjQUFBLFFBQUtFLFVBQUMsV0FBV2hCLEtBQVdNLE1BQUtnSCxVQUM3QjNILE1BQUFtQixjQUFBLFVBQU82SSxJQUFDLE9BQUlDLFlBQU81SixLQUFhNEgsZ0JBQUtpQyxXQUFpQjdKLEtBQVU2SCxlQUFPMUcsUUFBZ0JuQixLQUFBb0IsYUFBY3BCLEtBQWFDLE1BQUNvQixVQUNuSDFCLE1BQUFtQixjQUFBLE9BQUk4SSxZQUFDNUosS0FBYThILG1CQUF1QitCLFdBQUU3SixLQUFZK0gsa0JBQUsvRyxVQUFtQixNQUFVMkksSUFBQSxNQUFTOUYsTUFBQzdELEtBQU11SixlQUFZdkosS0FBV0MsTUFBS2lILE1BSmpKIiwiZmlsZSI6IkNoYXJtLVVJLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g5pW05L2T57uE5Lu2XG52YXIgQWRkcmVzc0xpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5vd0FkZHJlc3M6IHRoaXMucHJvcHMubG9jYWxBZGRyZXNzLFxuICAgICAgICAgICAgaXNXcmFwU2hvdzogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGhhbmRsZUJ0bkNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYoIXRoaXMuc3RhdGUuaXNXcmFwU2hvdykge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNXcmFwU2hvdzogdHJ1ZX0pO1xuICAgICAgICAgICAgLy8g5Ye6546w5YiX6KGo5LqL5Lu2XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnMDAwMDAwMDAwMDAwMDAwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1dyYXBTaG93OiBmYWxzZX0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVTZWxlY3RBZGRyZXNzOiBmdW5jdGlvbihzZWxlY3RBZGRyZXNzKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe25vd0FkZHJlc3M6IHNlbGVjdEFkZHJlc3N9KTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNXcmFwU2hvdzogZmFsc2V9KTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhZGRyZXNzV3JhcCA9IHRoaXMuc3RhdGUuaXNXcmFwU2hvdz88QWRkcmVzc1dyYXAgbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gc2VsZWN0QWRkcmVzcz17dGhpcy5oYW5kbGVTZWxlY3RBZGRyZXNzfS8+Om51bGw7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0XCI+XG4gICAgICAgICAgICAgICAgPEFkZHJlc3NEcm9wQnV0dG9uIGlzQ2xpY2s9e3RoaXMuc3RhdGUuaXNXcmFwU2hvd30gb25DbGljaz17dGhpcy5oYW5kbGVCdG5DbGlja30+e3RoaXMuc3RhdGUubm93QWRkcmVzc308L0FkZHJlc3NEcm9wQnV0dG9uPlxuICAgICAgICAgICAgICAgIHthZGRyZXNzV3JhcH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDkuIvmi4nmjInpkq5cbnZhciBBZGRyZXNzRHJvcEJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DbGljaygpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiQWRkcmVzc0Ryb3BCdXR0b25cIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widHJpYW5nbGUgXCIrdGhpcy5wcm9wcy5pc0NsaWNrfT48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5Zyw5Z2A5pON5L2c5qGG5a655ZmoXG52YXIgQWRkcmVzc1dyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc1dyYXBcIj5cbiAgICAgICAgICAgICAgICA8QWRkcmVzc1dyYXBUb3AgbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gc2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5zZWxlY3RBZGRyZXNzfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cbi8vIOWcsOWdgOWIl+ihqOWktOmDqFxudmFyIEFkZHJlc3NXcmFwVG9wID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NXcmFwVG9wXCI+XG4gICAgICAgICAgICAgICAgPEFkZHJlc3NMb2NhdGlvbiBsb2NhbEFkZHJlc3M9e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfSBzZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLnNlbGVjdEFkZHJlc3N9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5a6a5L2N5b2T5YmN5Zyw5Z2AXG52YXIgQWRkcmVzc0xvY2F0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5zZWxlY3RBZGRyZXNzKHRoaXMucHJvcHMubG9jYWxBZGRyZXNzKTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIOeMnOS9oOWcqO+8mjxzcGFuIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5Zyw5Z2A5pCc57SiXG52YXIgQWRkcmVzc1NlYXJjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5Zyw5Z2A5YiX6KGo5a655ZmoXG52YXIgQWRkcmVzc0xpc3RXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDlnLDlnYDliJfooajooYxcbnZhciBBZGRyZXNzTGlzdFJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5LqM57qn5Zyw5Z2A5YiX6KGo5a655ZmoXG52YXIgQWRkcmVzc1NlY29uZFdyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cbi8vIOS6jOe6p+WcsOWdgOWIl+ihqOWuueWZqFxudmFyIEFkZHJlc3NTZWNvbmRXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDkuoznuqflnLDlnYDliJfooajooYxcbnZhciBBZGRyZXNzU2Vjb25kUm93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PjwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDmu5rliqjmnaHnu4Tku7ZcbnZhciBTY3JvbGxCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufSk7XG4iLCIndXNlIHN0cmljdCdcblxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAgQ29tcG9uZW50OiBBZGRyZXNzU2VhcmNoXG4vL1xuLy8gIEluY2x1ZGU6IEFkZHJlc3NJbnB1dCBBZGRyZXNzTWFwXG4vL1xuLy8gIERlc2NyaXB0aW9uOiAgSnN4IGZvciBBZGRyZXNzU2VhcmNoXG4vL1xuLy8gIFRPRE86XG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyogQWRkcmVzc1NlYXJjaCAqL1xudmFyIEFkZHJlc3NTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFkZHJlc3M6IG51bGxcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXG4gICAgICBpbnB1dFRpcDogXCLovpPlhaXmg7PopoHmkJzntKLnmoTlnLDlnYBcIixcbiAgICAgIHNlYXJjaEJ0blRleHQ6IFwi5pCc57SiXCIsXG4gICAgICBjaXR5OiBcIuilv+WuiVwiXG4gICAgfVxuICB9LFxuICBzZXRBZGRyZXNzOiBmdW5jdGlvbihhZCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWRkcmVzczogYWRcbiAgICB9KTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIga2V5d29yZFN0eWxlID0ge1xuICAgICAgd2lkdGg6IHRoaXMucHJvcHMuc2VhcmNoSW5wdXRcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1zZWFyY2hcIj5cbiAgICAgICAgPEFkZHJlc3NJbnB1dCBjaXR5PXt0aGlzLnByb3BzLmNpdHl9IGlucHV0VGlwPXt0aGlzLnByb3BzLmlucHV0VGlwfSBpbnB1dFdpZHRoPXt0aGlzLnByb3BzLmlucHV0V2lkdGh9IHNlYXJjaEJ0blRleHQ9e3RoaXMucHJvcHMuc2VhcmNoQnRuVGV4dH0gc2VhcmNoU3VibWl0SGFuZGxlcj17dGhpcy5zZXRBZGRyZXNzfS8+XG4gICAgICAgIHt0aGlzLnN0YXRlLmFkZHJlc3NcbiAgICAgICAgICA/IDxBZGRyZXNzTWFwIGFkZHJlc3NLZXl3b3JkPXt0aGlzLnN0YXRlLmFkZHJlc3N9IGNpdHk9e3RoaXMucHJvcHMuY2l0eX0vPlxuICAgICAgICAgIDogbnVsbH1cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuXG4vKiBBZGRyZXNzSW5wdXQgKi9cbnZhciBBZGRyZXNzSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleXdvcmQ6IG51bGxcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXG4gICAgICBpbnB1dFRpcDogXCLovpPlhaXmg7PopoHmkJzntKLnmoTlnLDlnYBcIixcbiAgICAgIHNlYXJjaEJ0blRleHQ6IFwi5pCc57SiXCJcbiAgICB9XG4gIH0sXG4gIHNlYXJjaFN1Ym1pdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5wcm9wc1xuICAgICAgLnNlYXJjaFN1Ym1pdEhhbmRsZXIodGhpcy5zdGF0ZS5rZXl3b3JkKTtcbiAgfSxcbiAga2V5d29yZENoYW5nZTogZnVuY3Rpb24oZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAga2V5d29yZDogZS50YXJnZXQudmFsdWVcbiAgICB9KTtcbiAgfSxcbiAgY2hlY2tFbnRlcjogZnVuY3Rpb24oZSkge1xuICAgIChlLmtleUNvZGUgPT09IDEzKSAmJiB0aGlzLnNlYXJjaFN1Ym1pdCgpO1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1hcEF1dG9Db21wbGV0ZSA9IG5ldyBCTWFwLkF1dG9jb21wbGV0ZSh7XG4gICAgICBcImlucHV0XCI6IFwiX2FkZHJlc3NTZWFyY2hLZXl3b3JkXCIsXG4gICAgICBcImxvY2F0aW9uXCI6IHRoaXMucHJvcHMuY2l0eVxuICAgIH0pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBrZXl3b3JkU3R5bGUgPSB7XG4gICAgICB3aWR0aDogdGhpcy5wcm9wcy5pbnB1dFdpZHRoXG4gICAgfTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZGRyZXNzLWlucHV0XCI+XG4gICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJpbnB1dC1rZXl3b3JkXCIgaWQ9XCJfYWRkcmVzc1NlYXJjaEtleXdvcmRcIiBvbkNoYW5nZT17dGhpcy5rZXl3b3JkQ2hhbmdlfSBvbktleVVwPXt0aGlzLmNoZWNrRW50ZXJ9IHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLmlucHV0VGlwfSBzdHlsZT17a2V5d29yZFN0eWxlfT48L2lucHV0PlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImlucHV0LWNvbW1pdFwiIG9uQ2xpY2s9e3RoaXMuc2VhcmNoU3VibWl0fT57dGhpcy5wcm9wcy5zZWFyY2hCdG5UZXh0fTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIEFkZHJlc3NNYXAgKi9cbnZhciBBZGRyZXNzTWFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXBMb2NhbE9iajogbnVsbCxcbiAgICAgIGl0ZW1zTnVtYmVyOiAwXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge31cbiAgfSxcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtYXAgPSBuZXcgQk1hcC5NYXAoXCJfYWRkcmVzc01hcE1haW5cIik7XG4gICAgbWFwLmNlbnRlckFuZFpvb20odGhpcy5wcm9wcy5jaXR5KTtcbiAgICB2YXIgbWFwTG9jYWxPYmogPSBuZXcgQk1hcC5Mb2NhbFNlYXJjaChtYXAsIHtcbiAgICAgIHJlbmRlck9wdGlvbnM6IHtcbiAgICAgICAgbWFwOiBtYXAsXG4gICAgICAgIHBhbmVsOiBcIl9hZGRyZXNzTWFwSXRlbXNcIlxuICAgICAgfSxcbiAgICAgIG9uU2VhcmNoQ29tcGxldGU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgLy8gdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIC8vICAgaXRlbXNOdW1iZXI6IGUuZ2V0TnVtUG9pcygpXG4gICAgICAgIC8vIH0pO1xuICAgICAgICBjb25zb2xlLmxvZyhlLmdldE51bVBvaXMoKSk7XG4gICAgICB9LmJpbmQodGhpcylcbiAgICB9KTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIG1hcExvY2FsT2JqOiBtYXBMb2NhbE9ialxuICAgIH0pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RhdGUubWFwTG9jYWxPYmogJiYgdGhpcy5zdGF0ZVxuICAgICAgLm1hcExvY2FsT2JqXG4gICAgICAuc2VhcmNoKHRoaXMucHJvcHMuYWRkcmVzc0tleXdvcmQpO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtbWFwXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdi10aXRsZVwiPlxuICAgICAgICAgICAg5om+5YiwXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXAtbmF2LW51bWJlclwiPlxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pdGVtc051bWJlcn1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIOWutuS9k+mqjOW6l1xuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW1zXCIgaWQ9XCJfYWRkcmVzc01hcEl0ZW1zXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1tYWluXCIgaWQ9XCJfYWRkcmVzc01hcE1haW5cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gIENvbXBvbmVudDogUHJvZ3Jlc3NCYXJcbi8vXG4vLyAgSW5jbHVkZTogU3Bpbm5lclxuLy9cbi8vICBEZXNjcmlwdGlvbjogSnN4IGZvciBQcm9ncmVzc0JhclxuLy9cbi8vICBUT0RPOiBbZml4XSDkv67mraPliJ3lp4vml7YgdHJhbnNpdGlvbiDkuI3nlJ/mlYjnmoTpl67pophcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKiBTcGlubmVyICovXG52YXIgU3Bpbm5lciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1zcGlubmVyXCI+PC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIFByb2dyZXNzQmFyICovXG52YXIgUHJvZ3Jlc3NCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJhdGU6IG51bGwsXG4gICAgICBkb25lOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNwZWVkOiAwLjYsICAvLyDliqjnlLvpgJ/luqZcbiAgICAgIHNwaW5uZXI6IHRydWUsICAvLyDmmK/lkKbmnInlnIjlnIhcbiAgICAgIGVhc2luZzogJ2Vhc2UnLCAgLy8g5Yqo55S757yT5Yqo5puy57q/XG4gICAgICBtYXhSYXRlOiAwLjk2LCAgLy8g6L+b5bqm5p2h5pyA5aSn5a695bqmXG4gICAgICBpbmNTdGVwOiAwLjA0LCAgLy8gaW5jIOWinumVv+atpeW5hVxuICAgICAgbWluU3RlcDogMC4wMDUsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlsI/mraXluYVcbiAgICAgIG1heFN0ZXA6IDAuMDMsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlpKfmraXluYVcbiAgICAgIHRyaWNrbGU6IHRydWUsICAvLyDmmK/lkKboh6rliqjlop7plb9cbiAgICAgIHRyaWNrbGVTcGVlZDogODAwLCAgLy8g6Ieq5Yqo5aKe6ZW/55qE6Ze06ZqU5pe26Ze0XG4gICAgICBzZXRUcmlja2xlOiBmYWxzZSAgLy8gc2V0IOWQjuaYr+WQpuiHquWKqOWinumVv++8iOacquWQr+eUqO+8iVxuICAgIH07XG4gIH0sXG4gIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5zZXQoJzAuNSUnKTtcbiAgICB0aGlzLnByb3BzLnRyaWNrbGUgJiYgdGhpcy5fYXV0b0luYygpO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKG4sIHRyaWNrbGUpIHtcbiAgICAhdHJpY2tsZSAmJiB0aGlzLl9pbml0KCk7XG4gICAgbiA9IHRoaXMuX2Zvcm1hdChuKTtcbiAgICBpZiAobiA9PT0gMTAwKSB7XG4gICAgICAvKiBkb25lICovXG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcmF0ZTogMTAwXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbiA9IG4gPiB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcbiAgICAgICAgOiBuO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHJhdGU6IG5cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgaW5jOiBmdW5jdGlvbihuKSB7XG4gICAgdGhpcy5faW5pdCgpO1xuICAgIHRoaXMucHJvcHMudHJpY2tsZSAmJiB0aGlzLl9hdXRvSW5jKCk7XG4gICAgbiA9IG5cbiAgICAgID8gdGhpcy5fZm9ybWF0KG4pXG4gICAgICA6IHRoaXMucHJvcHMuaW5jU3RlcCAqIDEwMDtcbiAgICB2YXIgbmV3UmF0ZSA9IHRoaXMuc3RhdGUucmF0ZSArIG47XG4gICAgdGhpcy5zZXQobmV3UmF0ZSArICclJywgdHJ1ZSk7XG4gIH0sXG4gIGRvbmU6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2V0KCcxMDAlJyk7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBkb25lOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHJhdGU6IG51bGxcbiAgICAgICAgfSk7XG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuc3BlZWQgKiAyICogMTAwMCk7XG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMTAwMCk7XG4gIH0sXG4gIF9mb3JtYXQ6IGZ1bmN0aW9uKGRhdGEpIHsgIC8vIOagvOW8j+WMluS4uiAwLTEwMCDnmoTmlbTmlbBcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7ICAvLyAwLTEg55qE5bCP5pWwXG4gICAgICByZXR1cm4gZGF0YSA+IDFcbiAgICAgICAgPyB0aGlzLnByb3MubWF4UmF0ZSAqIDEwMFxuICAgICAgICA6IGRhdGEgKiAxMDA7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHsgIC8vIOeZvuWIhuavlFxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YSkgPiAxMDBcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcbiAgICAgICAgOiBwYXJzZUZsb2F0KGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9LFxuICBfaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zdGF0ZS5kb25lICYmIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgZG9uZTogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLnRpbWVyICYmIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcbiAgfSxcbiAgX2F1dG9JbmM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuZXdSYXRlO1xuICAgIHZhciByYW5kb207XG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgcmFuZG9tID0gdGhpcy5fZ2V0UmFkb21TdGVwKCk7XG4gICAgICBuZXdSYXRlID0gdGhpcy5zdGF0ZS5yYXRlICsgcmFuZG9tO1xuICAgICAgY29uc29sZS5sb2cocmFuZG9tKTtcbiAgICAgIGlmIChuZXdSYXRlID4gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMCk7XG4gICAgICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2cobmV3UmF0ZSk7XG4gICAgICB0aGlzLnNldChuZXdSYXRlICsgJyUnLCB0cnVlKTtcbiAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMudHJpY2tsZVNwZWVkKTtcbiAgfSxcbiAgX2NsZWFySW50ZXJ2YWw6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMudGltZXIgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgfSxcbiAgX2dldFJhZG9tU3RlcDogZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBtaW4gPSBtaW4gfHwgdGhpcy5wcm9wcy5taW5TdGVwICogMTAwO1xuICAgIG1heCA9IG1heCB8fCB0aGlzLnByb3BzLm1heFN0ZXAgKiAxMDA7XG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJvZ3Jlc3NTdHlsZSA9IHtcbiAgICAgIC8vZGlzcGxheTogKCF0aGlzLnN0YXRlLnJhdGUgJiYgdHlwZW9mIHRoaXMuc3RhdGUucmF0ZSA9PT0gJ29iamVjdCcpID8gJ25vbmUnIDogJ2Jsb2NrJyxcbiAgICAgIG9wYWNpdHk6IHRoaXMuc3RhdGUuZG9uZVxuICAgICAgICA/IDBcbiAgICAgICAgOiAxLFxuICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgJyArIHRoaXMucHJvcHMuc3BlZWQgKiAyICsgJ3MgJyArIHRoaXMucHJvcHMuZWFzaW5nXG4gICAgfTtcbiAgICB2YXIgYmFyU3R5bGUgPSB7XG4gICAgICB3aWR0aDogIXRoaXMuc3RhdGUucmF0ZVxuICAgICAgICA/IDBcbiAgICAgICAgOiB0aGlzLnN0YXRlLnJhdGUgKyAnJScsXG4gICAgICB0cmFuc2l0aW9uOiAnd2lkdGggJyArIHRoaXMucHJvcHMuc3BlZWQgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmdcbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnJhdGVcbiAgICAgID8gKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXByb2dyZXNzXCIgc3R5bGU9e3Byb2dyZXNzU3R5bGV9PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3MtYmFyXCIgc3R5bGU9e2JhclN0eWxlfT48L2Rpdj5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5zcGlubmVyXG4gICAgICAgICAgICA/IDxTcGlubmVyLz5cbiAgICAgICAgICAgIDogbnVsbH1cbiAgICAgICAgPC9kaXY+XG4gICAgICApXG4gICAgICA6IG51bGw7XG4gIH1cbn0pO1xuIiwidmFyIFRvb2xUaXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpcDogXCJ0aXBcIixcbiAgICAgICAgICAgIHRyaWdnZXI6ICdob3ZlcicsXG4gICAgICAgICAgICBkZWxheTogMCxcbiAgICAgICAgICAgIGhvdmVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJ0aXBcIixcbiAgICAgICAgICAgIHdpZHRoOiBcIjIwMHB4XCIsXG4gICAgICAgICAgICB0eXBlOiAnc3BhbicsXG4gICAgICAgICAgICBhSHJlZjogXCIjXCJcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wcm9wcy5wb3NpdGlvbixcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIGlzT25UaXA6IGZhbHNlLFxuICAgICAgICAgICAgdGlwSGVpZ2h0OiBcIlwiXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBoYW5kbGVNb3VzZU92ZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImhvdmVyXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZU1vdXNlT3V0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJob3ZlclwiKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuaXNPblRpcCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpICwgdGhpcy5wcm9wcy5kZWxheSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJjbGlja1wiKSB7XG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYoIXRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVUaXBNb3VzZU92ZXI6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYodGhpcy5wcm9wcy5ob3ZlcmFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzT25UaXA6IHRydWV9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZVRpcE1vdXNlT3V0OiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmKHRoaXMucHJvcHMuaG92ZXJhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc09uVGlwOiBmYWxzZX0pO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0VGlwUG9zaXRpb24oKTtcbiAgICB9LFxuICAgIHNldFRpcFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRpcCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpO1xuICAgICAgICB2YXIgY29udCA9IHRoaXMucmVmcy5jb250LmdldERPTU5vZGUoKTtcbiAgICAgICAgaWYoIXRoaXMuZmxhZykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS50aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgdGhpcy5mbGFnID0gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aXAub2Zmc2V0V2lkdGg7XG4gICAgICAgIHZhciB0aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB2YXIgY29udFdpZHRoID0gY29udC5vZmZzZXRXaWR0aDtcbiAgICAgICAgdmFyIGNvbnRIZWlnaHQgPSBjb250Lm9mZnNldEhlaWdodDtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlLnBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjYXNlIFwibGVmdFwiOnRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aCsyMCkrXCJweFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6dGlwLnN0eWxlLnRvcCA9IC0odGlwSGVpZ2h0LWNvbnRIZWlnaHQpLzIrXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJ0b3BcIjp0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgtY29udFdpZHRoKS8yK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5ib3R0b20gPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b21cIjp0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgtY29udFdpZHRoKS8yK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS50b3AgPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoKzIwKStcInB4XCI7XG4gICAgICAgIH1cbiAgICAgICAgdGlwLnN0eWxlLmhlaWdodCA9IHRoaXMuc3RhdGUudGlwSGVpZ2h0LTIwK1wicHhcIjtcbiAgICAgICAgdGhpcy5wcmV2ZXJ0VGlwT3ZlcmZsb3coKTtcbiAgICB9LFxuICAgIHByZXZlcnRUaXBPdmVyZmxvdzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0aXBYID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcbiAgICAgICAgdmFyIHRpcFkgPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICAgIHZhciB0aXBXaWR0aCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgdGlwSGVpZ2h0ID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB2YXIgYXZhaWxXaWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpO1xuICAgICAgICBpZih0aXBYIDwgMCAmJiB0aXBYK3RpcFdpZHRoID4gYXZhaWxXaWR0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGlwWCA8IDApIHtcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJ0b3BcIn0pO1xuICAgICAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwidG9wXCIgfHwgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImJvdHRvbVwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwicmlnaHRcIn0pO1xuICAgICAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwiYm90dG9tXCJ9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImJvdHRvbVwiIHx8IHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJ0b3BcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImxlZnRcIn0pO1xuICAgICAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH0sXG4gICAgZ2V0VGlwU3R5bGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlzcGxheTogdGhpcy5zdGF0ZS5pc0FjdGl2ZT9cImJsb2NrXCI6XCJub25lXCIsXG4gICAgICAgICAgICBjb2xvcjogXCJwaW5rXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMzM1wiLFxuICAgICAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMud2lkdGgsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwic3BhblwiKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwiYVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLmFIcmVmfSByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2E+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwiYnV0dG9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9