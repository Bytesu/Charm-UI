var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:null,isWrapShow:!1}},handleBtnClick:function(){this.setState({isWrapShow:!this.state.isWrapShow})},handleSelectAddress:function(e){this.setState({nowAddress:e,isWrapShow:!1}),this.props.setCity&&this.props.setCity(e)},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress?this.state.nowAddress:this.props.localAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",render:function(){return React.createElement("div",{className:"AddressWrap"},React.createElement("div",{className:"AddressCont"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress})))}}),AddressLocation=React.createClass({displayName:"AddressLocation",handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",{className:"AddressLocation"},"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{result:[]}},handleResultClick:function(e){var t=e.target.getAttribute("data");this.props.handleSelectAddress(t)},handleSearch:function(e){var t=e.target.value,s=t.length,a=this.props.addressData,i=/^[\u4E00-\u9FA5]+$/;if(i.test(t)){var r=[],n=0;for(var o in a)for(var p in a[o])a[o][p].city.substring(0,s)==t&&(r[n]=a[o][p].city,n++);return void this.setState({result:r})}var c=t.substring(0,1).toLocaleUpperCase(),l=a[c],d=[],h=0;for(var u in l)u.substring(0,s)==t.toLocaleLowerCase()&&(d[h]=l[u].city),h++;this.setState({result:d})},render:function(){var e=this.handleResultClick,t=this.state.result.map(function(t){return React.createElement("li",{data:t,onClick:e},t)});return React.createElement("div",{className:"AddressSearch"},"直接搜索",React.createElement("input",{onChange:this.handleSearch,placeholder:"请输入城市名"}),React.createElement("ul",{className:"AddressSearchResult"},t))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",render:function(){var e=this.props.addressData,t=this.props.handleSelectAddress,s=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement(AddressListRow,{key:i,keyData:i,data:e[i],handleSelectAddress:t}),a++;return s}(e);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",handleClick:function(e){var t=e.target.getAttribute("data");this.props.handleSelectAddress(t)},render:function(){var e=this.handleClick,t=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement("span",{key:"p"+i},React.createElement("span",{data:t[i].city,key:a,onClick:e},t[i].city)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},t))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"dark"}},componentWillMount:function(){var e=new BMap.LocalCity;e.get(function(e){var t=e.name;this.setCity(t)}.bind(this))},setAddress:function(e){this.setState({address:e})},setCity:function(e){this.setState({city:e})},render:function(){return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,React.__spread({},this.props,{searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:this.props.keyword}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"light"}},searchSubmit:function(){var e=this.getDOMNode().children[0].value;this.props.searchSubmitHandler(e),setCookie("searchKeyword",e,30)},checkEnter:function(e){13===e.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var e={width:this.props.inputWidth},t="address-input";switch(this.props.theme){case"light":break;case"dark":t+=" dark"}return React.createElement("div",{className:t},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onKeyUp:this.checkEnter,placeholder:this.state.keyword||this.props.inputTip,style:e}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0,itemsList:[],itemActive:0}},getDefaultProps:function(){return{mapSearchgeotableId:121763,mapSearchTags:"",mapSearchFilter:"",theme:"light"}},componentDidMount:function(){this.map=new BMap.Map("_addressMapMain",{enableMapClick:!1}),this.map.centerAndZoom(this.props.city,12)},componentWillReceiveProps:function(e){e.addressKeyword&&this.getNearby(e.addressKeyword)},getNearby:function(e,t){var s=new BMap.Geocoder,a=this;s.getPoint(e,function(e){e?$.ajax({type:"get",url:"http://api.map.baidu.com/geosearch/v3/nearby",dataType:"jsonp",data:{ak:"sdp9qCbToS7E23nDRxaAAwbh",geotable_id:121763,location:e.lng+","+e.lat,radius:1e4,page_index:t||0,page_size:50},jsonp:"callback",success:function(e){a.setState({itemsNumber:e.total,itemsList:e.contents}),a.showNearby(),a.map.centerAndZoom(a.props.addressKeyword,12)}}):alert("未找到该区域信息")}.bind(this),this.props.city)},showNearby:function(){var e=this;for(var t in this.state.itemsList){var s=new BMap.Point(this.state.itemsList[t].location[0],this.state.itemsList[t].location[1]),a=new BMap.Marker(s),i=new BMap.Label(String.fromCharCode(65+parseInt(t)),{offset:new BMap.Size(4,2)});i.setStyle({border:"none",backgroundColor:"transparent",color:"#FAFAFA"}),a.setLabel(i),a.setTitle(this.state.itemsList[t].title),a.addEventListener("click",function(t){e.showInfoWindow(this.getLabel().content.charCodeAt(0)-65)}),this.map.addOverlay(a)}this.state.itemsList.length&&this.showInfoWindow(0)},showInfoWindow:function(e){if(e!==this.state.itemActive,!0){var t=new BMap.Point(this.state.itemsList[e].location[0],this.state.itemsList[e].location[1]),s=this.state.itemsList[e],a=s.title,i=s.address,r=(s.tel,'<p class="map-info-window">地址：'+i+"</p>"),n=new BMap.InfoWindow(r,{title:a,width:290,panel:"panel",enableAutoPan:!0,offset:new BMap.Size(0,-25)});this.setState({itemActive:+e}),this.map.openInfoWindow(n,t)}},clickMapItem:function(e){var t=e.target,s=t.getAttribute("class"),a=0;a="map-item"===s?t.getAttribute("data-key"):"map-item-mark"===s||"map-item-main"===s?t.parentNode.getAttribute("data-key"):s?t.parentNode.parentNode.getAttribute("data-key"):t.parentNode.parentNode.parentNode.getAttribute("data-key"),this.showInfoWindow(a)},render:function(){var e="address-map";switch(this.props.theme){case"light":break;case"dark":e+=" dark"}var t={backgroundColor:"#181211"};return React.createElement("div",{className:e,style:{display:this.props.addressKeyword?"block":"none"}},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"附近有",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("ul",{className:"map-items",id:"_addressMapItems",onClick:this.clickMapItem},this.state.itemsList.map(function(e,s){return React.createElement("li",{className:"map-item","data-key":s,key:s,style:s===this.state.itemActive?t:{}},React.createElement("span",{className:"map-item-mark"},String.fromCharCode(65+s)),React.createElement("div",{className:"map-item-main"},React.createElement("div",{className:"map-item-title"},e.title),React.createElement("div",{className:"map-item-address"},"地址：",e.address),React.createElement("div",{className:"map-item-tel"},"电话：",e.tel)))}.bind(this)))),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"北京",currentCity:null,address:this.props.keyword}},getDefaultProps:function(){return{}},componentWillMount:function(){var e=new BMap.LocalCity;e.get(function(e){var t=e.name;this.setState({currentCity:t})}.bind(this))},setAddress:function(e){this.setState({address:e})},setCity:function(e){this.setState({city:e})},render:function(){var e=this.state.address?this.props.addressPickerActiveStyle:{};return React.createElement("div",{className:"address-picker",style:e},React.createElement(AddressList,{setCity:this.setCity,localAddress:this.state.currentCity,addressData:this.props.addressData}),React.createElement(AddressInput,React.__spread({},this.props,{city:this.state.city,searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),PaginationBtn=React.createClass({displayName:"PaginationBtn",getDefaultProps:function(){return{text:1,type:"num"}},render:function(){var e="dot"===this.props.type?"...":this.props.text,t=this.props.active?"item active":"item";return"num"!==this.props.type&&(t+=" page "+this.props.type),this.props.disabled&&(t+=" disabled"),React.createElement("li",{className:t,onClick:this.props.changePage},React.createElement("a",null,e))}}),PagiOverview=React.createClass({displayName:"PagiOverview",render:function(){return React.createElement("div",{className:"overview"},"共 ",this.props.pages," 页，")}}),PagiQuickGo=React.createClass({displayName:"PagiQuickGo",getInitialState:function(){return{pageInput:null}},inputChange:function(e){this.setState({pageInput:e.target.value})},quickGo:function(){if(this.state.pageInput){var e=+this.state.pageInput;e=1>e?1:e,e=e>this.props.pages?this.props.pages:e,this.props.setActivePage(e)}},render:function(){return React.createElement("div",{className:"quick-go"},React.createElement("span",null,"到第"),React.createElement("input",{className:"go-page",type:"number",min:"1",max:this.props.pages,onChange:this.inputChange}),React.createElement("span",null,"页"),React.createElement("button",{className:"go-submit",onClick:this.quickGo},"确认"))}}),PagiMain=React.createClass({displayName:"PagiMain",getInitialState:function(){return{pageItems:this.getPageItems(this.props.activePage)}},componentWillReceiveProps:function(e){if(e.activePage!==this.props.activePage){var t=this.getPageItems(e.activePage);this.setState({pageItems:t}),this.props.selected(e.activePage)}},handleItemClick:function(e,t){t="first"===e?1:"prev"===e?1===this.props.activePage?1:this.props.activePage-1:"next"===e?this.props.activePage===this.props.pages?this.props.pages:this.props.activePage+1:"last"===e?this.props.pages:t,t!==this.props.activePage&&this.props.setActivePage(t)},getPageItems:function(e){var t=[],s=this.props.basePages,a=this.props.midPages,i=this.props.pages;return e<=parseInt(a/2)+1?t=this._getSeriesNumber(1,s+a>=i?i:a):e<=parseInt(a/2)+1+s||s+a>=i?t=this._getSeriesNumber(1,s+a>=i?i:e+2):e<i-parseInt(a/2)-1?(t=this._getSeriesNumber(1,this.props.basePages),t.push(0),t=t.concat(this._getSeriesNumber(e-2,a)),i>a+s+2&&t.push(0)):e===i-parseInt(a/2)-1?(t=this._getSeriesNumber(1,this.props.basePages),t.push(0),t=t.concat(this._getSeriesNumber(i-a,a+1))):(t=this._getSeriesNumber(1,this.props.basePages),t.push(0),t=t.concat(this._getSeriesNumber(i-a+1,a))),t},_getSeriesNumber:function(e,t){e=e,t=t;for(var s=[];t--;)s.push(e++);return s},render:function(){var e=[],t=[];return this.props.pages>0&&(this.props.first&&e.push(React.createElement(PaginationBtn,{key:"first",text:this.props.first,disabled:1===this.props.activePage?!0:!1,type:"prev",type:"first",changePage:this.handleItemClick.bind(this,"first")})),this.props.prev&&e.push(React.createElement(PaginationBtn,{key:"prev",text:this.props.prev,disabled:1===this.props.activePage?!0:!1,type:"prev",changePage:this.handleItemClick.bind(this,"prev")})),this.props.next&&t.push(React.createElement(PaginationBtn,{key:"next",text:this.props.next,type:"next",disabled:this.props.activePage===this.props.pages?!0:!1,changePage:this.handleItemClick.bind(this,"next")})),this.props.last&&t.push(React.createElement(PaginationBtn,{key:"last",text:this.props.last,type:"last",disabled:this.props.activePage===this.props.pages?!0:!1,changePage:this.handleItemClick.bind(this,"last")}))),React.createElement("ul",{className:"pagi-main"},e,this.props.pages>0&&this.state.pageItems.map(function(e,t){return React.createElement(PaginationBtn,{key:t,text:e,type:e?"num":"dot",active:e===this.props.activePage?!0:!1,changePage:e?this.handleItemClick.bind(this,"num",e):null})}.bind(this)),t)}}),Pagination=React.createClass({displayName:"Pagination",propTypes:{pages:React.PropTypes.number},getInitialState:function(){return{activePage:this.props.activePage}},getDefaultProps:function(){return{activePage:1,first:null,prev:"上一页",basePages:2,midPages:5,ellipsis:!0,next:"下一页",last:null,theme:"light",quickGo:!1,selected:function(e){console.log(e)}}},setActivePage:function(e){this.setState({activePage:e})},render:function(){var e="light"===this.props.theme?"pagination":"pagination "+this.props.theme;return React.createElement("div",{className:e},React.createElement(PagiMain,React.__spread({},this.props,{activePage:this.state.activePage,setActivePage:this.setActivePage})),this.props.quickGo?React.createElement(PagiOverview,{pages:this.props.pages}):null,this.props.quickGo?React.createElement(PagiQuickGo,{pages:this.props.pages,setActivePage:this.setActivePage}):null)}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(e,t){!t&&this._init(),e=this._format(e),100===e?this.setState({rate:100}):(e=e>100*this.props.maxRate?100*this.props.maxRate:e,this.setState({rate:e}))},inc:function(e){this._init(),this.props.trickle&&this._autoInc(),e=e?this._format(e):100*this.props.incStep;var t=this.state.rate+e;this.set(t+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(e){return"number"==typeof e?e>1?100*this.pros.maxRate:100*e:"string"==typeof e?parseFloat(e)>100?100*this.props.maxRate:parseFloat(e):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var e,t;this.timer=setInterval(function(){return t=this._getRadomStep(),e=this.state.rate+t,console.log(t),e>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(e),void this.set(e+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(e,t){return e=e||100*this.props.minStep,t=t||100*this.props.maxStep,Math.random()*(t-e)+e},render:function(){var e={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},t={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:e},React.createElement("div",{className:"cu-progress-bar",style:t}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(e){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(e){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(e){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(e){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(e){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var e=this.refs.tip.getDOMNode(),t=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=e.offsetHeight,this.flag=1);var s=e.offsetWidth,a=e.offsetHeight,i=t.offsetWidth,r=t.offsetHeight;switch(this.state.position){case"left":e.style.top=-(a-r)/2+"px",e.style.left=-(s+20)+"px";break;case"right":e.style.top=-(a-r)/2+"px",e.style.left="100%";break;case"top":e.style.left=-(s-i)/2+"px",e.style.bottom="100%";break;case"bottom":e.style.left=-(s-i)/2+"px",e.style.top="100%";break;default:e.style.top=-(a-r)/2+"px",e.style.left=-(s+20)+"px"}e.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var e=this.refs.tip.getDOMNode().getBoundingClientRect().left,t=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>e&&e+t>s)return!0;if(0>e){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(e+t>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NTZWFyY2gvQWRkcmVzc1NlYXJjaC5qc3giLCJBZGRyZXNzUGlja2VyL0FkZHJlc3NQaWNrZXIuanN4IiwiUGFnaW5hdGlvbi9QYWdpbmF0aW9uLmpzeCIsIlByb2dyZXNzQmFyL1Byb2dyZXNzQmFyLmpzeCIsIlRvb2x0aXAvVG9vbHRpcC5qc3giXSwibmFtZXMiOlsiQWRkcmVzc0xpc3QiLCJSZWFjdCIsImNyZWF0ZUNsYXNzIiwiZGlzcGxheU5hbWUiLCJnZXRJbml0aWFsU3RhdGUiLCJub3dBZGRyZXNzIiwiaXNXcmFwU2hvdyIsImhhbmRsZUJ0bkNsaWNrIiwidGhpcyIsInNldFN0YXRlIiwic3RhdGUiLCJoYW5kbGVTZWxlY3RBZGRyZXNzIiwic2VsZWN0Q3QiLCJwcm9wcyIsInNldENpdHkiLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiQWRkcmVzc0Ryb3BCdXR0b24iLCJ0cmlhbmdsZVN0YXRlIiwib25DbGljayIsImxvY2FsQWRkcmVzcyIsIkFkZHJlc3NXcmFwIiwiYWRkcmVzc0RhdGEiLCJoYW5kbGVDbGljayIsImNoaWxkcmVuIiwiQWRkcmVzc0xvY2F0aW9uIiwiQWRkcmVzc1NlYXJjaElucHV0IiwiQWRkcmVzc0xpc3RXcmFwIiwicmVzdWx0IiwiaGFuZGxlUmVzdWx0Q2xpY2siLCJlIiwiYWRkcmVzcyIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsImhhbmRsZVNlYXJjaCIsImV2ZW50IiwiY29udCIsInZhbHVlIiwibGVuIiwibGVuZ3RoIiwicmVnIiwidGVzdCIsIl9yZXN1bHRIIiwiaiIsImtleUgiLCJrZXlIUyIsImNpdHkiLCJzdWJzdHJpbmciLCJGTCIsInRvTG9jYWxlVXBwZXJDYXNlIiwicmVzdWx0RkwiLCJfcmVzdWx0IiwiaSIsImtleSIsInRvTG9jYWxlTG93ZXJDYXNlIiwiX2hhbmRsZVJlc3VsdENsaWNrIiwicmVzdWx0Tm9kZXMiLCJtYXAiLCJkYXRhIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInJvd05vZGVzIiwiQWRkcmVzc0xpc3RSb3ciLCJrZXlEYXRhIiwiZGF0YU5vZGVzIiwiQWRkcmVzc1NlYXJjaCIsImdldERlZmF1bHRQcm9wcyIsImlucHV0V2lkdGgiLCJpbnB1dFRpcCIsInNlYXJjaEJ0blRleHQiLCJ0aGVtZSIsImNvbXBvbmVudFdpbGxNb3VudCIsIm15Q2l0eSIsIkJNYXAiLCJMb2NhbENpdHkiLCJnZXQiLCJyZXMiLCJjdXJyZW50Q2l0eSIsIm5hbWUiLCJiaW5kIiwic2V0QWRkcmVzcyIsImFkIiwiY3QiLCJBZGRyZXNzSW5wdXQiLCJfX3NwcmVhZCIsInNlYXJjaFN1Ym1pdEhhbmRsZXIiLCJBZGRyZXNzTWFwIiwiYWRkcmVzc0tleXdvcmQiLCJrZXl3b3JkIiwic2VhcmNoU3VibWl0IiwiZ2V0RE9NTm9kZSIsInNldENvb2tpZSIsImNoZWNrRW50ZXIiLCJrZXlDb2RlIiwiY29tcG9uZW50RGlkTW91bnQiLCJBdXRvY29tcGxldGUiLCJpbnB1dCIsImxvY2F0aW9uIiwia2V5d29yZFN0eWxlIiwid2lkdGgiLCJjb25DbGFzc05hbWUiLCJpZCIsIm9uS2V5VXAiLCJzdHlsZSIsIm1hcExvY2FsT2JqIiwiaXRlbXNOdW1iZXIiLCJpdGVtc0xpc3QiLCJpdGVtQWN0aXZlIiwibWFwU2VhcmNoZ2VvdGFibGVJZCIsIm1hcFNlYXJjaFRhZ3MiLCJtYXBTZWFyY2hGaWx0ZXIiLCJNYXAiLCJlbmFibGVNYXBDbGljayIsImNlbnRlckFuZFpvb20iLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwiZ2V0TmVhcmJ5IiwicGFnZSIsIm15R2VvIiwiR2VvY29kZXIiLCJfdGhpcyIsImdldFBvaW50IiwicG9pbnQiLCIkIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJkYXRhVHlwZSIsImFrIiwiZ2VvdGFibGVfaWQiLCJsbmciLCJsYXQiLCJyYWRpdXMiLCJwYWdlX2luZGV4IiwicGFnZV9zaXplIiwianNvbnAiLCJzdWNjZXNzIiwidG90YWwiLCJjb250ZW50cyIsInNob3dOZWFyYnkiLCJhbGVydCIsImsiLCJQb2ludCIsIm1hcmtlciIsIk1hcmtlciIsImxhYmVsIiwiTGFiZWwiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJwYXJzZUludCIsIm9mZnNldCIsIlNpemUiLCJzZXRTdHlsZSIsImJvcmRlciIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwic2V0TGFiZWwiLCJzZXRUaXRsZSIsInRpdGxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNob3dJbmZvV2luZG93IiwiZ2V0TGFiZWwiLCJjb250ZW50IiwiY2hhckNvZGVBdCIsImFkZE92ZXJsYXkiLCJpbmRleCIsIml0ZW1JbmZvIiwidGVsIiwiaW5mb1dpbmRvdyIsIkluZm9XaW5kb3ciLCJwYW5lbCIsImVuYWJsZUF1dG9QYW4iLCJvcGVuSW5mb1dpbmRvdyIsImNsaWNrTWFwSXRlbSIsImVsZSIsImVsZUNsYXNzIiwiaXRlbUluZGV4IiwicGFyZW50Tm9kZSIsIm1hcEl0ZW1BY3RpZVN0eWxlIiwiZGlzcGxheSIsIml0ZW0iLCJkYXRhLWtleSIsIkFkZHJlc3NQaWNrZXIiLCJhZGRyZXNzUGlja2VyQWN0aXZlU3R5bGUiLCJQYWdpbmF0aW9uQnRuIiwidGV4dCIsIml0ZW1DbGFzcyIsImFjdGl2ZSIsImRpc2FibGVkIiwiY2hhbmdlUGFnZSIsIlBhZ2lPdmVydmlldyIsInBhZ2VzIiwiUGFnaVF1aWNrR28iLCJwYWdlSW5wdXQiLCJpbnB1dENoYW5nZSIsInF1aWNrR28iLCJuZXh0UGFnZSIsInNldEFjdGl2ZVBhZ2UiLCJtaW4iLCJtYXgiLCJQYWdpTWFpbiIsInBhZ2VJdGVtcyIsImdldFBhZ2VJdGVtcyIsImFjdGl2ZVBhZ2UiLCJzZWxlY3RlZCIsImhhbmRsZUl0ZW1DbGljayIsIm4iLCJsaXN0IiwiYiIsImJhc2VQYWdlcyIsIm0iLCJtaWRQYWdlcyIsInAiLCJfZ2V0U2VyaWVzTnVtYmVyIiwicHVzaCIsImNvbmNhdCIsInN0YXJ0Iiwic2VyaWVzIiwic3RhcnRCbG9jayIsImVuZEJsb2NrIiwiZmlyc3QiLCJwcmV2IiwibmV4dCIsImxhc3QiLCJQYWdpbmF0aW9uIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwibnVtYmVyIiwiZWxsaXBzaXMiLCJjb25zb2xlIiwibG9nIiwicGFnaUNsYXNzIiwiU3Bpbm5lciIsIlByb2dyZXNzQmFyIiwicmF0ZSIsImRvbmUiLCJzcGVlZCIsInNwaW5uZXIiLCJlYXNpbmciLCJtYXhSYXRlIiwiaW5jU3RlcCIsIm1pblN0ZXAiLCJtYXhTdGVwIiwidHJpY2tsZSIsInRyaWNrbGVTcGVlZCIsInNldFRyaWNrbGUiLCJfaW5pdCIsInNldCIsIl9hdXRvSW5jIiwiX2Zvcm1hdCIsImluYyIsIm5ld1JhdGUiLCJzZXRUaW1lb3V0IiwicHJvcyIsInBhcnNlRmxvYXQiLCJ0aW1lciIsIl9jbGVhckludGVydmFsIiwicmFuZG9tIiwic2V0SW50ZXJ2YWwiLCJfZ2V0UmFkb21TdGVwIiwiY2xlYXJJbnRlcnZhbCIsIk1hdGgiLCJwcm9ncmVzc1N0eWxlIiwib3BhY2l0eSIsInRyYW5zaXRpb24iLCJiYXJTdHlsZSIsIlRvb2xUaXAiLCJ0aXAiLCJ0cmlnZ2VyIiwiZGVsYXkiLCJob3ZlcmFibGUiLCJwb3NpdGlvbiIsImFIcmVmIiwiaXNBY3RpdmUiLCJpc09uVGlwIiwidGlwSGVpZ2h0IiwiaGFuZGxlTW91c2VPdmVyIiwiaGFuZGxlTW91c2VPdXQiLCJoYW5kbGVUaXBNb3VzZU92ZXIiLCJoYW5kbGVUaXBNb3VzZU91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNldFRpcFBvc2l0aW9uIiwicmVmcyIsImZsYWciLCJvZmZzZXRIZWlnaHQiLCJ0aXBXaWR0aCIsIm9mZnNldFdpZHRoIiwiY29udFdpZHRoIiwiY29udEhlaWdodCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJoZWlnaHQiLCJwcmV2ZXJ0VGlwT3ZlcmZsb3ciLCJ0aXBYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYXZhaWxXaWR0aCIsImRvY3VtZW50IiwiYm9keSIsImNsaWVudFdpZHRoIiwiZ2V0VGlwU3R5bGUiLCJyZWYiLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VPdXQiLCJocmVmIl0sIm1hcHBpbmdzIjoiQUFDQSxHQUFJQSxhQUFBQyxNQUFBQyxhQUFpQ0MsWUFBQSxjQUNqQ0MsZ0JBQWlCLFdBQ2IsT0FDSUMsV0FBWSxLQUNaQyxZQUFZLElBR3BCQyxlQUFnQixXQUNaQyxLQUFLQyxVQUFVSCxZQUFhRSxLQUFLRSxNQUFNSixjQUUzQ0ssb0JBQXFCLFNBQVNDLEdBQzFCSixLQUFLQyxVQUFVSixXQUFZTyxFQUFTTixZQUFZLElBQzdDRSxLQUFLSyxNQUFNQyxTQUNWTixLQUFLSyxNQUFNQyxRQUFRRixJQUczQkcsT0FBUSxXQUNKLE1BQ0lkLE9BQUFlLGNBQUEsT0FBSUMsVUFBQyxlQUNEaEIsTUFBQWUsY0FBQ0UsbUJBQWlCQyxjQUFDWCxLQUFlRSxNQUFLSixXQUFnQmMsUUFBRVosS0FBU0QsZ0JBQzdEQyxLQUFLRSxNQUFNTCxXQUFXRyxLQUFLRSxNQUFNTCxXQUFXRyxLQUFLSyxNQUFNUSxjQUUzRGIsS0FBS0UsTUFBTUosV0FDUkwsTUFBQWUsY0FBQ00sYUFBV0MsWUFBQ2YsS0FBYUssTUFBS1UsWUFBaUJGLGFBQUViLEtBQWNLLE1BQUtRLGFBQU1WLG9CQUFjSCxLQUFtQkcsc0JBQzNHLFNBUWpCTyxrQkFBQWpCLE1BQUFDLGFBQXVDQyxZQUFBLG9CQUN2Q3FCLFlBQWEsV0FDVGhCLEtBQUtLLE1BQU1PLFdBRWZMLE9BQVEsV0FDSixNQUNJZCxPQUFBZSxjQUFBLFVBQU9DLFVBQUMsb0JBQVVHLFFBQW9CWixLQUFTZ0IsYUFDMUNoQixLQUFLSyxNQUFNWSxTQUNaeEIsTUFBQWUsY0FBQSxRQUFLQyxVQUFDLFlBQVdULEtBQVlLLE1BQUtNLG9CQU85Q0csWUFBQXJCLE1BQUFDLGFBQWlDQyxZQUFBLGNBQ2pDWSxPQUFRLFdBQ0osTUFDSWQsT0FBQWUsY0FBQSxPQUFJQyxVQUFDLGVBQ0RoQixNQUFBZSxjQUFBLE9B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SytQLE1BSmpKIiwiZmlsZSI6IkNoYXJtLVVJLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g5pW05L2T57uE5Lu2XHJcbnZhciBBZGRyZXNzTGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm93QWRkcmVzczogbnVsbCxcclxuICAgICAgICAgICAgaXNXcmFwU2hvdzogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGhhbmRsZUJ0bkNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1dyYXBTaG93OiAhdGhpcy5zdGF0ZS5pc1dyYXBTaG93fSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlU2VsZWN0QWRkcmVzczogZnVuY3Rpb24oc2VsZWN0Q3QpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtub3dBZGRyZXNzOiBzZWxlY3RDdCxpc1dyYXBTaG93OiBmYWxzZX0pO1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuc2V0Q2l0eSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNldENpdHkoc2VsZWN0Q3QpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RcIj5cclxuICAgICAgICAgICAgICAgIDxBZGRyZXNzRHJvcEJ1dHRvbiB0cmlhbmdsZVN0YXRlPXt0aGlzLnN0YXRlLmlzV3JhcFNob3d9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQnRuQ2xpY2t9PlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLm5vd0FkZHJlc3M/dGhpcy5zdGF0ZS5ub3dBZGRyZXNzOnRoaXMucHJvcHMubG9jYWxBZGRyZXNzfVxyXG4gICAgICAgICAgICAgICAgPC9BZGRyZXNzRHJvcEJ1dHRvbj5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzV3JhcFNob3c/XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NXcmFwIGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfSBsb2NhbEFkZHJlc3M9e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLmhhbmRsZVNlbGVjdEFkZHJlc3N9Lz5cclxuICAgICAgICAgICAgICAgICAgICA6bnVsbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOS4i+aLieaMiemSrlxyXG52YXIgQWRkcmVzc0Ryb3BCdXR0b24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrKCk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIkFkZHJlc3NEcm9wQnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0cmlhbmdsZSBcIit0aGlzLnByb3BzLnRyaWFuZ2xlU3RhdGV9Pjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDmk43kvZzmoYblrrnlmahcclxudmFyIEFkZHJlc3NXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NXcmFwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NDb250XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NMb2NhdGlvbiBsb2NhbEFkZHJlc3M9e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NTZWFyY2hJbnB1dCBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzTGlzdFdyYXAgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOWumuS9jeW9k+WJjeWcsOWdgFxyXG52YXIgQWRkcmVzc0xvY2F0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcyh0aGlzLnByb3BzLmxvY2FsQWRkcmVzcyk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMb2NhdGlvblwiPlxyXG4gICAgICAgICAgICAgICAg54yc5L2g5Zyo77yaPHNwYW4gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDmkJzntKJcclxudmFyIEFkZHJlc3NTZWFyY2hJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdWx0OiBbXSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVJlc3VsdENsaWNrOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIGFkZHJlc3MgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEnKTtcclxuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3MoYWRkcmVzcyk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlU2VhcmNoOiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBjb250ID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgIHZhciBsZW4gPSBjb250Lmxlbmd0aDtcclxuICAgICAgICB2YXIgYWRkcmVzc0RhdGEgPSB0aGlzLnByb3BzLmFkZHJlc3NEYXRhO1xyXG4gICAgICAgIC8vIOWIpOaWreaYr+axieWtl+i/mOaYr+aLvOmfs1xyXG4gICAgICAgIHZhciByZWc9L15bXFx1NEUwMC1cXHU5RkE1XSskLztcclxuICAgICAgICBpZihyZWcudGVzdChjb250KSkge1xyXG4gICAgICAgICAgICAvLyDmmK/msYnlrZflpITnkIZcclxuICAgICAgICAgICAgdmFyIF9yZXN1bHRIID0gW107XHJcbiAgICAgICAgICAgIHZhciBqID0gMDtcclxuICAgICAgICAgICAgZm9yKHZhciBrZXlIIGluIGFkZHJlc3NEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGtleUhTIGluIGFkZHJlc3NEYXRhW2tleUhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYWRkcmVzc0RhdGFba2V5SF1ba2V5SFNdLmNpdHkuc3Vic3RyaW5nKDAsbGVuKSA9PSBjb250KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHRIW2pdICA9IGFkZHJlc3NEYXRhW2tleUhdW2tleUhTXS5jaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdDogX3Jlc3VsdEh9KTtcclxuICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5piv5ou86Z+zXHJcbiAgICAgICAgdmFyIEZMID0gY29udC5zdWJzdHJpbmcoMCwxKS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xyXG4gICAgICAgIHZhciByZXN1bHRGTCA9IGFkZHJlc3NEYXRhW0ZMXTtcclxuICAgICAgICB2YXIgX3Jlc3VsdCA9IFtdO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICBmb3IodmFyIGtleSBpbiByZXN1bHRGTCkge1xyXG4gICAgICAgICAgICBpZihrZXkuc3Vic3RyaW5nKDAsbGVuKSA9PSBjb250LnRvTG9jYWxlTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIF9yZXN1bHRbaV0gID0gcmVzdWx0Rkxba2V5XS5jaXR5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cmVzdWx0OiBfcmVzdWx0fSk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgX2hhbmRsZVJlc3VsdENsaWNrID0gdGhpcy5oYW5kbGVSZXN1bHRDbGljaztcclxuICAgICAgICB2YXIgcmVzdWx0Tm9kZXMgPSB0aGlzLnN0YXRlLnJlc3VsdC5tYXAoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGxpIGRhdGE9e3Jlc3VsdH0gb25DbGljaz17X2hhbmRsZVJlc3VsdENsaWNrfT57cmVzdWx0fTwvbGk+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzU2VhcmNoXCI+XHJcbiAgICAgICAgICAgICAgICDnm7TmjqXmkJzntKJcclxuICAgICAgICAgICAgICAgIDxpbnB1dCBvbkNoYW5nZT17dGhpcy5oYW5kbGVTZWFyY2h9IHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl5Z+O5biC5ZCNXCIgLz5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJBZGRyZXNzU2VhcmNoUmVzdWx0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3Jlc3VsdE5vZGVzfVxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDliJfooajlrrnlmahcclxudmFyIEFkZHJlc3NMaXN0V3JhcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGFkZHJlc3NEYXRhID0gdGhpcy5wcm9wcy5hZGRyZXNzRGF0YTtcclxuICAgICAgICB2YXIgaGFuZGxlU2VsZWN0QWRkcmVzcyA9IHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcztcclxuICAgICAgICB2YXIgcm93Tm9kZXMgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ID0gW107XHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29udFtpXSAgPSA8QWRkcmVzc0xpc3RSb3cga2V5PXtrZXl9IGtleURhdGE9e2tleX0gZGF0YT17ZGF0YVtrZXldfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXtoYW5kbGVTZWxlY3RBZGRyZXNzfSAvPjtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29udDtcclxuICAgICAgICB9KGFkZHJlc3NEYXRhKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0V3JhcFwiPlxyXG4gICAgICAgICAgICAgICAge3Jvd05vZGVzfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOWcsOWdgOWIl+ihqOihjFxyXG52YXIgQWRkcmVzc0xpc3RSb3cgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciBhZGRyZXNzID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhJyk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzKGFkZHJlc3MpO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljaztcclxuICAgICAgICB2YXIgZGF0YU5vZGVzID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgY29udCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRbaV0gID0gPHNwYW4ga2V5PXtcInBcIitrZXl9PjxzcGFuIGRhdGE9e2RhdGFba2V5XS5jaXR5fSBrZXk9e2l9ICBvbkNsaWNrPXtoYW5kbGVDbGlja30gPntkYXRhW2tleV0uY2l0eX08L3NwYW4+PC9zcGFuPjtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29udDtcclxuICAgICAgICB9KHRoaXMucHJvcHMuZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwia2V5RGF0YVwiPnt0aGlzLnByb3BzLmtleURhdGF9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGF0YVdyYXBcIj57ZGF0YU5vZGVzfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xuXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gIEluY2x1ZGU6IEFkZHJlc3NJbnB1dCBBZGRyZXNzTWFwXHJcbi8vXHJcbi8vICBUT0RPOiBbYWRkXSDlop7liqDlkITpobnlj4LmlbBcclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxuLyogQWRkcmVzc1NlYXJjaCAqL1xudmFyIEFkZHJlc3NTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFkZHJlc3M6IG51bGxcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXG4gICAgICBpbnB1dFRpcDogXCLovpPlhaXmg7PopoHmkJzntKLnmoTlnLDlnYBcIixcbiAgICAgIHNlYXJjaEJ0blRleHQ6IFwi5pCc57SiXCIsXG4gICAgICBjaXR5OiBcIuWMl+S6rFwiLFxuICAgICAgdGhlbWU6IFwiZGFya1wiXG4gICAgfVxuICB9LFxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBteUNpdHkgPSBuZXcgQk1hcC5Mb2NhbENpdHkoKTtcbiAgICBteUNpdHlcbiAgICAgIC5nZXQoZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIHZhciBjdXJyZW50Q2l0eSA9IHJlcy5uYW1lO1xuICAgICAgICB0aGlzLnNldENpdHkoY3VycmVudENpdHkpO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgfSxcbiAgc2V0QWRkcmVzczogZnVuY3Rpb24oYWQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFkZHJlc3M6IGFkXG4gICAgfSk7XG4gIH0sXG4gIHNldENpdHk6IGZ1bmN0aW9uKGN0KSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjaXR5OiBjdFxuICAgIH0pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3Mtc2VhcmNoXCI+XG4gICAgICAgIDxBZGRyZXNzSW5wdXQgey4uLnRoaXMucHJvcHN9IHNlYXJjaFN1Ym1pdEhhbmRsZXI9e3RoaXMuc2V0QWRkcmVzc30gLz5cbiAgICAgICAgPEFkZHJlc3NNYXAgYWRkcmVzc0tleXdvcmQ9e3RoaXMuc3RhdGUuYWRkcmVzc30gY2l0eT17dGhpcy5wcm9wcy5jaXR5fSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuXG4vKiBBZGRyZXNzSW5wdXQgKi9cbnZhciBBZGRyZXNzSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGtleXdvcmQ6IHRoaXMucHJvcHMua2V5d29yZFxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlucHV0V2lkdGg6IDQwMCxcbiAgICAgIGlucHV0VGlwOiBcIui+k+WFpeaDs+imgeaQnOe0oueahOWcsOWdgFwiLFxuICAgICAgc2VhcmNoQnRuVGV4dDogXCLmkJzntKJcIixcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCIsXG4gICAgICB0aGVtZTogXCJsaWdodFwiXG4gICAgfVxuICB9LFxuICBzZWFyY2hTdWJtaXQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBrZXl3b3JkID0gdGhpcy5nZXRET01Ob2RlKClcbiAgICAgIC5jaGlsZHJlblswXVxuICAgICAgLnZhbHVlO1xuICAgIHRoaXMucHJvcHNcbiAgICAgIC5zZWFyY2hTdWJtaXRIYW5kbGVyKGtleXdvcmQpO1xuICAgIHNldENvb2tpZSgnc2VhcmNoS2V5d29yZCcsIGtleXdvcmQsIDMwKTtcbiAgfSxcbiAgY2hlY2tFbnRlcjogZnVuY3Rpb24oZSkge1xuICAgIChlLmtleUNvZGUgPT09IDEzKSAmJiB0aGlzLnNlYXJjaFN1Ym1pdCgpO1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1hcEF1dG9Db21wbGV0ZSA9IG5ldyBCTWFwLkF1dG9jb21wbGV0ZSh7XG4gICAgICBcImlucHV0XCI6IFwiX2FkZHJlc3NTZWFyY2hLZXl3b3JkXCIsXG4gICAgICBcImxvY2F0aW9uXCI6IHRoaXMucHJvcHMuY2l0eVxuICAgIH0pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBrZXl3b3JkU3R5bGUgPSB7XG4gICAgICB3aWR0aDogdGhpcy5wcm9wcy5pbnB1dFdpZHRoXG4gICAgfTtcbiAgICB2YXIgY29uQ2xhc3NOYW1lID0gXCJhZGRyZXNzLWlucHV0XCI7XG4gICAgc3dpdGNoICh0aGlzLnByb3BzLnRoZW1lKSB7XG4gICAgY2FzZSAnbGlnaHQnIDpcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RhcmsnIDpcbiAgICAgIGNvbkNsYXNzTmFtZSArPSBcIiBkYXJrXCI7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0IDpcblxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NvbkNsYXNzTmFtZX0+XG4gICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJpbnB1dC1rZXl3b3JkXCIgaWQ9XCJfYWRkcmVzc1NlYXJjaEtleXdvcmRcIiBvbktleVVwPXt0aGlzLmNoZWNrRW50ZXJ9IHBsYWNlaG9sZGVyPXt0aGlzLnN0YXRlLmtleXdvcmQgfHwgdGhpcy5wcm9wcy5pbnB1dFRpcH0gc3R5bGU9e2tleXdvcmRTdHlsZX0+PC9pbnB1dD5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJpbnB1dC1jb21taXRcIiBvbkNsaWNrPXt0aGlzLnNlYXJjaFN1Ym1pdH0+e3RoaXMucHJvcHMuc2VhcmNoQnRuVGV4dH08L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuXG4vKiBBZGRyZXNzTWFwICovXG52YXIgQWRkcmVzc01hcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFwTG9jYWxPYmo6IG51bGwsXG4gICAgICBpdGVtc051bWJlcjogMCxcbiAgICAgIGl0ZW1zTGlzdDogW10sXG4gICAgICBpdGVtQWN0aXZlOiAwXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFwU2VhcmNoZ2VvdGFibGVJZDogMTIxNzYzLFxuICAgICAgbWFwU2VhcmNoVGFnczogXCJcIixcbiAgICAgIG1hcFNlYXJjaEZpbHRlcjogXCJcIixcbiAgICAgIHRoZW1lOiBcImxpZ2h0XCJcbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLm1hcCA9IG5ldyBCTWFwLk1hcChcIl9hZGRyZXNzTWFwTWFpblwiLCB7XG4gICAgICBlbmFibGVNYXBDbGljazogZmFsc2VcbiAgICB9KTtcbiAgICB0aGlzLm1hcFxuICAgICAgLmNlbnRlckFuZFpvb20odGhpcy5wcm9wcy5jaXR5LCAxMik7XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uKG5leHRQcm9wcykge1xuICAgIG5leHRQcm9wcy5hZGRyZXNzS2V5d29yZCAmJiB0aGlzLmdldE5lYXJieShuZXh0UHJvcHMuYWRkcmVzc0tleXdvcmQpO1xuICB9LFxuICBnZXROZWFyYnk6IGZ1bmN0aW9uKGtleXdvcmQsIHBhZ2UpIHtcbiAgICAvLyDlnLDlnYDop6PmnpDojrflj5bnu4/nuqzluqZcclxuICAgIHZhciBteUdlbyA9IG5ldyBCTWFwLkdlb2NvZGVyKCk7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBteUdlb1xuICAgICAgLmdldFBvaW50KGtleXdvcmQsIGZ1bmN0aW9uKHBvaW50KSB7IC8vIOino+aekOaIkOWKn+WQjueahOWbnuiwgyDmkJzntKLkv6Hmga9cclxuICAgICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogJ2dldCcsXG4gICAgICAgICAgICB1cmw6ICdodHRwOi8vYXBpLm1hcC5iYWlkdS5jb20vZ2Vvc2VhcmNoL3YzL25lYXJieScsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29ucFwiLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBhazogJ3NkcDlxQ2JUb1M3RTIzbkRSeGFBQXdiaCcsXG4gICAgICAgICAgICAgIGdlb3RhYmxlX2lkOiAxMjE3NjMsXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiBwb2ludC5sbmcgKyAnLCcgKyBwb2ludC5sYXQsXG4gICAgICAgICAgICAgIHJhZGl1czogMTAwMDAsXG4gICAgICAgICAgICAgIHBhZ2VfaW5kZXg6IHBhZ2UgfHwgMCxcbiAgICAgICAgICAgICAgcGFnZV9zaXplOiA1MFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGpzb25wOiAnY2FsbGJhY2snLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBpdGVtc051bWJlcjogcmVzLnRvdGFsLFxuICAgICAgICAgICAgICAgIGl0ZW1zTGlzdDogcmVzLmNvbnRlbnRzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBfdGhpcy5zaG93TmVhcmJ5KCk7XG4gICAgICAgICAgICAgIF90aGlzLm1hcFxuICAgICAgICAgICAgICAgIC5jZW50ZXJBbmRab29tKF90aGlzLnByb3BzLmFkZHJlc3NLZXl3b3JkLCAxMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhbGVydChcIuacquaJvuWIsOivpeWMuuWfn+S/oeaBr1wiKTtcbiAgICAgICAgfVxuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLmNpdHkpO1xuICB9LFxuICBzaG93TmVhcmJ5OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGZvciAodmFyIGsgaW4gdGhpcy5zdGF0ZS5pdGVtc0xpc3QpIHtcbiAgICAgIHZhciBwb2ludCA9IG5ldyBCTWFwLlBvaW50KHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLmxvY2F0aW9uWzBdLCB0aGlzLnN0YXRlLml0ZW1zTGlzdFtrXS5sb2NhdGlvblsxXSk7XG4gICAgICB2YXIgbWFya2VyID0gbmV3IEJNYXAuTWFya2VyKHBvaW50KTtcbiAgICAgIHZhciBsYWJlbCA9IG5ldyBCTWFwLkxhYmVsKFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBwYXJzZUludChrKSksIHtcbiAgICAgICAgb2Zmc2V0OiBuZXcgQk1hcC5TaXplKDQsIDIpXG4gICAgICB9KTtcbiAgICAgIGxhYmVsLnNldFN0eWxlKHtcbiAgICAgICAgYm9yZGVyOiAnbm9uZScsXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgY29sb3I6ICcjRkFGQUZBJ1xuICAgICAgfSk7XG4gICAgICBtYXJrZXIuc2V0TGFiZWwobGFiZWwpO1xuICAgICAgbWFya2VyLnNldFRpdGxlKHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLnRpdGxlKTtcbiAgICAgIG1hcmtlclxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgX3RoaXMuc2hvd0luZm9XaW5kb3codGhpcy5nZXRMYWJlbCgpLmNvbnRlbnQuY2hhckNvZGVBdCgwKSAtIDY1KTtcbiAgICAgICAgfSk7XG4gICAgICB0aGlzLm1hcFxuICAgICAgICAuYWRkT3ZlcmxheShtYXJrZXIpO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLml0ZW1zTGlzdC5sZW5ndGggJiYgdGhpcy5zaG93SW5mb1dpbmRvdygwKTtcbiAgfSxcbiAgc2hvd0luZm9XaW5kb3c6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgaWYgKGluZGV4ICE9PSB0aGlzLnN0YXRlLml0ZW1BY3RpdmUgfHwgMSkge1xuICAgICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQodGhpcy5zdGF0ZS5pdGVtc0xpc3RbaW5kZXhdLmxvY2F0aW9uWzBdLCB0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF0ubG9jYXRpb25bMV0pO1xuICAgICAgdmFyIGl0ZW1JbmZvID0gdGhpcy5zdGF0ZS5pdGVtc0xpc3RbaW5kZXhdO1xuICAgICAgdmFyIHRpdGxlID0gaXRlbUluZm8udGl0bGU7XG4gICAgICB2YXIgYWRkcmVzcyA9IGl0ZW1JbmZvLmFkZHJlc3M7XG4gICAgICB2YXIgdGVsID0gaXRlbUluZm8udGVsO1xuICAgICAgdmFyIGNvbnRlbnQgPSAnPHAgY2xhc3M9XCJtYXAtaW5mby13aW5kb3dcIj7lnLDlnYDvvJonICsgYWRkcmVzcyArICc8L3A+JztcbiAgICAgIHZhciBpbmZvV2luZG93ID0gbmV3IEJNYXAuSW5mb1dpbmRvdyhjb250ZW50LCB7XG4gICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgd2lkdGg6IDI5MCxcbiAgICAgICAgcGFuZWw6IFwicGFuZWxcIixcbiAgICAgICAgZW5hYmxlQXV0b1BhbjogdHJ1ZSxcbiAgICAgICAgb2Zmc2V0OiBuZXcgQk1hcC5TaXplKDAsIC0yNSlcbiAgICAgIH0pO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGl0ZW1BY3RpdmU6ICsgaW5kZXhcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tYXBcbiAgICAgICAgLm9wZW5JbmZvV2luZG93KGluZm9XaW5kb3csIHBvaW50KTtcbiAgICB9XG4gIH0sXG4gIGNsaWNrTWFwSXRlbTogZnVuY3Rpb24oZSkge1xuICAgIHZhciBlbGUgPSBlLnRhcmdldDtcbiAgICB2YXIgZWxlQ2xhc3MgPSBlbGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xuICAgIHZhciBpdGVtSW5kZXggPSAwO1xuICAgIGlmIChlbGVDbGFzcyA9PT0gXCJtYXAtaXRlbVwiKSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH0gZWxzZSBpZiAoZWxlQ2xhc3MgPT09IFwibWFwLWl0ZW0tbWFya1wiIHx8IGVsZUNsYXNzID09PSBcIm1hcC1pdGVtLW1haW5cIikge1xuICAgICAgaXRlbUluZGV4ID0gZWxlLnBhcmVudE5vZGVcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcbiAgICB9IGVsc2UgaWYgKCFlbGVDbGFzcykge1xuICAgICAgaXRlbUluZGV4ID0gZWxlLnBhcmVudE5vZGVcbiAgICAgICAgLnBhcmVudE5vZGVcbiAgICAgICAgLnBhcmVudE5vZGVcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXRlbUluZGV4ID0gZWxlLnBhcmVudE5vZGVcbiAgICAgICAgLnBhcmVudE5vZGVcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcbiAgICB9XG4gICAgdGhpcy5zaG93SW5mb1dpbmRvdyhpdGVtSW5kZXgpO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjb25DbGFzc05hbWUgPSBcImFkZHJlc3MtbWFwXCI7XG4gICAgc3dpdGNoICh0aGlzLnByb3BzLnRoZW1lKSB7XG4gICAgY2FzZSAnbGlnaHQnIDpcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2RhcmsnIDpcbiAgICAgIGNvbkNsYXNzTmFtZSArPSBcIiBkYXJrXCI7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0IDpcblxuICAgIH1cbiAgICB2YXIgbWFwSXRlbUFjdGllU3R5bGUgPSB7XG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzE4MTIxMVwiXG4gICAgfTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NvbkNsYXNzTmFtZX0gc3R5bGU9e3tcbiAgICAgICAgZGlzcGxheTogdGhpcy5wcm9wcy5hZGRyZXNzS2V5d29yZFxuICAgICAgICAgID8gXCJibG9ja1wiXG4gICAgICAgICAgOiBcIm5vbmVcIlxuICAgICAgfX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdi10aXRsZVwiPlxuICAgICAgICAgICAg6ZmE6L+R5pyJXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXAtbmF2LW51bWJlclwiPlxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pdGVtc051bWJlcn1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIOWutuS9k+mqjOW6l1xuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJtYXAtaXRlbXNcIiBpZD1cIl9hZGRyZXNzTWFwSXRlbXNcIiBvbkNsaWNrPXt0aGlzLmNsaWNrTWFwSXRlbX0+XG4gICAgICAgICAgICB7dGhpc1xuICAgICAgICAgICAgICAuc3RhdGVcbiAgICAgICAgICAgICAgLml0ZW1zTGlzdFxuICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJtYXAtaXRlbVwiIGRhdGEta2V5PXtpfSBrZXk9e2l9IHN0eWxlPXsoaSA9PT0gdGhpcy5zdGF0ZS5pdGVtQWN0aXZlKVxuICAgICAgICAgICAgICAgICAgPyBtYXBJdGVtQWN0aWVTdHlsZVxuICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICB7fX0+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXAtaXRlbS1tYXJrXCI+e1N0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLW1haW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtaXRlbS10aXRsZVwiPntpdGVtLnRpdGxlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLWFkZHJlc3NcIj7lnLDlnYDvvJp7aXRlbS5hZGRyZXNzfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLXRlbFwiPueUteivne+8mntpdGVtLnRlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvbGk+O1xuICAgICAgICAgICAgICB9LmJpbmQodGhpcykpfVxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1tYWluXCIgaWQ9XCJfYWRkcmVzc01hcE1haW5cIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gIEluY2x1ZGU6IEFkZHJlc3NMaXN0IEFkZHJlc3NTZWFyY2hcclxuLy9cclxuLy8gIFRPRE86XHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIEFkZHJlc3NQaWNrZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCIsXHJcbiAgICAgIGN1cnJlbnRDaXR5OiBudWxsLFxyXG4gICAgICBhZGRyZXNzOiB0aGlzLnByb3BzLmtleXdvcmRcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHt9O1xyXG4gIH0sXHJcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBteUNpdHkgPSBuZXcgQk1hcC5Mb2NhbENpdHkoKTtcclxuICAgIG15Q2l0eVxyXG4gICAgICAuZ2V0KGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgIHZhciBjdXJyZW50Q2l0eSA9IHJlcy5uYW1lO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBjdXJyZW50Q2l0eTogY3VycmVudENpdHlcclxuICAgICAgICB9KTtcclxuICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICB9LFxyXG4gIHNldEFkZHJlc3M6IGZ1bmN0aW9uKGFkKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYWRkcmVzczogYWRcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgc2V0Q2l0eTogZnVuY3Rpb24oY3QpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjaXR5OiBjdFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGFkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZSA9IHRoaXMuc3RhdGUuYWRkcmVzc1xyXG4gICAgICA/IHRoaXMucHJvcHMuYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlXHJcbiAgICAgIDoge307XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtcGlja2VyXCIgc3R5bGU9e2FkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZX0+XHJcbiAgICAgICAgPEFkZHJlc3NMaXN0IHNldENpdHk9e3RoaXMuc2V0Q2l0eX0gbG9jYWxBZGRyZXNzPXt0aGlzLnN0YXRlLmN1cnJlbnRDaXR5fSBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0vPlxyXG4gICAgICAgIDxBZGRyZXNzSW5wdXQgey4uLnRoaXMucHJvcHN9IGNpdHk9e3RoaXMuc3RhdGUuY2l0eX0gc2VhcmNoU3VibWl0SGFuZGxlcj17dGhpcy5zZXRBZGRyZXNzfS8+XHJcbiAgICAgICAgPEFkZHJlc3NNYXAgYWRkcmVzc0tleXdvcmQ9e3RoaXMuc3RhdGUuYWRkcmVzc30gY2l0eT17dGhpcy5wcm9wcy5jaXR5fSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xuXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vICBDb21wb25lbnQ6IFByb2dyZXNzQmFyXG4vL1xuLy8gIEluY2x1ZGU6IFBhZ2luYXRpb25CdG5cbi8vXG4vLyAgVE9ETzpcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKiBQYWdpbmF0aW9uQnRuICovXG52YXIgUGFnaW5hdGlvbkJ0biA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdGV4dDogMSxcbiAgICAgIHR5cGU6IFwibnVtXCJcbiAgICB9O1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXh0ID0gKHRoaXMucHJvcHMudHlwZSA9PT0gJ2RvdCcpID8gJy4uLicgOiB0aGlzLnByb3BzLnRleHQ7XG4gICAgdmFyIGl0ZW1DbGFzcyA9IHRoaXMucHJvcHMuYWN0aXZlXG4gICAgICA/IFwiaXRlbSBhY3RpdmVcIlxuICAgICAgOiBcIml0ZW1cIjtcbiAgICBpZih0aGlzLnByb3BzLnR5cGUgIT09ICdudW0nKSB7XG4gICAgICBpdGVtQ2xhc3MgKz0gKFwiIHBhZ2UgXCIgKyB0aGlzLnByb3BzLnR5cGUpO1xuICAgIH1cbiAgICBpZih0aGlzLnByb3BzLmRpc2FibGVkKSB7XG4gICAgICBpdGVtQ2xhc3MgKz0gJyBkaXNhYmxlZCc7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8bGkgY2xhc3NOYW1lPXtpdGVtQ2xhc3N9IG9uQ2xpY2s9e3RoaXMucHJvcHMuY2hhbmdlUGFnZX0+XG4gICAgICAgIDxhPnt0ZXh0fTwvYT5cbiAgICAgIDwvbGk+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIFBhZ2luYXRpb24gT3ZlcnZpZXcgKi9cbnZhciBQYWdpT3ZlcnZpZXcgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcnZpZXdcIj7lhbEge3RoaXMucHJvcHMucGFnZXN9IOmhte+8jDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuXG4vKiBQYWdpbmF0aW9uIFF1aWNrR28gKi9cbnZhciBQYWdpUXVpY2tHbyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcGFnZUlucHV0OiBudWxsXG4gICAgfTtcbiAgfSxcbiAgaW5wdXRDaGFuZ2U6IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHBhZ2VJbnB1dDogZS50YXJnZXQudmFsdWVcbiAgICB9KTtcbiAgfSxcbiAgcXVpY2tHbzogZnVuY3Rpb24oKSB7XG4gICAgaWYodGhpcy5zdGF0ZS5wYWdlSW5wdXQpIHtcbiAgICAgIHZhciBuZXh0UGFnZSA9ICt0aGlzLnN0YXRlLnBhZ2VJbnB1dDtcbiAgICAgIG5leHRQYWdlID0gbmV4dFBhZ2UgPCAxID8gMSA6IG5leHRQYWdlO1xuICAgICAgbmV4dFBhZ2UgPSBuZXh0UGFnZSA+IHRoaXMucHJvcHMucGFnZXMgPyB0aGlzLnByb3BzLnBhZ2VzIDogbmV4dFBhZ2U7XG4gICAgICB0aGlzLnByb3BzLnNldEFjdGl2ZVBhZ2UobmV4dFBhZ2UpXG4gICAgfVxuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInF1aWNrLWdvXCI+XG4gICAgICAgIDxzcGFuPuWIsOesrDwvc3Bhbj5cbiAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImdvLXBhZ2VcIiB0eXBlPVwibnVtYmVyXCIgbWluPVwiMVwiIG1heD17dGhpcy5wcm9wcy5wYWdlc30gb25DaGFuZ2U9e3RoaXMuaW5wdXRDaGFuZ2V9IC8+XG4gICAgICAgIDxzcGFuPumhtTwvc3Bhbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJnby1zdWJtaXRcIiBvbkNsaWNrPXt0aGlzLnF1aWNrR299PuehruiupDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIFBhZ2luYXRpb24gTWFpbiAqL1xudmFyIFBhZ2lNYWluID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYWdlSXRlbXM6IHRoaXMuZ2V0UGFnZUl0ZW1zKHRoaXMucHJvcHMuYWN0aXZlUGFnZSlcbiAgICB9O1xuICB9LFxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHMpIHtcbiAgICBpZihuZXh0UHJvcHMuYWN0aXZlUGFnZSAhPT0gdGhpcy5wcm9wcy5hY3RpdmVQYWdlKSB7XG4gICAgICB2YXIgcGFnZUl0ZW1zID0gdGhpcy5nZXRQYWdlSXRlbXMobmV4dFByb3BzLmFjdGl2ZVBhZ2UpO1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHBhZ2VJdGVtczogcGFnZUl0ZW1zXG4gICAgICB9KTtcbiAgICAgIHRoaXMucHJvcHMuc2VsZWN0ZWQobmV4dFByb3BzLmFjdGl2ZVBhZ2UpO1xuICAgIH1cbiAgfSxcbiAgaGFuZGxlSXRlbUNsaWNrOiBmdW5jdGlvbih0eXBlLCBwYWdlKSB7XG4gICAgaWYgKHR5cGUgPT09IFwiZmlyc3RcIikge1xuICAgICAgcGFnZSA9IDE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcInByZXZcIikge1xuICAgICAgcGFnZSA9ICh0aGlzLnByb3BzLmFjdGl2ZVBhZ2UgPT09IDEpID8gMSA6IHRoaXMucHJvcHMuYWN0aXZlUGFnZSAtIDE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcIm5leHRcIikge1xuICAgICAgcGFnZSA9ICh0aGlzLnByb3BzLmFjdGl2ZVBhZ2UgPT09IHRoaXMucHJvcHMucGFnZXMpID8gdGhpcy5wcm9wcy5wYWdlcyA6IHRoaXMucHJvcHMuYWN0aXZlUGFnZSArIDE7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSBcImxhc3RcIikge1xuICAgICAgcGFnZSA9IHRoaXMucHJvcHMucGFnZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhZ2UgPSBwYWdlO1xuICAgIH1cbiAgICBpZiAocGFnZSAhPT0gdGhpcy5wcm9wcy5hY3RpdmVQYWdlKSB7XG4gICAgICB0aGlzLnByb3BzLnNldEFjdGl2ZVBhZ2UocGFnZSk7XG4gICAgfVxuICB9LFxuICBnZXRQYWdlSXRlbXM6IGZ1bmN0aW9uKG4pIHtcbiAgICB2YXIgbGlzdCA9IFtdO1xuICAgIHZhciBiID0gdGhpcy5wcm9wcy5iYXNlUGFnZXM7XG4gICAgdmFyIG0gPSB0aGlzLnByb3BzLm1pZFBhZ2VzO1xuICAgIHZhciBwID0gdGhpcy5wcm9wcy5wYWdlcztcbiAgICBpZihuIDw9IHBhcnNlSW50KG0gLyAyKSArIDEpIHsgLy8gMVxuICAgICAgbGlzdCA9IHRoaXMuX2dldFNlcmllc051bWJlcigxLCBwIDw9IGIgKyBtID8gcCA6IG0pO1xuICAgIH0gZWxzZSBpZigobiA8PSBwYXJzZUludChtIC8gMikgKyAxICsgYikgfHwgcCA8PSBiICsgbSkgIHsgLy8gMSdcbiAgICAgIGxpc3QgPSB0aGlzLl9nZXRTZXJpZXNOdW1iZXIoMSwgcCA8PSBiICsgbSA/IHAgOiBuICsgMik7XG4gICAgfSBlbHNlIGlmKChuIDwgcCAtIHBhcnNlSW50KG0gLyAyKSAtIDEpKSB7ICAvLyAyXG4gICAgICBsaXN0ID0gdGhpcy5fZ2V0U2VyaWVzTnVtYmVyKDEsIHRoaXMucHJvcHMuYmFzZVBhZ2VzKTtcbiAgICAgIGxpc3QucHVzaCgwKTtcbiAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdCh0aGlzLl9nZXRTZXJpZXNOdW1iZXIobi0yLCBtKSk7XG4gICAgICBpZihwID4gbSArIGIgKyAyKSB7XG4gICAgICAgIGxpc3QucHVzaCgwKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYobiA9PT0gcCAtIHBhcnNlSW50KG0gLyAyKSAtIDEpIHsgIC8vIDNcbiAgICAgIGxpc3QgPSB0aGlzLl9nZXRTZXJpZXNOdW1iZXIoMSwgdGhpcy5wcm9wcy5iYXNlUGFnZXMpO1xuICAgICAgbGlzdC5wdXNoKDApO1xuICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KHRoaXMuX2dldFNlcmllc051bWJlcihwIC0gbSwgbSArIDEpKTtcbiAgICB9IGVsc2UgeyAgLy8gNFxuICAgICAgbGlzdCA9IHRoaXMuX2dldFNlcmllc051bWJlcigxLCB0aGlzLnByb3BzLmJhc2VQYWdlcyk7XG4gICAgICBsaXN0LnB1c2goMCk7XG4gICAgICBsaXN0ID0gbGlzdC5jb25jYXQodGhpcy5fZ2V0U2VyaWVzTnVtYmVyKHAgLSBtICsgMSwgbSkpO1xuICAgIH1cbiAgICByZXR1cm4gbGlzdDtcbiAgfSxcbiAgX2dldFNlcmllc051bWJlcjogZnVuY3Rpb24oc3RhcnQsIGxlbmd0aCkge1xuICAgIHN0YXJ0ID0gc3RhcnQ7XG4gICAgbGVuZ3RoID0gbGVuZ3RoO1xuICAgIHZhciBzZXJpZXMgPSBbXTtcbiAgICB3aGlsZShsZW5ndGgtLSkge1xuICAgICAgc2VyaWVzLnB1c2goc3RhcnQrKyk7XG4gICAgfVxuICAgIHJldHVybiBzZXJpZXM7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXJ0QmxvY2sgPSBbXTtcbiAgICB2YXIgZW5kQmxvY2sgPSBbXTtcbiAgICBpZih0aGlzLnByb3BzLnBhZ2VzID4gMCkge1xuICAgICAgaWYodGhpcy5wcm9wcy5maXJzdCkge1xuICAgICAgICBzdGFydEJsb2NrLnB1c2goPFBhZ2luYXRpb25CdG4ga2V5PSdmaXJzdCcgdGV4dD17dGhpcy5wcm9wcy5maXJzdH0gZGlzYWJsZWQ9eyh0aGlzLnByb3BzLmFjdGl2ZVBhZ2UgPT09IDEpID8gdHJ1ZSA6IGZhbHNlfSB0eXBlPVwicHJldlwiIHR5cGU9XCJmaXJzdFwiIGNoYW5nZVBhZ2U9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcywgJ2ZpcnN0Jyl9IC8+KTtcbiAgICAgIH1cbiAgICAgIGlmKHRoaXMucHJvcHMucHJldikge1xuICAgICAgICBzdGFydEJsb2NrLnB1c2goPFBhZ2luYXRpb25CdG4ga2V5PSdwcmV2JyB0ZXh0PXt0aGlzLnByb3BzLnByZXZ9IGRpc2FibGVkPXsodGhpcy5wcm9wcy5hY3RpdmVQYWdlID09PSAxKSA/IHRydWUgOiBmYWxzZX0gdHlwZT1cInByZXZcIiBjaGFuZ2VQYWdlPXt0aGlzLmhhbmRsZUl0ZW1DbGljay5iaW5kKHRoaXMsICdwcmV2Jyl9IC8+KTtcbiAgICAgIH1cbiAgICAgIGlmKHRoaXMucHJvcHMubmV4dCkge1xuICAgICAgICBlbmRCbG9jay5wdXNoKDxQYWdpbmF0aW9uQnRuIGtleT0nbmV4dCcgdGV4dD17dGhpcy5wcm9wcy5uZXh0fSB0eXBlPVwibmV4dFwiIGRpc2FibGVkPXsodGhpcy5wcm9wcy5hY3RpdmVQYWdlID09PSB0aGlzLnByb3BzLnBhZ2VzKSA/IHRydWUgOiBmYWxzZX0gY2hhbmdlUGFnZT17dGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzLCAnbmV4dCcpfSAvPik7XG4gICAgICB9XG4gICAgICBpZih0aGlzLnByb3BzLmxhc3QpIHtcbiAgICAgICAgZW5kQmxvY2sucHVzaCg8UGFnaW5hdGlvbkJ0biBrZXk9J2xhc3QnIHRleHQ9e3RoaXMucHJvcHMubGFzdH0gdHlwZT1cImxhc3RcIiBkaXNhYmxlZD17KHRoaXMucHJvcHMuYWN0aXZlUGFnZSA9PT0gdGhpcy5wcm9wcy5wYWdlcykgPyB0cnVlIDogZmFsc2V9IGNoYW5nZVBhZ2U9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcywgJ2xhc3QnKX0gLz4pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gKFxuICAgICAgPHVsIGNsYXNzTmFtZT1cInBhZ2ktbWFpblwiPlxuICAgICAgICB7c3RhcnRCbG9ja31cbiAgICAgICAge1xuICAgICAgICAgICh0aGlzLnByb3BzLnBhZ2VzID4gMCkgJiYgdGhpcy5zdGF0ZS5wYWdlSXRlbXMubWFwKGZ1bmN0aW9uKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8UGFnaW5hdGlvbkJ0biBrZXk9e2l9IHRleHQ9e2l0ZW19IHR5cGU9e2l0ZW0gPyAnbnVtJyA6ICdkb3QnfSBhY3RpdmU9eyhpdGVtID09PSB0aGlzLnByb3BzLmFjdGl2ZVBhZ2UpID8gdHJ1ZSA6IGZhbHNlfSBjaGFuZ2VQYWdlPXtpdGVtID8gdGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzLCAnbnVtJywgaXRlbSkgOiBudWxsfSAvPlxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpXG4gICAgICAgIH1cbiAgICAgICAge2VuZEJsb2NrfVxuICAgICAgPC91bD5cbiAgICApXG4gIH1cbn0pO1xuXG4vKiBQYWdpbmF0aW9uICovXG52YXIgUGFnaW5hdGlvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcHJvcFR5cGVzOiB7XG4gICAgcGFnZXM6IFJlYWN0LlByb3BUeXBlcy5udW1iZXJcbiAgfSxcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlUGFnZTogdGhpcy5wcm9wcy5hY3RpdmVQYWdlXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlUGFnZTogMSwgLy8g5r+A5rS76aG15Yid5aeL5YC8XG4gICAgICBmaXJzdDogbnVsbCwgLy8g6aaW6aG1IG51bGwgfHwgc3RyaW5nXG4gICAgICBwcmV2OiBcIuS4iuS4gOmhtVwiLCAvLyDkuIrkuIDpobUgbnVsbCB8fCBzdHJpbmdcbiAgICAgIGJhc2VQYWdlczogMiwgLy8gZmlyc3QgcHJldiBiYXNlIC4uLiBtaWQgLi4uIG5leHQgbGFzdFxuICAgICAgbWlkUGFnZXM6IDUsIC8vIGZpcnN0IHByZXYgYmFzZSAuLi4gbWlkIC4uLiBuZXh0IGxhc3RcbiAgICAgIGVsbGlwc2lzOiB0cnVlLCAvLyDnnIHnlaXlj7cgYm9vbGVuXG4gICAgICBuZXh0OiBcIuS4i+S4gOmhtVwiLCAvLyDkuIvkuIDpobUgbnVsbCB8fCBzdHJpbmdcbiAgICAgIGxhc3Q6IG51bGwsIC8vIOacq+mhtSBudWxsIHx8IHN0cmluZ1xuICAgICAgdGhlbWU6IFwibGlnaHRcIiwgLy8g5Li76aKYXG4gICAgICBxdWlja0dvOiBmYWxzZSwgLy8g5qaC6KeI5ZKM5b+r6YCf5YiH5o2iIGJvb2xlblxuICAgICAgc2VsZWN0ZWQ6IGZ1bmN0aW9uKHBhZ2UpIHsgLy8g6aG156CB5YiH5o2i5pe25Zue6LCDXG4gICAgICAgIGNvbnNvbGUubG9nKHBhZ2UpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgc2V0QWN0aXZlUGFnZTogZnVuY3Rpb24ocGFnZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWN0aXZlUGFnZTogcGFnZVxuICAgIH0pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwYWdpQ2xhc3MgPSAodGhpcy5wcm9wcy50aGVtZSA9PT0gJ2xpZ2h0JykgPyAncGFnaW5hdGlvbicgOiAncGFnaW5hdGlvbiAnICsgdGhpcy5wcm9wcy50aGVtZTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9e3BhZ2lDbGFzc30+XG4gICAgICAgIDxQYWdpTWFpbiB7Li4udGhpcy5wcm9wc30gYWN0aXZlUGFnZT17dGhpcy5zdGF0ZS5hY3RpdmVQYWdlfSBzZXRBY3RpdmVQYWdlPXt0aGlzLnNldEFjdGl2ZVBhZ2V9IC8+XG4gICAgICAgIHt0aGlzLnByb3BzLnF1aWNrR28gPyA8UGFnaU92ZXJ2aWV3IHBhZ2VzPXt0aGlzLnByb3BzLnBhZ2VzfSAvPiA6IG51bGx9XG4gICAgICAgIHt0aGlzLnByb3BzLnF1aWNrR28gPyA8UGFnaVF1aWNrR28gcGFnZXM9e3RoaXMucHJvcHMucGFnZXN9IHNldEFjdGl2ZVBhZ2U9e3RoaXMuc2V0QWN0aXZlUGFnZX0gLz4gOiBudWxsfVxuICAgICAgPC9kaXY+XG4gIClcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCdcclxuXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyAgQ29tcG9uZW50OiBQcm9ncmVzc0JhclxyXG4vL1xyXG4vLyAgSW5jbHVkZTogU3Bpbm5lclxyXG4vL1xyXG4vLyAgRGVzY3JpcHRpb246IEpzeCBmb3IgUHJvZ3Jlc3NCYXJcclxuLy9cclxuLy8gIFRPRE86IFtmaXhdIOS/ruato+WIneWni+aXtiB0cmFuc2l0aW9uIOS4jeeUn+aViOeahOmXrumimFxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qIFNwaW5uZXIgKi9cclxudmFyIFNwaW5uZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3Utc3Bpbm5lclwiPjwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyogUHJvZ3Jlc3NCYXIgKi9cclxudmFyIFByb2dyZXNzQmFyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByYXRlOiBudWxsLFxyXG4gICAgICBkb25lOiBmYWxzZVxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzcGVlZDogMC42LCAgLy8g5Yqo55S76YCf5bqmXHJcbiAgICAgIHNwaW5uZXI6IHRydWUsICAvLyDmmK/lkKbmnInlnIjlnIhcclxuICAgICAgZWFzaW5nOiAnZWFzZScsICAvLyDliqjnlLvnvJPliqjmm7Lnur9cclxuICAgICAgbWF4UmF0ZTogMC45NiwgIC8vIOi/m+W6puadoeacgOWkp+WuveW6plxyXG4gICAgICBpbmNTdGVwOiAwLjA0LCAgLy8gaW5jIOWinumVv+atpeW5hVxyXG4gICAgICBtaW5TdGVwOiAwLjAwNSwgIC8vIOmaj+acuuWinumVv+eahOacgOWwj+atpeW5hVxyXG4gICAgICBtYXhTdGVwOiAwLjAzLCAgLy8g6ZqP5py65aKe6ZW/55qE5pyA5aSn5q2l5bmFXHJcbiAgICAgIHRyaWNrbGU6IHRydWUsICAvLyDmmK/lkKboh6rliqjlop7plb9cclxuICAgICAgdHJpY2tsZVNwZWVkOiA4MDAsICAvLyDoh6rliqjlop7plb/nmoTpl7TpmpTml7bpl7RcclxuICAgICAgc2V0VHJpY2tsZTogZmFsc2UgIC8vIHNldCDlkI7mmK/lkKboh6rliqjlop7plb/vvIjmnKrlkK/nlKjvvIlcclxuICAgIH07XHJcbiAgfSxcclxuICBzdGFydDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9pbml0KCk7XHJcbiAgICB0aGlzLnNldCgnMC41JScpO1xyXG4gICAgdGhpcy5wcm9wcy50cmlja2xlICYmIHRoaXMuX2F1dG9JbmMoKTtcclxuICB9LFxyXG4gIHNldDogZnVuY3Rpb24obiwgdHJpY2tsZSkge1xyXG4gICAgIXRyaWNrbGUgJiYgdGhpcy5faW5pdCgpO1xyXG4gICAgbiA9IHRoaXMuX2Zvcm1hdChuKTtcclxuICAgIGlmIChuID09PSAxMDApIHtcclxuICAgICAgLyogZG9uZSAqL1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICByYXRlOiAxMDBcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuID0gbiA+IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMFxyXG4gICAgICAgID8gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXHJcbiAgICAgICAgOiBuO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICByYXRlOiBuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgaW5jOiBmdW5jdGlvbihuKSB7XHJcbiAgICB0aGlzLl9pbml0KCk7XHJcbiAgICB0aGlzLnByb3BzLnRyaWNrbGUgJiYgdGhpcy5fYXV0b0luYygpO1xyXG4gICAgbiA9IG5cclxuICAgICAgPyB0aGlzLl9mb3JtYXQobilcclxuICAgICAgOiB0aGlzLnByb3BzLmluY1N0ZXAgKiAxMDA7XHJcbiAgICB2YXIgbmV3UmF0ZSA9IHRoaXMuc3RhdGUucmF0ZSArIG47XHJcbiAgICB0aGlzLnNldChuZXdSYXRlICsgJyUnLCB0cnVlKTtcclxuICB9LFxyXG4gIGRvbmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zZXQoJzEwMCUnKTtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGRvbmU6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICByYXRlOiBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy5zcGVlZCAqIDIgKiAxMDAwKTtcclxuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy5zcGVlZCAqIDEwMDApO1xyXG4gIH0sXHJcbiAgX2Zvcm1hdDogZnVuY3Rpb24oZGF0YSkgeyAgLy8g5qC85byP5YyW5Li6IDAtMTAwIOeahOaVtOaVsFxyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykgeyAgLy8gMC0xIOeahOWwj+aVsFxyXG4gICAgICByZXR1cm4gZGF0YSA+IDFcclxuICAgICAgICA/IHRoaXMucHJvcy5tYXhSYXRlICogMTAwXHJcbiAgICAgICAgOiBkYXRhICogMTAwO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHsgIC8vIOeZvuWIhuavlFxyXG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChkYXRhKSA+IDEwMFxyXG4gICAgICAgID8gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXHJcbiAgICAgICAgOiBwYXJzZUZsb2F0KGRhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgX2luaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zdGF0ZS5kb25lICYmIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkb25lOiBmYWxzZVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnRpbWVyICYmIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcclxuICB9LFxyXG4gIF9hdXRvSW5jOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBuZXdSYXRlO1xyXG4gICAgdmFyIHJhbmRvbTtcclxuICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgcmFuZG9tID0gdGhpcy5fZ2V0UmFkb21TdGVwKCk7XHJcbiAgICAgIG5ld1JhdGUgPSB0aGlzLnN0YXRlLnJhdGUgKyByYW5kb207XHJcbiAgICAgIGNvbnNvbGUubG9nKHJhbmRvbSk7XHJcbiAgICAgIGlmIChuZXdSYXRlID4gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5tYXhSYXRlICogMTAwKTtcclxuICAgICAgICB0aGlzLl9jbGVhckludGVydmFsKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnNvbGUubG9nKG5ld1JhdGUpO1xyXG4gICAgICB0aGlzLnNldChuZXdSYXRlICsgJyUnLCB0cnVlKTtcclxuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy50cmlja2xlU3BlZWQpO1xyXG4gIH0sXHJcbiAgX2NsZWFySW50ZXJ2YWw6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy50aW1lciAmJiBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xyXG4gIH0sXHJcbiAgX2dldFJhZG9tU3RlcDogZnVuY3Rpb24obWluLCBtYXgpIHtcclxuICAgIG1pbiA9IG1pbiB8fCB0aGlzLnByb3BzLm1pblN0ZXAgKiAxMDA7XHJcbiAgICBtYXggPSBtYXggfHwgdGhpcy5wcm9wcy5tYXhTdGVwICogMTAwO1xyXG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcHJvZ3Jlc3NTdHlsZSA9IHtcclxuICAgICAgLy9kaXNwbGF5OiAoIXRoaXMuc3RhdGUucmF0ZSAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5yYXRlID09PSAnb2JqZWN0JykgPyAnbm9uZScgOiAnYmxvY2snLFxyXG4gICAgICBvcGFjaXR5OiB0aGlzLnN0YXRlLmRvbmVcclxuICAgICAgICA/IDBcclxuICAgICAgICA6IDEsXHJcbiAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5ICcgKyB0aGlzLnByb3BzLnNwZWVkICogMiArICdzICcgKyB0aGlzLnByb3BzLmVhc2luZ1xyXG4gICAgfTtcclxuICAgIHZhciBiYXJTdHlsZSA9IHtcclxuICAgICAgd2lkdGg6ICF0aGlzLnN0YXRlLnJhdGVcclxuICAgICAgICA/IDBcclxuICAgICAgICA6IHRoaXMuc3RhdGUucmF0ZSArICclJyxcclxuICAgICAgdHJhbnNpdGlvbjogJ3dpZHRoICcgKyB0aGlzLnByb3BzLnNwZWVkICsgJ3MgJyArIHRoaXMucHJvcHMuZWFzaW5nXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucmF0ZVxyXG4gICAgICA/IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXByb2dyZXNzXCIgc3R5bGU9e3Byb2dyZXNzU3R5bGV9PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1wcm9ncmVzcy1iYXJcIiBzdHlsZT17YmFyU3R5bGV9PjwvZGl2PlxyXG4gICAgICAgICAge3RoaXMucHJvcHMuc3Bpbm5lclxyXG4gICAgICAgICAgICA/IDxTcGlubmVyLz5cclxuICAgICAgICAgICAgOiBudWxsfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICAgIDogbnVsbDtcclxuICB9XHJcbn0pO1xyXG4iLCJ2YXIgVG9vbFRpcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGlwOiBcInRpcFwiLFxyXG4gICAgICAgICAgICB0cmlnZ2VyOiAnaG92ZXInLFxyXG4gICAgICAgICAgICBkZWxheTogMCxcclxuICAgICAgICAgICAgaG92ZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9zaXRpb246IFwidGlwXCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiBcIjIwMHB4XCIsXHJcbiAgICAgICAgICAgIHR5cGU6ICdzcGFuJyxcclxuICAgICAgICAgICAgYUhyZWY6IFwiI1wiXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnByb3BzLnBvc2l0aW9uLFxyXG4gICAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzT25UaXA6IGZhbHNlLFxyXG4gICAgICAgICAgICB0aXBIZWlnaHQ6IFwiXCJcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGhhbmRsZU1vdXNlT3ZlcjogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJob3ZlclwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGhhbmRsZU1vdXNlT3V0OiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImhvdmVyXCIpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuaXNPblRpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykgLCB0aGlzLnByb3BzLmRlbGF5KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiY2xpY2tcIikge1xyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogZmFsc2V9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKCF0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGhhbmRsZVRpcE1vdXNlT3ZlcjogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuaG92ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzT25UaXA6IHRydWV9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlVGlwTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLmhvdmVyYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc09uVGlwOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogZmFsc2V9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFRpcFBvc2l0aW9uKCk7XHJcbiAgICB9LFxyXG4gICAgc2V0VGlwUG9zaXRpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0aXAgPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKTtcclxuICAgICAgICB2YXIgY29udCA9IHRoaXMucmVmcy5jb250LmdldERPTU5vZGUoKTtcclxuICAgICAgICBpZighdGhpcy5mbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudGlwSGVpZ2h0ID0gdGlwLm9mZnNldEhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5mbGFnID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRpcFdpZHRoID0gdGlwLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHZhciB0aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHZhciBjb250V2lkdGggPSBjb250Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHZhciBjb250SGVpZ2h0ID0gY29udC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6dGlwLnN0eWxlLnRvcCA9IC0odGlwSGVpZ2h0LWNvbnRIZWlnaHQpLzIrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgrMjApK1wicHhcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjp0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInRvcFwiOnRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aC1jb250V2lkdGgpLzIrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUuYm90dG9tID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOnRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aC1jb250V2lkdGgpLzIrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUudG9wID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDogdGlwLnN0eWxlLnRvcCA9IC0odGlwSGVpZ2h0LWNvbnRIZWlnaHQpLzIrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aCsyMCkrXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aXAuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zdGF0ZS50aXBIZWlnaHQtMjArXCJweFwiO1xyXG4gICAgICAgIHRoaXMucHJldmVydFRpcE92ZXJmbG93KCk7XHJcbiAgICB9LFxyXG4gICAgcHJldmVydFRpcE92ZXJmbG93OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdGlwWCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgICAgICAgdmFyIHRpcFkgPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgICAgdmFyIHRpcFdpZHRoID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIHRpcEhlaWdodCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLm9mZnNldEhlaWdodDtcclxuICAgICAgICB2YXIgYXZhaWxXaWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpO1xyXG4gICAgICAgIGlmKHRpcFggPCAwICYmIHRpcFgrdGlwV2lkdGggPiBhdmFpbFdpZHRoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aXBYIDwgMCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwibGVmdFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJ0b3BcIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwidG9wXCIgfHwgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImJvdHRvbVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJyaWdodFwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRpcFgrdGlwV2lkdGggPiBhdmFpbFdpZHRoKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJyaWdodFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJib3R0b21cIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwiYm90dG9tXCIgfHwgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInRvcFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJsZWZ0XCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIGdldFRpcFN0eWxlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiB0aGlzLnN0YXRlLmlzQWN0aXZlP1wiYmxvY2tcIjpcIm5vbmVcIixcclxuICAgICAgICAgICAgY29sb3I6IFwicGlua1wiLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMzM1wiLFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy53aWR0aCxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50eXBlPT1cInNwYW5cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJhXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMuYUhyZWZ9IHJlZj1cImNvbnRcIiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlTW91c2VPdXR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvYT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZVRpcE1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVUaXBNb3VzZU91dH0gY2xhc3NOYW1lPVwidGlwXCIgcmVmPVwidGlwXCIgc3R5bGU9e3RoaXMuZ2V0VGlwU3R5bGUoKX0+e3RoaXMucHJvcHMudGlwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwiYnV0dG9uXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=