var foo=1;console.log(foo);var ToolTip=React.createClass({displayName:"ToolTip",getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(t){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(t){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(t){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(t){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(t){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var t=this.refs.tip.getDOMNode(),e=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=t.offsetHeight,this.flag=1);var i=t.offsetWidth,s=t.offsetHeight,o=e.offsetWidth,n=e.offsetHeight;switch(this.state.position){case"left":t.style.top=-(s-n)/2+"px",t.style.left=-(i+20)+"px";break;case"right":t.style.top=-(s-n)/2+"px",t.style.left="100%";break;case"top":t.style.left=-(i-o)/2+"px",t.style.bottom="100%";break;case"bottom":t.style.left=-(i-o)/2+"px",t.style.top="100%"}t.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var t=this.refs.tip.getDOMNode().getBoundingClientRect().left,e=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),i=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>t&&t+e>i)return!0;if(0>t){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(t+e>i){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip))}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),Progressbar=React.createClass({displayName:"Progressbar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.98,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(t,e){!e&&this._init(),t=this._format(t),100===t?this.setState({rate:100}):(t=t>100*this.props.maxRate?100*this.props.maxRate:t,this.setState({rate:t}))},inc:function(t){this._init(),this.props.trickle&&this._autoInc(),t=t?this._format(t):100*this.props.incStep;var e=this.state.rate+t;this.set(e+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(t){return"number"==typeof t?t>1?100*this.pros.maxRate:100*t:"string"==typeof t?parseFloat(t)>100?100*this.props.maxRate:parseFloat(t):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var t,e;this.timer=setInterval(function(){return e=this._getRadomStep(),t=this.state.rate+e,console.log(e),t>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(t),void this.set(t+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(t,e){return t=t||100*this.props.minStep,e=e||100*this.props.maxStep,Math.random()*(e-t)+t},render:function(){var t={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},e={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:t},React.createElement("div",{className:"cu-progress-bar",style:e}),this.props.spinner?React.createElement(Spinner,null):null):null}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbHRlci1ncm91cC9maWx0ZXItZ3JvdXAuanN4IiwidG9vbHRpcC90b29sdGlwLmpzeCIsInByb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmpzeCJdLCJuYW1lcyI6WyJmb28iLCJjb25zb2xlIiwibG9nIiwiVG9vbFRpcCIsIlJlYWN0IiwiY3JlYXRlQ2xhc3MiLCJkaXNwbGF5TmFtZSIsImdldEluaXRpYWxTdGF0ZSIsInBvc2l0aW9uIiwidGhpcyIsInByb3BzIiwiaXNBY3RpdmUiLCJpc09uVGlwIiwidGlwSGVpZ2h0IiwiaGFuZGxlTW91c2VPdmVyIiwiZSIsInRyaWdnZXIiLCJzZXRTdGF0ZSIsImhhbmRsZU1vdXNlT3V0Iiwic2V0VGltZW91dCIsInN0YXRlIiwiYmluZCIsImRlbGF5IiwiaGFuZGxlQ2xpY2siLCJoYW5kbGVUaXBNb3VzZU92ZXIiLCJob3ZlcmFibGUiLCJoYW5kbGVUaXBNb3VzZU91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNldFRpcFBvc2l0aW9uIiwidGlwIiwicmVmcyIsImdldERPTU5vZGUiLCJjb250IiwiZmxhZyIsIm9mZnNldEhlaWdodCIsInRpcFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJjb250V2lkdGgiLCJjb250SGVpZ2h0Iiwic3R5bGUiLCJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwiaGVpZ2h0IiwicHJldmVydFRpcE92ZXJmbG93IiwidGlwWCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImF2YWlsV2lkdGgiLCJwYXJzZUludCIsImRvY3VtZW50IiwiYm9keSIsImNsaWVudFdpZHRoIiwiZ2V0VGlwU3R5bGUiLCJkaXNwbGF5IiwiY29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ3aWR0aCIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJyZWYiLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VPdXQiLCJvbkNsaWNrIiwiY2hpbGRyZW4iLCJTcGlubmVyIiwiUHJvZ3Jlc3NiYXIiLCJyYXRlIiwiZG9uZSIsImdldERlZmF1bHRQcm9wcyIsInNwZWVkIiwic3Bpbm5lciIsImVhc2luZyIsIm1heFJhdGUiLCJpbmNTdGVwIiwibWluU3RlcCIsIm1heFN0ZXAiLCJ0cmlja2xlIiwidHJpY2tsZVNwZWVkIiwic2V0VHJpY2tsZSIsInN0YXJ0IiwiX2luaXQiLCJzZXQiLCJfYXV0b0luYyIsIm4iLCJfZm9ybWF0IiwiaW5jIiwibmV3UmF0ZSIsImRhdGEiLCJwcm9zIiwicGFyc2VGbG9hdCIsInRpbWVyIiwiX2NsZWFySW50ZXJ2YWwiLCJyYW5kb20iLCJzZXRJbnRlcnZhbCIsIl9nZXRSYWRvbVN0ZXAiLCJjbGVhckludGVydmFsIiwibWluIiwibWF4IiwiTWF0aCIsInByb2dyZXNzU3R5bGUiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsImJhclN0eWxlIl0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxLQUFNLENBQ1ZDLFNBQVFDLElBQUlGLElDRFosSUFBSUcsU0FBQUMsTUFBQUMsYUFBNkJDLFlBQUEsVUFDN0JDLGdCQUFpQixXQUNiLE9BQ0lDLFNBQVVDLEtBQUtDLE1BQU1GLFNBQ3JCRyxVQUFVLEVBQ1ZDLFNBQVMsRUFDVEMsVUFBVyxLQUduQkMsZ0JBQWlCLFNBQVNDLEdBQ0MsU0FBcEJOLEtBQUtDLE1BQU1NLFNBQ1ZQLEtBQUtRLFVBQVVOLFVBQVUsS0FHakNPLGVBQWdCLFNBQVNILEdBQ0UsU0FBcEJOLEtBQUtDLE1BQU1NLFNBQ1ZHLFdBQVcsV0FDUCxNQUFHVixNQUFLVyxNQUFNUixTQUNILE1BRVhILE1BQUtRLFVBQVVOLFVBQVUsS0FDM0JVLEtBQUtaLE1BQVFBLEtBQUtDLE1BQU1ZLFFBR2xDQyxZQUFhLFNBQVNSLEdBQ0ssU0FBcEJOLEtBQUtDLE1BQU1NLFVBQ1BQLEtBQUtXLE1BQU1ULFNBQ1ZGLEtBQUtRLFVBQVVOLFVBQVUsSUFDbEJGLEtBQUtXLE1BQU1ULFVBQ2xCRixLQUFLUSxVQUFVTixVQUFVLE1BSXJDYSxtQkFBb0IsU0FBU1QsR0FDdEJOLEtBQUtDLE1BQU1lLFlBQ1ZoQixL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N0YsS0FBS0MsTUFBTTRELE1BQVksS0FBTzdELEtBQUtDLE1BQU04RCxRQUU5RCtCLEdBQ0ovQyxNQUFRL0MsS0FBS1csTUFBTStDLEtBQVcxRCxLQUFLVyxNQUFNK0MsS0FBTyxJQUF0QixFQUMxQm1DLFdBQVksU0FBVzdGLEtBQUtDLE1BQU00RCxNQUFRLEtBQU83RCxLQUFLQyxNQUFNOEQsT0FFN0QsT0FBTy9ELE1BQUtXLE1BQU0rQyxLQUNmL0QsTUFBQXNELGNBQUEsT0FBSUMsVUFBQyxjQUFVcEIsTUFBYzZELEdBQzVCaEcsTUFBQXNELGNBQUEsT0FBSUMsVUFBQyxrQkFBVXBCLE1BQWtCZ0UsSUFDaEM5RixLQUFLQyxNQUFNNkQsUUFBVW5FLE1BQUFzRCxjQUFDTyxRQUFPLE1BQUcsTUFFaEMiLCJmaWxlIjoiQ2hhcm0tVUkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZm9vID0gMTtcbmNvbnNvbGUubG9nKGZvbyk7XG4iLCJ2YXIgVG9vbFRpcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMucG9zaXRpb24sXG4gICAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBpc09uVGlwOiBmYWxzZSxcbiAgICAgICAgICAgIHRpcEhlaWdodDogXCJcIlxuICAgICAgICB9O1xuICAgIH0sXG4gICAgaGFuZGxlTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJob3ZlclwiKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVNb3VzZU91dDogZnVuY3Rpb24oZSkge1xuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiaG92ZXJcIikge1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLnN0YXRlLmlzT25UaXApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogZmFsc2V9KTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSAsIHRoaXMucHJvcHMuZGVsYXkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiY2xpY2tcIikge1xuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmKCF0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlVGlwTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmKHRoaXMucHJvcHMuaG92ZXJhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc09uVGlwOiB0cnVlfSk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBoYW5kbGVUaXBNb3VzZU91dDogZnVuY3Rpb24oZSkge1xuICAgICAgICBpZih0aGlzLnByb3BzLmhvdmVyYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNPblRpcDogZmFsc2V9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldFRpcFBvc2l0aW9uKCk7XG4gICAgfSxcbiAgICBzZXRUaXBQb3NpdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0aXAgPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKTtcbiAgICAgICAgdmFyIGNvbnQgPSB0aGlzLnJlZnMuY29udC5nZXRET01Ob2RlKCk7XG4gICAgICAgIGlmKCF0aGlzLmZsYWcpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudGlwSGVpZ2h0ID0gdGlwLm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuZmxhZyA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRpcFdpZHRoID0gdGlwLm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgdGlwSGVpZ2h0ID0gdGlwLm9mZnNldEhlaWdodDtcbiAgICAgICAgdmFyIGNvbnRXaWR0aCA9IGNvbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgIHZhciBjb250SGVpZ2h0ID0gY29udC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5wb3NpdGlvbikge1xuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjp0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgrMjApK1wicHhcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOnRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gXCIxMDAlXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwidG9wXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUuYm90dG9tID0gXCIxMDAlXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUudG9wID0gXCIxMDAlXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgICAgIHRpcC5zdHlsZS5oZWlnaHQgPSB0aGlzLnN0YXRlLnRpcEhlaWdodC0yMCtcInB4XCI7XG4gICAgICAgIHRoaXMucHJldmVydFRpcE92ZXJmbG93KCk7XG4gICAgfSxcbiAgICBwcmV2ZXJ0VGlwT3ZlcmZsb3c6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdGlwWCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgICAgIHZhciB0aXBZID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5vZmZzZXRXaWR0aDtcbiAgICAgICAgdmFyIHRpcEhlaWdodCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLm9mZnNldEhlaWdodDtcbiAgICAgICAgdmFyIGF2YWlsV2lkdGggPSBwYXJzZUludChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKTtcbiAgICAgICAgaWYodGlwWCA8IDAgJiYgdGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRpcFggPCAwKSB7XG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwibGVmdFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwidG9wXCJ9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInRvcFwiIHx8IHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJib3R0b21cIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInJpZ2h0XCJ9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHRpcFgrdGlwV2lkdGggPiBhdmFpbFdpZHRoKSB7XG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImJvdHRvbVwifSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJib3R0b21cIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwidG9wXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJsZWZ0XCJ9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9LFxuICAgIGdldFRpcFN0eWxlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuc3RhdGUuaXNBY3RpdmU/XCJibG9ja1wiOlwibm9uZVwiLFxuICAgICAgICAgICAgY29sb3I6IFwicGlua1wiLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzMzNcIixcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxuICAgICAgICAgICAgICAgIDxzcGFuIHJlZj1cImNvbnRcIiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlTW91c2VPdXR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8ZGl2IG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZVRpcE1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVUaXBNb3VzZU91dH0gY2xhc3NOYW1lPVwidGlwXCIgcmVmPVwidGlwXCIgc3R5bGU9e3RoaXMuZ2V0VGlwU3R5bGUoKX0+e3RoaXMucHJvcHMudGlwfTwvZGl2PlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBTcGlubmVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXNwaW5uZXJcIj48L2Rpdj5cbiAgICApO1xuICB9XG59KTtcblxudmFyIFByb2dyZXNzYmFyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuXHRnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgXHRyYXRlOiBudWxsLFxuICAgIFx0ZG9uZTogZmFsc2VcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBzcGVlZDogMC42LFxuICAgICAgc3Bpbm5lcjogdHJ1ZSxcbiAgICAgIGVhc2luZzogJ2Vhc2UnLFxuICAgICAgbWF4UmF0ZTogMC45OCxcbiAgICAgIGluY1N0ZXA6IDAuMDQsXG4gICAgICBtaW5TdGVwOiAwLjAwNSxcbiAgICAgIG1heFN0ZXA6IDAuMDMsXG4gICAgICB0cmlja2xlOiB0cnVlLFxuICAgICAgdHJpY2tsZVNwZWVkOiA4MDAsXG4gICAgICBzZXRUcmlja2xlOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgXHR0aGlzLl9pbml0KCk7XG4gIFx0dGhpcy5zZXQoJzAuNSUnKTtcblx0ICB0aGlzLnByb3BzLnRyaWNrbGUgJiYgdGhpcy5fYXV0b0luYygpO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKG4sIHRyaWNrbGUpIHtcbiAgXHQhdHJpY2tsZSAmJiB0aGlzLl9pbml0KCk7XG4gIFx0biA9IHRoaXMuX2Zvcm1hdChuKTtcbiAgXHRpZihuID09PSAxMDApIHtcbiAgXHRcdC8qIGRvbmUgKi9cbiAgXHRcdHRoaXMuc2V0U3RhdGUoe1xuICBcdFx0XHRyYXRlOiAxMDBcbiAgXHRcdH0pO1xuICBcdH0gZWxzZSB7XG4gIFx0XHRuID0gbiA+IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMCA/IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMCA6IG47XG4gIFx0XHR0aGlzLnNldFN0YXRlKHtcbiAgXHRcdFx0cmF0ZTogblxuICBcdFx0fSk7XG4gIFx0fVxuICB9LFxuICBpbmM6IGZ1bmN0aW9uKG4pIHtcbiAgXHR0aGlzLl9pbml0KCk7XG4gIFx0dGhpcy5wcm9wcy50cmlja2xlICYmIHRoaXMuX2F1dG9JbmMoKTtcbiAgXHRuID0gbiA/IHRoaXMuIF9mb3JtYXQobikgOiB0aGlzLnByb3BzLmluY1N0ZXAgKiAxMDA7XG4gIFx0dmFyIG5ld1JhdGUgPSB0aGlzLnN0YXRlLnJhdGUgKyBuO1xuXHRcdHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xuICB9LFxuICBkb25lOiBmdW5jdGlvbigpIHtcbiAgXHR0aGlzLnNldCgnMTAwJScpO1xuICBcdHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gIFx0XHR0aGlzLnNldFN0YXRlKHtcbiAgXHRcdFx0ZG9uZTogdHJ1ZVxuICBcdFx0fSk7XG4gIFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHQgIFx0XHR0aGlzLnNldFN0YXRlKHtcblx0ICBcdFx0XHRyYXRlOiBudWxsXG5cdCAgXHRcdH0pO1xuICBcdFx0fS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMiAqIDEwMDApO1xuICBcdH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy5zcGVlZCAqIDEwMDApO1xuICB9LFxuICBfZm9ybWF0OiBmdW5jdGlvbihkYXRhKSB7XG4gIFx0aWYodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7XG4gIFx0XHRyZXR1cm4gZGF0YSA+IDEgPyB0aGlzLnByb3MubWF4UmF0ZSAqIDEwMCA6IGRhdGEgKiAxMDA7XG4gIFx0fSBlbHNlIGlmKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICBcdFx0cmV0dXJuIHBhcnNlRmxvYXQoZGF0YSkgPiAxMDAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDAgOiBwYXJzZUZsb2F0KGRhdGEpO1xuICBcdH0gZWxzZSB7XG4gIFx0XHRyZXR1cm47XG4gIFx0fVxuICB9LFxuICBfaW5pdDogZnVuY3Rpb24oKSB7XG4gIFx0dGhpcy5zdGF0ZS5kb25lICYmIHRoaXMuc2V0U3RhdGUoe1xuXHRcdFx0ZG9uZTogZmFsc2Vcblx0XHR9KTtcblx0XHR0aGlzLnRpbWVyICYmIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcbiAgfSxcbiAgX2F1dG9JbmM6IGZ1bmN0aW9uKCkge1xuICBcdHZhciBuZXdSYXRlO1xuICBcdHZhciByYW5kb207XG5cdFx0dGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuXHRcdFx0cmFuZG9tID0gdGhpcy5fZ2V0UmFkb21TdGVwKCk7XG5cdFx0XHRuZXdSYXRlID0gdGhpcy5zdGF0ZS5yYXRlICsgcmFuZG9tO1xuXHRcdFx0Y29uc29sZS5sb2cocmFuZG9tKTtcblx0XHRcdGlmKG5ld1JhdGUgPiB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApIHtcblx0XHRcdFx0Y29uc29sZS5sb2codGhpcy5wcm9wcy5tYXhSYXRlICogMTAwKTtcblx0XHRcdFx0dGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRjb25zb2xlLmxvZyhuZXdSYXRlKTtcblx0XHRcdHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xuXHRcdH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy50cmlja2xlU3BlZWQpO1xuXHR9LFxuXHRfY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24oKSB7XG5cdFx0dGhpcy50aW1lciAmJiBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuXHR9LFxuXHRfZ2V0UmFkb21TdGVwOiBmdW5jdGlvbihtaW4sIG1heCkge1xuXHRcdG1pbiA9IG1pbiB8fCB0aGlzLnByb3BzLm1pblN0ZXAgKiAxMDA7XG5cdFx0bWF4ID0gbWF4IHx8IHRoaXMucHJvcHMubWF4U3RlcCAqIDEwMDtcblx0XHRyZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xuXHR9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICBcdHZhciBwcm9ncmVzc1N0eWxlID0ge1xuICBcdFx0Ly9kaXNwbGF5OiAoIXRoaXMuc3RhdGUucmF0ZSAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5yYXRlID09PSAnb2JqZWN0JykgPyAnbm9uZScgOiAnYmxvY2snLFxuICBcdFx0b3BhY2l0eTogdGhpcy5zdGF0ZS5kb25lID8gMCA6IDEsXG4gIFx0XHR0cmFuc2l0aW9uOiAnb3BhY2l0eSAnICsgdGhpcy5wcm9wcy5zcGVlZCAqIDIgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmdcbiAgXHR9O1xuICAgIHZhciBiYXJTdHlsZSA9IHtcbiAgXHRcdHdpZHRoOiAhdGhpcy5zdGF0ZS5yYXRlID8gMCA6IHRoaXMuc3RhdGUucmF0ZSArICclJyxcbiAgXHRcdHRyYW5zaXRpb246ICd3aWR0aCAnICsgdGhpcy5wcm9wcy5zcGVlZCArICdzICcgKyB0aGlzLnByb3BzLmVhc2luZ1xuXHRcdH07XG4gIFx0cmV0dXJuIHRoaXMuc3RhdGUucmF0ZSA/IChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3NcIiBzdHlsZT17cHJvZ3Jlc3NTdHlsZX0+XG4gICAgICBcdDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3MtYmFyXCIgc3R5bGU9e2JhclN0eWxlfT48L2Rpdj5cbiAgICAgIFx0e3RoaXMucHJvcHMuc3Bpbm5lciA/IDxTcGlubmVyIC8+IDogbnVsbH1cbiAgICAgIDwvZGl2PlxuICAgICkgOiBudWxsO1xuICB9XG59KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==