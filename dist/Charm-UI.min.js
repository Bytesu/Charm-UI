var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:null,isWrapShow:!1}},handleBtnClick:function(){this.setState({isWrapShow:!this.state.isWrapShow})},handleSelectAddress:function(t){this.setState({nowAddress:t,isWrapShow:!1}),this.props.setCity&&this.props.setCity(t)},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress?this.state.nowAddress:this.props.localAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",render:function(){return React.createElement("div",{className:"AddressWrap"},React.createElement("div",{className:"AddressCont"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress})))}}),AddressLocation=React.createClass({displayName:"AddressLocation",handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",{className:"AddressLocation"},"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{result:[]}},handleResultClick:function(t){var e=t.target.getAttribute("data");this.props.handleSelectAddress(e)},handleSearch:function(t){var e=t.target.value,s=e.length,a=this.props.addressData,i=/^[\u4E00-\u9FA5]+$/;if(i.test(e)){var r=[],n=0;for(var o in a)for(var c in a[o])a[o][c].city.substring(0,s)==e&&(r[n]=a[o][c].city,n++);return void this.setState({result:r})}var d=e.substring(0,1).toLocaleUpperCase(),p=a[d],l=[],h=0;for(var u in p)u.substring(0,s)==e.toLocaleLowerCase()&&(l[h]=p[u].city),h++;this.setState({result:l})},render:function(){var t=this.handleResultClick,e=this.state.result.map(function(e){return React.createElement("li",{data:e,onClick:t},e)});return React.createElement("div",{className:"AddressSearch"},"直接搜索",React.createElement("input",{onChange:this.handleSearch,placeholder:"请输入城市名"}),React.createElement("ul",{className:"AddressSearchResult"},e))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",render:function(){var t=this.props.addressData,e=this.props.handleSelectAddress,s=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement(AddressListRow,{key:i,keyData:i,data:t[i],handleSelectAddress:e}),a++;return s}(t);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",handleClick:function(t){var e=t.target.getAttribute("data");this.props.handleSelectAddress(e)},render:function(){var t=this.handleClick,e=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement("span",{key:"p"+i},React.createElement("span",{data:e[i].city,key:a,onClick:t},e[i].city)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},e))}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"北京",currentCity:null,address:null}},getDefaultProps:function(){return{}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setState({currentCity:e})}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){var t=this.state.address?this.props.addressPickerActiveStyle:{};return React.createElement("div",{className:"address-picker",style:t},React.createElement(AddressList,{setCity:this.setCity,localAddress:this.state.currentCity,addressData:this.props.addressData}),React.createElement(AddressInput,React.__spread({},this.props,{city:this.state.city,searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"dark"}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setCity(e)}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,React.__spread({},this.props,{searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"light"}},searchSubmit:function(){var t=this.getDOMNode().children[0].value;this.props.searchSubmitHandler(t)},checkEnter:function(t){13===t.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var t={width:this.props.inputWidth},e="address-input";switch(this.props.theme){case"light":break;case"dark":e+=" dark"}return React.createElement("div",{className:e},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onKeyUp:this.checkEnter,placeholder:this.props.inputTip,style:t}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0,itemsList:[],itemActive:0}},getDefaultProps:function(){return{mapSearchgeotableId:121763,mapSearchTags:"",mapSearchFilter:"",theme:"light"}},componentDidMount:function(){this.map=new BMap.Map("_addressMapMain",{enableMapClick:!1}),this.map.centerAndZoom(this.props.city,12)},componentWillReceiveProps:function(t){t.addressKeyword&&this.getNearby(t.addressKeyword)},getNearby:function(t,e){var s=new BMap.Geocoder,a=this;s.getPoint(t,function(t){t?$.ajax({type:"get",url:"http://api.map.baidu.com/geosearch/v3/nearby",dataType:"jsonp",data:{ak:"sdp9qCbToS7E23nDRxaAAwbh",geotable_id:121763,location:t.lng+","+t.lat,radius:1e4,page_index:e||0,page_size:50},jsonp:"callback",success:function(t){a.setState({itemsNumber:t.total,itemsList:t.contents}),a.showNearby(),a.map.centerAndZoom(a.props.addressKeyword,12)}}):console.log("未找到该区域信息")}.bind(this),this.props.city)},showNearby:function(){var t=this;for(var e in this.state.itemsList){var s=new BMap.Point(this.state.itemsList[e].location[0],this.state.itemsList[e].location[1]),a=new BMap.Marker(s),i=new BMap.Label(String.fromCharCode(65+parseInt(e)),{offset:new BMap.Size(4,2)});i.setStyle({border:"none",backgroundColor:"transparent",color:"#FAFAFA"}),a.setLabel(i),a.setTitle(this.state.itemsList[e].title),a.addEventListener("click",function(e){t.showInfoWindow(this.getLabel().content.charCodeAt(0)-65)}),this.map.addOverlay(a)}this.state.itemsList.length&&this.showInfoWindow(0)},showInfoWindow:function(t){if(t!==this.state.itemActive,!0){var e=new BMap.Point(this.state.itemsList[t].location[0],this.state.itemsList[t].location[1]),s=this.state.itemsList[t],a=s.title,i=s.address,r=(s.tel,'<p class="map-info-window">地址：'+i+"</p>"),n=new BMap.InfoWindow(r,{title:a,width:290,panel:"panel",enableAutoPan:!0,offset:new BMap.Size(0,-25)});this.setState({itemActive:+t}),this.map.openInfoWindow(n,e)}},clickMapItem:function(t){var e=t.target,s=e.getAttribute("class"),a=0;a="map-item"===s?e.getAttribute("data-key"):"map-item-mark"===s||"map-item-main"===s?e.parentNode.getAttribute("data-key"):s?e.parentNode.parentNode.getAttribute("data-key"):e.parentNode.parentNode.parentNode.getAttribute("data-key"),this.showInfoWindow(a)},render:function(){var t="address-map";switch(this.props.theme){case"light":break;case"dark":t+=" dark"}var e={backgroundColor:"#181211"};return React.createElement("div",{className:t,style:{display:this.props.addressKeyword?"block":"none"}},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"附近有",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("ul",{className:"map-items",id:"_addressMapItems",onClick:this.clickMapItem},this.state.itemsList.map(function(t,s){return React.createElement("li",{className:"map-item","data-key":s,key:s,style:s===this.state.itemActive?e:{}},React.createElement("span",{className:"map-item-mark"},String.fromCharCode(65+s)),React.createElement("div",{className:"map-item-main"},React.createElement("div",{className:"map-item-title"},t.title),React.createElement("div",{className:"map-item-address"},"地址：",t.address),React.createElement("div",{className:"map-item-tel"},"电话：",t.tel)))}.bind(this)))),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(t,e){!e&&this._init(),t=this._format(t),100===t?this.setState({rate:100}):(t=t>100*this.props.maxRate?100*this.props.maxRate:t,this.setState({rate:t}))},inc:function(t){this._init(),this.props.trickle&&this._autoInc(),t=t?this._format(t):100*this.props.incStep;var e=this.state.rate+t;this.set(e+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(t){return"number"==typeof t?t>1?100*this.pros.maxRate:100*t:"string"==typeof t?parseFloat(t)>100?100*this.props.maxRate:parseFloat(t):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var t,e;this.timer=setInterval(function(){return e=this._getRadomStep(),t=this.state.rate+e,console.log(e),t>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(t),void this.set(t+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(t,e){return t=t||100*this.props.minStep,e=e||100*this.props.maxStep,Math.random()*(e-t)+t},render:function(){var t={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},e={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:t},React.createElement("div",{className:"cu-progress-bar",style:e}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(t){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(t){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(t){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(t){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(t){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var t=this.refs.tip.getDOMNode(),e=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=t.offsetHeight,this.flag=1);var s=t.offsetWidth,a=t.offsetHeight,i=e.offsetWidth,r=e.offsetHeight;switch(this.state.position){case"left":t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px";break;case"right":t.style.top=-(a-r)/2+"px",t.style.left="100%";break;case"top":t.style.left=-(s-i)/2+"px",t.style.bottom="100%";break;case"bottom":t.style.left=-(s-i)/2+"px",t.style.top="100%";break;default:t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px"}t.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var t=this.refs.tip.getDOMNode().getBoundingClientRect().left,e=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>t&&t+e>s)return!0;if(0>t){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(t+e>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NQaWNrZXIvQWRkcmVzc1BpY2tlci5qc3giLCJBZGRyZXNzU2VhcmNoL0FkZHJlc3NTZWFyY2guanN4IiwiUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIuanN4IiwiVG9vbHRpcC9Ub29sdGlwLmpzeCJdLCJuYW1lcyI6WyJBZGRyZXNzTGlzdCIsIlJlYWN0IiwiY3JlYXRlQ2xhc3MiLCJkaXNwbGF5TmFtZSIsImdldEluaXRpYWxTdGF0ZSIsIm5vd0FkZHJlc3MiLCJpc1dyYXBTaG93IiwiaGFuZGxlQnRuQ2xpY2siLCJ0aGlzIiwic2V0U3RhdGUiLCJzdGF0ZSIsImhhbmRsZVNlbGVjdEFkZHJlc3MiLCJzZWxlY3RDdCIsInByb3BzIiwic2V0Q2l0eSIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJBZGRyZXNzRHJvcEJ1dHRvbiIsInRyaWFuZ2xlU3RhdGUiLCJvbkNsaWNrIiwibG9jYWxBZGRyZXNzIiwiQWRkcmVzc1dyYXAiLCJhZGRyZXNzRGF0YSIsImhhbmRsZUNsaWNrIiwiY2hpbGRyZW4iLCJBZGRyZXNzTG9jYXRpb24iLCJBZGRyZXNzU2VhcmNoSW5wdXQiLCJBZGRyZXNzTGlzdFdyYXAiLCJyZXN1bHQiLCJoYW5kbGVSZXN1bHRDbGljayIsImUiLCJhZGRyZXNzIiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwiaGFuZGxlU2VhcmNoIiwiZXZlbnQiLCJjb250IiwidmFsdWUiLCJsZW4iLCJsZW5ndGgiLCJyZWciLCJ0ZXN0IiwiX3Jlc3VsdEgiLCJqIiwia2V5SCIsImtleUhTIiwiY2l0eSIsInN1YnN0cmluZyIsIkZMIiwidG9Mb2NhbGVVcHBlckNhc2UiLCJyZXN1bHRGTCIsIl9yZXN1bHQiLCJpIiwia2V5IiwidG9Mb2NhbGVMb3dlckNhc2UiLCJfaGFuZGxlUmVzdWx0Q2xpY2siLCJyZXN1bHROb2RlcyIsIm1hcCIsImRhdGEiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwicm93Tm9kZXMiLCJBZGRyZXNzTGlzdFJvdyIsImtleURhdGEiLCJkYXRhTm9kZXMiLCJBZGRyZXNzUGlja2VyIiwiY3VycmVudENpdHkiLCJnZXREZWZhdWx0UHJvcHMiLCJjb21wb25lbnRXaWxsTW91bnQiLCJteUNpdHkiLCJCTWFwIiwiTG9jYWxDaXR5IiwiZ2V0IiwicmVzIiwibmFtZSIsImJpbmQiLCJzZXRBZGRyZXNzIiwiYWQiLCJjdCIsImFkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZSIsInN0eWxlIiwiQWRkcmVzc0lucHV0IiwiX19zcHJlYWQiLCJzZWFyY2hTdWJtaXRIYW5kbGVyIiwiQWRkcmVzc01hcCIsImFkZHJlc3NLZXl3b3JkIiwidGhlbWUiLCJBZGRyZXNzU2VhcmNoIiwiaW5wdXRXaWR0aCIsImlucHV0VGlwIiwic2VhcmNoQnRuVGV4dCIsImtleXdvcmQiLCJzZWFyY2hTdWJtaXQiLCJnZXRET01Ob2RlIiwiY2hlY2tFbnRlciIsImtleUNvZGUiLCJjb21wb25lbnREaWRNb3VudCIsIkF1dG9jb21wbGV0ZSIsImlucHV0IiwibG9jYXRpb24iLCJrZXl3b3JkU3R5bGUiLCJ3aWR0aCIsImNvbkNsYXNzTmFtZSIsImlkIiwib25LZXlVcCIsIm1hcExvY2FsT2JqIiwiaXRlbXNOdW1iZXIiLCJpdGVtc0xpc3QiLCJpdGVtQWN0aXZlIiwibWFwU2VhcmNoZ2VvdGFibGVJZCIsIm1hcFNlYXJjaFRhZ3MiLCJtYXBTZWFyY2hGaWx0ZXIiLCJNYXAiLCJlbmFibGVNYXBDbGljayIsImNlbnRlckFuZFpvb20iLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwiZ2V0TmVhcmJ5IiwicGFnZSIsIm15R2VvIiwiR2VvY29kZXIiLCJfdGhpcyIsImdldFBvaW50IiwicG9pbnQiLCIkIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJkYXRhVHlwZSIsImFrIiwiZ2VvdGFibGVfaWQiLCJsbmciLCJsYXQiLCJyYWRpdXMiLCJwYWdlX2luZGV4IiwicGFnZV9zaXplIiwianNvbnAiLCJzdWNjZXNzIiwidG90YWwiLCJjb250ZW50cyIsInNob3dOZWFyYnkiLCJjb25zb2xlIiwibG9nIiwiayIsIlBvaW50IiwibWFya2VyIiwiTWFya2VyIiwibGFiZWwiLCJMYWJlbCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsInBhcnNlSW50Iiwib2Zmc2V0IiwiU2l6ZSIsInNldFN0eWxlIiwiYm9yZGVyIiwiYmFja2dyb3VuZENvbG9yIiwiY29sb3IiLCJzZXRMYWJlbCIsInNldFRpdGxlIiwidGl0bGUiLCJhZGRFdmVudExpc3RlbmVyIiwic2hvd0luZm9XaW5kb3ciLCJnZXRMYWJlbCIsImNvbnRlbnQiLCJjaGFyQ29kZUF0IiwiYWRkT3ZlcmxheSIsImluZGV4IiwiaXRlbUluZm8iLCJ0ZWwiLCJpbmZvV2luZG93IiwiSW5mb1dpbmRvdyIsInBhbmVsIiwiZW5hYmxlQXV0b1BhbiIsIm9wZW5JbmZvV2luZG93IiwiY2xpY2tNYXBJdGVtIiwiZWxlIiwiZWxlQ2xhc3MiLCJpdGVtSW5kZXgiLCJwYXJlbnROb2RlIiwibWFwSXRlbUFjdGllU3R5bGUiLCJkaXNwbGF5IiwiaXRlbSIsImRhdGEta2V5IiwiU3Bpbm5lciIsIlByb2dyZXNzQmFyIiwicmF0ZSIsImRvbmUiLCJzcGVlZCIsInNwaW5uZXIiLCJlYXNpbmciLCJtYXhSYXRlIiwiaW5jU3RlcCIsIm1pblN0ZXAiLCJtYXhTdGVwIiwidHJpY2tsZSIsInRyaWNrbGVTcGVlZCIsInNldFRyaWNrbGUiLCJzdGFydCIsIl9pbml0Iiwic2V0IiwiX2F1dG9JbmMiLCJuIiwiX2Zvcm1hdCIsImluYyIsIm5ld1JhdGUiLCJzZXRUaW1lb3V0IiwicHJvcyIsInBhcnNlRmxvYXQiLCJ0aW1lciIsIl9jbGVhckludGVydmFsIiwicmFuZG9tIiwic2V0SW50ZXJ2YWwiLCJfZ2V0UmFkb21TdGVwIiwiY2xlYXJJbnRlcnZhbCIsIm1pbiIsIm1heCIsIk1hdGgiLCJwcm9ncmVzc1N0eWxlIiwib3BhY2l0eSIsInRyYW5zaXRpb24iLCJiYXJTdHlsZSIsIlRvb2xUaXAiLCJ0aXAiLCJ0cmlnZ2VyIiwiZGVsYXkiLCJob3ZlcmFibGUiLCJwb3NpdGlvbiIsImFIcmVmIiwiaXNBY3RpdmUiLCJpc09uVGlwIiwidGlwSGVpZ2h0IiwiaGFuZGxlTW91c2VPdmVyIiwiaGFuZGxlTW91c2VPdXQiLCJoYW5kbGVUaXBNb3VzZU92ZXIiLCJoYW5kbGVUaXBNb3VzZU91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNldFRpcFBvc2l0aW9uIiwicmVmcyIsImZsYWciLCJvZmZzZXRIZWlnaHQiLCJ0aXBXaWR0aCIsIm9mZnNldFdpZHRoIiwiY29udFdpZHRoIiwiY29udEhlaWdodCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJoZWlnaHQiLCJwcmV2ZXJ0VGlwT3ZlcmZsb3ciLCJ0aXBYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYXZhaWxXaWR0aCIsImRvY3VtZW50IiwiYm9keSIsImNsaWVudFdpZHRoIiwiZ2V0VGlwU3R5bGUiLCJyZWYiLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VPdXQiLCJocmVmIl0sIm1hcHBpbmdzIjoiQUFDQSxHQUFJQSxhQUFBQyxNQUFBQyxhQUFpQ0MsWUFBQSxjQUNqQ0MsZ0JBQWlCLFdBQ2IsT0FDSUMsV0FBWSxLQUNaQyxZQUFZLElBR3BCQyxlQUFnQixXQUNaQyxLQUFLQyxVQUFVSCxZQUFhRSxLQUFLRSxNQUFNSixjQUUzQ0ssb0JBQXFCLFNBQVNDLEdBQzFCSixLQUFLQyxVQUFVSixXQUFZTyxFQUFTTixZQUFZLElBQzdDRSxLQUFLSyxNQUFNQyxTQUNWTixLQUFLSyxNQUFNQyxRQUFRRixJQUczQkcsT0FBUSxXQUNKLE1BQ0lkLE9BQUFlLGNBQUEsT0FBSUMsVUFBQyxlQUNEaEIsTUFBQWUsY0FBQ0UsbUJBQWlCQyxjQUFDWCxLQUFlRSxNQUFLSixXQUFnQmMsUUFBRVosS0FBU0QsZ0JBQzdEQyxLQUFLRSxNQUFNTCxXQUFXRyxLQUFLRSxNQUFNTCxXQUFXRyxLQUFLSyxNQUFNUSxjQUUzRGIsS0FBS0Us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eUIsV0FBRTVQLEtBQVlvTyxrQkFBSzNOLFVBQW1CLE1BQVVpUCxJQUFBLE1BQVNqTCxNQUFDekUsS0FBTXlQLGVBQVl6UCxLQUFXSyxNQUFLbU4sTUFJN0gsVUFBakJ4TixLQUFLSyxNQUFNa0gsS0FFTjlILE1BQUFlLGNBQUEsUUFBS0MsVUFBQyxXQUFXVCxLQUFXRSxNQUFLME4sVUFDN0JuTyxNQUFBZSxjQUFBLFVBQU9rUCxJQUFDLE9BQUlDLFlBQU8zUCxLQUFhaU8sZ0JBQUsyQixXQUFpQjVQLEtBQVVrTyxlQUFPdE4sUUFBZ0JaLEtBQUFnQixhQUFjaEIsS0FBYUssTUFBQ1ksVUFDbkh4QixNQUFBZSxjQUFBLE9BQUltUCxZQUFDM1AsS0FBYW1PLG1CQUF1QnlCLFdBQUU1UCxLQUFZb08sa0JBQUszTixVQUFtQixNQUFVaVAsSUFBQSxNQUFTakwsTUFBQ3pFLEtBQU15UCxlQUFZelAsS0FBV0ssTUFBS21OLE1BSmpKIiwiZmlsZSI6IkNoYXJtLVVJLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g5pW05L2T57uE5Lu2XHJcbnZhciBBZGRyZXNzTGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm93QWRkcmVzczogbnVsbCxcclxuICAgICAgICAgICAgaXNXcmFwU2hvdzogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGhhbmRsZUJ0bkNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1dyYXBTaG93OiAhdGhpcy5zdGF0ZS5pc1dyYXBTaG93fSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlU2VsZWN0QWRkcmVzczogZnVuY3Rpb24oc2VsZWN0Q3QpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtub3dBZGRyZXNzOiBzZWxlY3RDdCxpc1dyYXBTaG93OiBmYWxzZX0pO1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuc2V0Q2l0eSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNldENpdHkoc2VsZWN0Q3QpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RcIj5cclxuICAgICAgICAgICAgICAgIDxBZGRyZXNzRHJvcEJ1dHRvbiB0cmlhbmdsZVN0YXRlPXt0aGlzLnN0YXRlLmlzV3JhcFNob3d9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQnRuQ2xpY2t9PlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLm5vd0FkZHJlc3M/dGhpcy5zdGF0ZS5ub3dBZGRyZXNzOnRoaXMucHJvcHMubG9jYWxBZGRyZXNzfVxyXG4gICAgICAgICAgICAgICAgPC9BZGRyZXNzRHJvcEJ1dHRvbj5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzV3JhcFNob3c/XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NXcmFwIGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfSBsb2NhbEFkZHJlc3M9e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLmhhbmRsZVNlbGVjdEFkZHJlc3N9Lz5cclxuICAgICAgICAgICAgICAgICAgICA6bnVsbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOS4i+aLieaMiemSrlxyXG52YXIgQWRkcmVzc0Ryb3BCdXR0b24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrKCk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIkFkZHJlc3NEcm9wQnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0cmlhbmdsZSBcIit0aGlzLnByb3BzLnRyaWFuZ2xlU3RhdGV9Pjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDmk43kvZzmoYblrrnlmahcclxudmFyIEFkZHJlc3NXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NXcmFwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NDb250XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NMb2NhdGlvbiBsb2NhbEFkZHJlc3M9e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NTZWFyY2hJbnB1dCBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzTGlzdFdyYXAgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOWumuS9jeW9k+WJjeWcsOWdgFxyXG52YXIgQWRkcmVzc0xvY2F0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcyh0aGlzLnByb3BzLmxvY2FsQWRkcmVzcyk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMb2NhdGlvblwiPlxyXG4gICAgICAgICAgICAgICAg54yc5L2g5Zyo77yaPHNwYW4gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDmkJzntKJcclxudmFyIEFkZHJlc3NTZWFyY2hJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdWx0OiBbXSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVJlc3VsdENsaWNrOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIGFkZHJlc3MgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEnKTtcclxuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3MoYWRkcmVzcyk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlU2VhcmNoOiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBjb250ID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgIHZhciBsZW4gPSBjb250Lmxlbmd0aDtcclxuICAgICAgICB2YXIgYWRkcmVzc0RhdGEgPSB0aGlzLnByb3BzLmFkZHJlc3NEYXRhO1xyXG4gICAgICAgIC8vIOWIpOaWreaYr+axieWtl+i/mOaYr+aLvOmfs1xyXG4gICAgICAgIHZhciByZWc9L15bXFx1NEUwMC1cXHU5RkE1XSskLztcclxuICAgICAgICBpZihyZWcudGVzdChjb250KSkge1xyXG4gICAgICAgICAgICAvLyDmmK/msYnlrZflpITnkIZcclxuICAgICAgICAgICAgdmFyIF9yZXN1bHRIID0gW107XHJcbiAgICAgICAgICAgIHZhciBqID0gMDtcclxuICAgICAgICAgICAgZm9yKHZhciBrZXlIIGluIGFkZHJlc3NEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGtleUhTIGluIGFkZHJlc3NEYXRhW2tleUhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYWRkcmVzc0RhdGFba2V5SF1ba2V5SFNdLmNpdHkuc3Vic3RyaW5nKDAsbGVuKSA9PSBjb250KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHRIW2pdICA9IGFkZHJlc3NEYXRhW2tleUhdW2tleUhTXS5jaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdDogX3Jlc3VsdEh9KTtcclxuICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5piv5ou86Z+zXHJcbiAgICAgICAgdmFyIEZMID0gY29udC5zdWJzdHJpbmcoMCwxKS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xyXG4gICAgICAgIHZhciByZXN1bHRGTCA9IGFkZHJlc3NEYXRhW0ZMXTtcclxuICAgICAgICB2YXIgX3Jlc3VsdCA9IFtdO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICBmb3IodmFyIGtleSBpbiByZXN1bHRGTCkge1xyXG4gICAgICAgICAgICBpZihrZXkuc3Vic3RyaW5nKDAsbGVuKSA9PSBjb250LnRvTG9jYWxlTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIF9yZXN1bHRbaV0gID0gcmVzdWx0Rkxba2V5XS5jaXR5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cmVzdWx0OiBfcmVzdWx0fSk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgX2hhbmRsZVJlc3VsdENsaWNrID0gdGhpcy5oYW5kbGVSZXN1bHRDbGljaztcclxuICAgICAgICB2YXIgcmVzdWx0Tm9kZXMgPSB0aGlzLnN0YXRlLnJlc3VsdC5tYXAoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGxpIGRhdGE9e3Jlc3VsdH0gb25DbGljaz17X2hhbmRsZVJlc3VsdENsaWNrfT57cmVzdWx0fTwvbGk+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzU2VhcmNoXCI+XHJcbiAgICAgICAgICAgICAgICDnm7TmjqXmkJzntKJcclxuICAgICAgICAgICAgICAgIDxpbnB1dCBvbkNoYW5nZT17dGhpcy5oYW5kbGVTZWFyY2h9IHBsYWNlaG9sZGVyPVwi6K+36L6T5YWl5Z+O5biC5ZCNXCIgLz5cclxuICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJBZGRyZXNzU2VhcmNoUmVzdWx0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAge3Jlc3VsdE5vZGVzfVxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDliJfooajlrrnlmahcclxudmFyIEFkZHJlc3NMaXN0V3JhcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGFkZHJlc3NEYXRhID0gdGhpcy5wcm9wcy5hZGRyZXNzRGF0YTtcclxuICAgICAgICB2YXIgaGFuZGxlU2VsZWN0QWRkcmVzcyA9IHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcztcclxuICAgICAgICB2YXIgcm93Tm9kZXMgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ID0gW107XHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29udFtpXSAgPSA8QWRkcmVzc0xpc3RSb3cga2V5PXtrZXl9IGtleURhdGE9e2tleX0gZGF0YT17ZGF0YVtrZXldfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXtoYW5kbGVTZWxlY3RBZGRyZXNzfSAvPjtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29udDtcclxuICAgICAgICB9KGFkZHJlc3NEYXRhKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0V3JhcFwiPlxyXG4gICAgICAgICAgICAgICAge3Jvd05vZGVzfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOWcsOWdgOWIl+ihqOihjFxyXG52YXIgQWRkcmVzc0xpc3RSb3cgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciBhZGRyZXNzID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhJyk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzKGFkZHJlc3MpO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljaztcclxuICAgICAgICB2YXIgZGF0YU5vZGVzID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgY29udCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRbaV0gID0gPHNwYW4ga2V5PXtcInBcIitrZXl9PjxzcGFuIGRhdGE9e2RhdGFba2V5XS5jaXR5fSBrZXk9e2l9ICBvbkNsaWNrPXtoYW5kbGVDbGlja30gPntkYXRhW2tleV0uY2l0eX08L3NwYW4+PC9zcGFuPjtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29udDtcclxuICAgICAgICB9KHRoaXMucHJvcHMuZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwia2V5RGF0YVwiPnt0aGlzLnByb3BzLmtleURhdGF9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGF0YVdyYXBcIj57ZGF0YU5vZGVzfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xyXG5cclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICBJbmNsdWRlOiBBZGRyZXNzTGlzdCBBZGRyZXNzU2VhcmNoXHJcbi8vXHJcbi8vICBUT0RPOlxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBBZGRyZXNzUGlja2VyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjaXR5OiBcIuWMl+S6rFwiLFxyXG4gICAgICBjdXJyZW50Q2l0eTogbnVsbCxcclxuICAgICAgYWRkcmVzczogbnVsbFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge307XHJcbiAgfSxcclxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG15Q2l0eSA9IG5ldyBCTWFwLkxvY2FsQ2l0eSgpO1xyXG4gICAgbXlDaXR5XHJcbiAgICAgIC5nZXQoZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRDaXR5ID0gcmVzLm5hbWU7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgIGN1cnJlbnRDaXR5OiBjdXJyZW50Q2l0eVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LmJpbmQodGhpcykpO1xyXG4gIH0sXHJcbiAgc2V0QWRkcmVzczogZnVuY3Rpb24oYWQpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhZGRyZXNzOiBhZFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBzZXRDaXR5OiBmdW5jdGlvbihjdCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGNpdHk6IGN0XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlID0gdGhpcy5zdGF0ZS5hZGRyZXNzXHJcbiAgICAgID8gdGhpcy5wcm9wcy5hZGRyZXNzUGlja2VyQWN0aXZlU3R5bGVcclxuICAgICAgOiB7fTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1waWNrZXJcIiBzdHlsZT17YWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlfT5cclxuICAgICAgICA8QWRkcmVzc0xpc3Qgc2V0Q2l0eT17dGhpcy5zZXRDaXR5fSBsb2NhbEFkZHJlc3M9e3RoaXMuc3RhdGUuY3VycmVudENpdHl9IGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfS8+XHJcbiAgICAgICAgPEFkZHJlc3NJbnB1dCB7Li4udGhpcy5wcm9wc30gY2l0eT17dGhpcy5zdGF0ZS5jaXR5fSBzZWFyY2hTdWJtaXRIYW5kbGVyPXt0aGlzLnNldEFkZHJlc3N9Lz5cclxuICAgICAgICA8QWRkcmVzc01hcCBhZGRyZXNzS2V5d29yZD17dGhpcy5zdGF0ZS5hZGRyZXNzfSBjaXR5PXt0aGlzLnByb3BzLmNpdHl9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gIEluY2x1ZGU6IEFkZHJlc3NJbnB1dCBBZGRyZXNzTWFwXHJcbi8vXHJcbi8vICBUT0RPOiBbYWRkXSDlop7liqDlkITpobnlj4LmlbBcclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKiBBZGRyZXNzU2VhcmNoICovXHJcbnZhciBBZGRyZXNzU2VhcmNoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBhZGRyZXNzOiBudWxsXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlucHV0V2lkdGg6IDQwMCxcclxuICAgICAgaW5wdXRUaXA6IFwi6L6T5YWl5oOz6KaB5pCc57Si55qE5Zyw5Z2AXCIsXHJcbiAgICAgIHNlYXJjaEJ0blRleHQ6IFwi5pCc57SiXCIsXHJcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCIsXHJcbiAgICAgIHRoZW1lOiBcImRhcmtcIlxyXG4gICAgfVxyXG4gIH0sXHJcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBteUNpdHkgPSBuZXcgQk1hcC5Mb2NhbENpdHkoKTtcclxuICAgIG15Q2l0eVxyXG4gICAgICAuZ2V0KGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgIHZhciBjdXJyZW50Q2l0eSA9IHJlcy5uYW1lO1xyXG4gICAgICAgIHRoaXMuc2V0Q2l0eShjdXJyZW50Q2l0eSk7XHJcbiAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgfSxcclxuICBzZXRBZGRyZXNzOiBmdW5jdGlvbihhZCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFkZHJlc3M6IGFkXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHNldENpdHk6IGZ1bmN0aW9uKGN0KSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgY2l0eTogY3RcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1zZWFyY2hcIj5cclxuICAgICAgICA8QWRkcmVzc0lucHV0IHsuLi50aGlzLnByb3BzfSBzZWFyY2hTdWJtaXRIYW5kbGVyPXt0aGlzLnNldEFkZHJlc3N9Lz5cclxuICAgICAgICA8QWRkcmVzc01hcCBhZGRyZXNzS2V5d29yZD17dGhpcy5zdGF0ZS5hZGRyZXNzfSBjaXR5PXt0aGlzLnByb3BzLmNpdHl9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qIEFkZHJlc3NJbnB1dCAqL1xyXG52YXIgQWRkcmVzc0lucHV0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBrZXl3b3JkOiBudWxsXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlucHV0V2lkdGg6IDQwMCxcclxuICAgICAgaW5wdXRUaXA6IFwi6L6T5YWl5oOz6KaB5pCc57Si55qE5Zyw5Z2AXCIsXHJcbiAgICAgIHNlYXJjaEJ0blRleHQ6IFwi5pCc57SiXCIsXHJcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCIsXHJcbiAgICAgIHRoZW1lOiBcImxpZ2h0XCJcclxuICAgIH1cclxuICB9LFxyXG4gIHNlYXJjaFN1Ym1pdDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIga2V5d29yZCA9IHRoaXMuZ2V0RE9NTm9kZSgpXHJcbiAgICAgIC5jaGlsZHJlblswXVxyXG4gICAgICAudmFsdWU7XHJcbiAgICB0aGlzLnByb3BzXHJcbiAgICAgIC5zZWFyY2hTdWJtaXRIYW5kbGVyKGtleXdvcmQpO1xyXG4gIH0sXHJcbiAgY2hlY2tFbnRlcjogZnVuY3Rpb24oZSkge1xyXG4gICAgKGUua2V5Q29kZSA9PT0gMTMpICYmIHRoaXMuc2VhcmNoU3VibWl0KCk7XHJcbiAgfSxcclxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbWFwQXV0b0NvbXBsZXRlID0gbmV3IEJNYXAuQXV0b2NvbXBsZXRlKHtcclxuICAgICAgXCJpbnB1dFwiOiBcIl9hZGRyZXNzU2VhcmNoS2V5d29yZFwiLFxyXG4gICAgICBcImxvY2F0aW9uXCI6IHRoaXMucHJvcHMuY2l0eVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGtleXdvcmRTdHlsZSA9IHtcclxuICAgICAgd2lkdGg6IHRoaXMucHJvcHMuaW5wdXRXaWR0aFxyXG4gICAgfTtcclxuICAgIHZhciBjb25DbGFzc05hbWUgPSBcImFkZHJlc3MtaW5wdXRcIjtcclxuICAgIHN3aXRjaCAodGhpcy5wcm9wcy50aGVtZSkge1xyXG4gICAgICBjYXNlICdsaWdodCc6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2RhcmsnOlxyXG4gICAgICAgIGNvbkNsYXNzTmFtZSArPSBcIiBkYXJrXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcblxyXG4gICAgfVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NvbkNsYXNzTmFtZX0+XHJcbiAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImlucHV0LWtleXdvcmRcIiBpZD1cIl9hZGRyZXNzU2VhcmNoS2V5d29yZFwiIG9uS2V5VXA9e3RoaXMuY2hlY2tFbnRlcn0gcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMuaW5wdXRUaXB9IHN0eWxlPXtrZXl3b3JkU3R5bGV9PjwvaW5wdXQ+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJpbnB1dC1jb21taXRcIiBvbkNsaWNrPXt0aGlzLnNlYXJjaFN1Ym1pdH0+e3RoaXMucHJvcHMuc2VhcmNoQnRuVGV4dH08L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKiBBZGRyZXNzTWFwICovXHJcbnZhciBBZGRyZXNzTWFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBtYXBMb2NhbE9iajogbnVsbCxcclxuICAgICAgaXRlbXNOdW1iZXI6IDAsXHJcbiAgICAgIGl0ZW1zTGlzdDogW10sXHJcbiAgICAgIGl0ZW1BY3RpdmU6IDBcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbWFwU2VhcmNoZ2VvdGFibGVJZDogMTIxNzYzLFxyXG4gICAgICBtYXBTZWFyY2hUYWdzOiBcIlwiLFxyXG4gICAgICBtYXBTZWFyY2hGaWx0ZXI6IFwiXCIsXHJcbiAgICAgIHRoZW1lOiBcImxpZ2h0XCJcclxuICAgIH1cclxuICB9LFxyXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMubWFwID0gbmV3IEJNYXAuTWFwKFwiX2FkZHJlc3NNYXBNYWluXCIsIHtcclxuICAgICAgZW5hYmxlTWFwQ2xpY2s6IGZhbHNlXHJcbiAgICB9KTtcclxuICAgIHRoaXMubWFwXHJcbiAgICAgIC5jZW50ZXJBbmRab29tKHRoaXMucHJvcHMuY2l0eSwgMTIpO1xyXG4gIH0sXHJcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24obmV4dFByb3BzKSB7XHJcbiAgICBuZXh0UHJvcHMuYWRkcmVzc0tleXdvcmQgJiYgdGhpcy5nZXROZWFyYnkobmV4dFByb3BzLmFkZHJlc3NLZXl3b3JkKTtcclxuICB9LFxyXG4gIGdldE5lYXJieTogZnVuY3Rpb24oa2V5d29yZCwgcGFnZSkge1xyXG4gICAgLy8g5Zyw5Z2A6Kej5p6Q6I635Y+W57uP57qs5bqmXHJcbiAgICB2YXIgbXlHZW8gPSBuZXcgQk1hcC5HZW9jb2RlcigpO1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIG15R2VvXHJcbiAgICAgIC5nZXRQb2ludChrZXl3b3JkLCBmdW5jdGlvbihwb2ludCkgeyAvLyDop6PmnpDmiJDlip/lkI7nmoTlm57osIMg5pCc57Si5L+h5oGvXHJcbiAgICAgICAgaWYgKHBvaW50KSB7XHJcbiAgICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiAnZ2V0JyxcclxuICAgICAgICAgICAgdXJsOiAnaHR0cDovL2FwaS5tYXAuYmFpZHUuY29tL2dlb3NlYXJjaC92My9uZWFyYnknLFxyXG4gICAgICAgICAgICBkYXRhVHlwZSA6IFwianNvbnBcIixcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIGFrOiAnc2RwOXFDYlRvUzdFMjNuRFJ4YUFBd2JoJyxcclxuICAgICAgICAgICAgICBnZW90YWJsZV9pZDogMTIxNzYzLFxyXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiBwb2ludC5sbmcgKyAnLCcgKyBwb2ludC5sYXQsXHJcbiAgICAgICAgICAgICAgcmFkaXVzOiAxMDAwMCxcclxuICAgICAgICAgICAgICBwYWdlX2luZGV4OiBwYWdlIHx8IDAsXHJcbiAgICAgICAgICAgICAgcGFnZV9zaXplOiA1MFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBqc29ucDogJ2NhbGxiYWNrJyxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaXRlbXNOdW1iZXI6IHJlcy50b3RhbCxcclxuICAgICAgICAgICAgICAgIGl0ZW1zTGlzdDogcmVzLmNvbnRlbnRzXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgX3RoaXMuc2hvd05lYXJieSgpO1xyXG4gICAgICAgICAgICAgIF90aGlzLm1hcFxyXG4gICAgICAgICAgICAgICAgLmNlbnRlckFuZFpvb20oX3RoaXMucHJvcHMuYWRkcmVzc0tleXdvcmQsIDEyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCLmnKrmib7liLDor6XljLrln5/kv6Hmga9cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuY2l0eSk7XHJcbiAgfSxcclxuICBzaG93TmVhcmJ5OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICBmb3IgKHZhciBrIGluIHRoaXMuc3RhdGUuaXRlbXNMaXN0KSB7XHJcbiAgICAgIHZhciBwb2ludCA9IG5ldyBCTWFwLlBvaW50KHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLmxvY2F0aW9uWzBdLCB0aGlzLnN0YXRlLml0ZW1zTGlzdFtrXS5sb2NhdGlvblsxXSk7XHJcbiAgICAgIHZhciBtYXJrZXIgPSBuZXcgQk1hcC5NYXJrZXIocG9pbnQpO1xyXG4gICAgICB2YXIgbGFiZWwgPSBuZXcgQk1hcC5MYWJlbChTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgcGFyc2VJbnQoaykpLCB7XHJcbiAgICAgICAgb2Zmc2V0OiBuZXcgQk1hcC5TaXplKDQsIDIpXHJcbiAgICAgIH0pO1xyXG4gICAgICBsYWJlbC5zZXRTdHlsZSh7XHJcbiAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgIGNvbG9yOiAnI0ZBRkFGQSdcclxuICAgICAgfSk7XHJcbiAgICAgIG1hcmtlci5zZXRMYWJlbChsYWJlbCk7XHJcbiAgICAgIG1hcmtlci5zZXRUaXRsZSh0aGlzLnN0YXRlLml0ZW1zTGlzdFtrXS50aXRsZSk7XHJcbiAgICAgIG1hcmtlclxyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIF90aGlzLnNob3dJbmZvV2luZG93KHRoaXMuZ2V0TGFiZWwoKS5jb250ZW50LmNoYXJDb2RlQXQoMCkgLSA2NSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHRoaXMubWFwXHJcbiAgICAgICAgLmFkZE92ZXJsYXkobWFya2VyKTtcclxuICAgIH1cclxuICAgIHRoaXMuc3RhdGUuaXRlbXNMaXN0Lmxlbmd0aCAmJiB0aGlzLnNob3dJbmZvV2luZG93KDApO1xyXG4gIH0sXHJcbiAgc2hvd0luZm9XaW5kb3c6IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICBpZiAoaW5kZXggIT09IHRoaXMuc3RhdGUuaXRlbUFjdGl2ZSB8fCAxKSB7XHJcbiAgICAgIHZhciBwb2ludCA9IG5ldyBCTWFwLlBvaW50KHRoaXMuc3RhdGUuaXRlbXNMaXN0W2luZGV4XS5sb2NhdGlvblswXSwgdGhpcy5zdGF0ZS5pdGVtc0xpc3RbaW5kZXhdLmxvY2F0aW9uWzFdKTtcclxuICAgICAgdmFyIGl0ZW1JbmZvID0gdGhpcy5zdGF0ZS5pdGVtc0xpc3RbaW5kZXhdO1xyXG4gICAgICB2YXIgdGl0bGUgPSBpdGVtSW5mby50aXRsZTtcclxuICAgICAgdmFyIGFkZHJlc3MgPSBpdGVtSW5mby5hZGRyZXNzO1xyXG4gICAgICB2YXIgdGVsID0gaXRlbUluZm8udGVsO1xyXG4gICAgICB2YXIgY29udGVudCA9ICc8cCBjbGFzcz1cIm1hcC1pbmZvLXdpbmRvd1wiPuWcsOWdgO+8micgKyBhZGRyZXNzICsgJzwvcD4nO1xyXG4gICAgICB2YXIgaW5mb1dpbmRvdyA9IG5ldyBCTWFwLkluZm9XaW5kb3coY29udGVudCwge1xyXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgICB3aWR0aDogMjkwLFxyXG4gICAgICAgIHBhbmVsOiBcInBhbmVsXCIsXHJcbiAgICAgICAgZW5hYmxlQXV0b1BhbjogdHJ1ZSxcclxuICAgICAgICBvZmZzZXQ6IG5ldyBCTWFwLlNpemUoMCwgLTI1KVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaXRlbUFjdGl2ZTogKyBpbmRleFxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5tYXBcclxuICAgICAgICAub3BlbkluZm9XaW5kb3coaW5mb1dpbmRvdywgcG9pbnQpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgY2xpY2tNYXBJdGVtOiBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgZWxlID0gZS50YXJnZXQ7XHJcbiAgICB2YXIgZWxlQ2xhc3MgPSBlbGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgdmFyIGl0ZW1JbmRleCA9IDA7XHJcbiAgICBpZiAoZWxlQ2xhc3MgPT09IFwibWFwLWl0ZW1cIikge1xyXG4gICAgICBpdGVtSW5kZXggPSBlbGUuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xyXG4gICAgfSBlbHNlIGlmIChlbGVDbGFzcyA9PT0gXCJtYXAtaXRlbS1tYXJrXCIgfHwgZWxlQ2xhc3MgPT09IFwibWFwLWl0ZW0tbWFpblwiKSB7XHJcbiAgICAgIGl0ZW1JbmRleCA9IGVsZS5wYXJlbnROb2RlXHJcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcclxuICAgIH0gZWxzZSBpZiAoIWVsZUNsYXNzKSB7XHJcbiAgICAgIGl0ZW1JbmRleCA9IGVsZS5wYXJlbnROb2RlXHJcbiAgICAgICAgLnBhcmVudE5vZGVcclxuICAgICAgICAucGFyZW50Tm9kZVxyXG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxyXG4gICAgICAgIC5wYXJlbnROb2RlXHJcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcclxuICAgIH1cclxuICAgIHRoaXMuc2hvd0luZm9XaW5kb3coaXRlbUluZGV4KTtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY29uQ2xhc3NOYW1lID0gXCJhZGRyZXNzLW1hcFwiO1xyXG4gICAgc3dpdGNoICh0aGlzLnByb3BzLnRoZW1lKSB7XHJcbiAgICAgIGNhc2UgJ2xpZ2h0JzpcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnZGFyayc6XHJcbiAgICAgICAgY29uQ2xhc3NOYW1lICs9IFwiIGRhcmtcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuXHJcbiAgICB9XHJcbiAgICB2YXIgbWFwSXRlbUFjdGllU3R5bGUgPSB7XHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMTgxMjExXCJcclxuICAgIH07XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y29uQ2xhc3NOYW1lfSBzdHlsZT17e1xyXG4gICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuYWRkcmVzc0tleXdvcmRcclxuICAgICAgICAgID8gXCJibG9ja1wiXHJcbiAgICAgICAgICA6IFwibm9uZVwiXHJcbiAgICAgIH19PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdlwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbmF2LXRpdGxlXCI+XHJcbiAgICAgICAgICAgIOmZhOi/keaciVxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXAtbmF2LW51bWJlclwiPlxyXG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLml0ZW1zTnVtYmVyfVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIOWutuS9k+mqjOW6l1xyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibWFwLWl0ZW1zXCIgaWQ9XCJfYWRkcmVzc01hcEl0ZW1zXCIgb25DbGljaz17dGhpcy5jbGlja01hcEl0ZW19PlxyXG4gICAgICAgICAgICB7dGhpc1xyXG4gICAgICAgICAgICAgIC5zdGF0ZVxyXG4gICAgICAgICAgICAgIC5pdGVtc0xpc3RcclxuICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cIm1hcC1pdGVtXCIgZGF0YS1rZXk9e2l9IGtleT17aX0gc3R5bGU9eyhpID09PSB0aGlzLnN0YXRlLml0ZW1BY3RpdmUpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBtYXBJdGVtQWN0aWVTdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgIHt9fT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXAtaXRlbS1tYXJrXCI+e1N0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBpKX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtaXRlbS1tYWluXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLXRpdGxlXCI+e2l0ZW0udGl0bGV9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLWFkZHJlc3NcIj7lnLDlnYDvvJp7aXRlbS5hZGRyZXNzfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtaXRlbS10ZWxcIj7nlLXor53vvJp7aXRlbS50ZWx9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIDwvbGk+O1xyXG4gICAgICAgICAgICAgIH0uYmluZCh0aGlzKSl9XHJcbiAgICAgICAgICA8L3VsPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW1haW5cIiBpZD1cIl9hZGRyZXNzTWFwTWFpblwiPjwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gIENvbXBvbmVudDogUHJvZ3Jlc3NCYXJcclxuLy9cclxuLy8gIEluY2x1ZGU6IFNwaW5uZXJcclxuLy9cclxuLy8gIERlc2NyaXB0aW9uOiBKc3ggZm9yIFByb2dyZXNzQmFyXHJcbi8vXHJcbi8vICBUT0RPOiBbZml4XSDkv67mraPliJ3lp4vml7YgdHJhbnNpdGlvbiDkuI3nlJ/mlYjnmoTpl67pophcclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKiBTcGlubmVyICovXHJcbnZhciBTcGlubmVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXNwaW5uZXJcIj48L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qIFByb2dyZXNzQmFyICovXHJcbnZhciBQcm9ncmVzc0JhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmF0ZTogbnVsbCxcclxuICAgICAgZG9uZTogZmFsc2VcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgc3BlZWQ6IDAuNiwgIC8vIOWKqOeUu+mAn+W6plxyXG4gICAgICBzcGlubmVyOiB0cnVlLCAgLy8g5piv5ZCm5pyJ5ZyI5ZyIXHJcbiAgICAgIGVhc2luZzogJ2Vhc2UnLCAgLy8g5Yqo55S757yT5Yqo5puy57q/XHJcbiAgICAgIG1heFJhdGU6IDAuOTYsICAvLyDov5vluqbmnaHmnIDlpKflrr3luqZcclxuICAgICAgaW5jU3RlcDogMC4wNCwgIC8vIGluYyDlop7plb/mraXluYVcclxuICAgICAgbWluU3RlcDogMC4wMDUsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlsI/mraXluYVcclxuICAgICAgbWF4U3RlcDogMC4wMywgIC8vIOmaj+acuuWinumVv+eahOacgOWkp+atpeW5hVxyXG4gICAgICB0cmlja2xlOiB0cnVlLCAgLy8g5piv5ZCm6Ieq5Yqo5aKe6ZW/XHJcbiAgICAgIHRyaWNrbGVTcGVlZDogODAwLCAgLy8g6Ieq5Yqo5aKe6ZW/55qE6Ze06ZqU5pe26Ze0XHJcbiAgICAgIHNldFRyaWNrbGU6IGZhbHNlICAvLyBzZXQg5ZCO5piv5ZCm6Ieq5Yqo5aKe6ZW/77yI5pyq5ZCv55So77yJXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5faW5pdCgpO1xyXG4gICAgdGhpcy5zZXQoJzAuNSUnKTtcclxuICAgIHRoaXMucHJvcHMudHJpY2tsZSAmJiB0aGlzLl9hdXRvSW5jKCk7XHJcbiAgfSxcclxuICBzZXQ6IGZ1bmN0aW9uKG4sIHRyaWNrbGUpIHtcclxuICAgICF0cmlja2xlICYmIHRoaXMuX2luaXQoKTtcclxuICAgIG4gPSB0aGlzLl9mb3JtYXQobik7XHJcbiAgICBpZiAobiA9PT0gMTAwKSB7XHJcbiAgICAgIC8qIGRvbmUgKi9cclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgcmF0ZTogMTAwXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbiA9IG4gPiB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA/IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMFxyXG4gICAgICAgIDogbjtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgcmF0ZTogblxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LFxyXG4gIGluYzogZnVuY3Rpb24obikge1xyXG4gICAgdGhpcy5faW5pdCgpO1xyXG4gICAgdGhpcy5wcm9wcy50cmlja2xlICYmIHRoaXMuX2F1dG9JbmMoKTtcclxuICAgIG4gPSBuXHJcbiAgICAgID8gdGhpcy5fZm9ybWF0KG4pXHJcbiAgICAgIDogdGhpcy5wcm9wcy5pbmNTdGVwICogMTAwO1xyXG4gICAgdmFyIG5ld1JhdGUgPSB0aGlzLnN0YXRlLnJhdGUgKyBuO1xyXG4gICAgdGhpcy5zZXQobmV3UmF0ZSArICclJywgdHJ1ZSk7XHJcbiAgfSxcclxuICBkb25lOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuc2V0KCcxMDAlJyk7XHJcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBkb25lOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgcmF0ZTogbnVsbFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuc3BlZWQgKiAyICogMTAwMCk7XHJcbiAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuc3BlZWQgKiAxMDAwKTtcclxuICB9LFxyXG4gIF9mb3JtYXQ6IGZ1bmN0aW9uKGRhdGEpIHsgIC8vIOagvOW8j+WMluS4uiAwLTEwMCDnmoTmlbTmlbBcclxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHsgIC8vIDAtMSDnmoTlsI/mlbBcclxuICAgICAgcmV0dXJuIGRhdGEgPiAxXHJcbiAgICAgICAgPyB0aGlzLnByb3MubWF4UmF0ZSAqIDEwMFxyXG4gICAgICAgIDogZGF0YSAqIDEwMDtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7ICAvLyDnmb7liIbmr5RcclxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZGF0YSkgPiAxMDBcclxuICAgICAgICA/IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMFxyXG4gICAgICAgIDogcGFyc2VGbG9hdChkYXRhKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICB9LFxyXG4gIF9pbml0OiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuc3RhdGUuZG9uZSAmJiB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgZG9uZTogZmFsc2VcclxuICAgIH0pO1xyXG4gICAgdGhpcy50aW1lciAmJiB0aGlzLl9jbGVhckludGVydmFsKCk7XHJcbiAgfSxcclxuICBfYXV0b0luYzogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbmV3UmF0ZTtcclxuICAgIHZhciByYW5kb207XHJcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJhbmRvbSA9IHRoaXMuX2dldFJhZG9tU3RlcCgpO1xyXG4gICAgICBuZXdSYXRlID0gdGhpcy5zdGF0ZS5yYXRlICsgcmFuZG9tO1xyXG4gICAgICBjb25zb2xlLmxvZyhyYW5kb20pO1xyXG4gICAgICBpZiAobmV3UmF0ZSA+IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMCk7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBjb25zb2xlLmxvZyhuZXdSYXRlKTtcclxuICAgICAgdGhpcy5zZXQobmV3UmF0ZSArICclJywgdHJ1ZSk7XHJcbiAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMudHJpY2tsZVNwZWVkKTtcclxuICB9LFxyXG4gIF9jbGVhckludGVydmFsOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMudGltZXIgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcclxuICB9LFxyXG4gIF9nZXRSYWRvbVN0ZXA6IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XHJcbiAgICBtaW4gPSBtaW4gfHwgdGhpcy5wcm9wcy5taW5TdGVwICogMTAwO1xyXG4gICAgbWF4ID0gbWF4IHx8IHRoaXMucHJvcHMubWF4U3RlcCAqIDEwMDtcclxuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XHJcbiAgfSxcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHByb2dyZXNzU3R5bGUgPSB7XHJcbiAgICAgIC8vZGlzcGxheTogKCF0aGlzLnN0YXRlLnJhdGUgJiYgdHlwZW9mIHRoaXMuc3RhdGUucmF0ZSA9PT0gJ29iamVjdCcpID8gJ25vbmUnIDogJ2Jsb2NrJyxcclxuICAgICAgb3BhY2l0eTogdGhpcy5zdGF0ZS5kb25lXHJcbiAgICAgICAgPyAwXHJcbiAgICAgICAgOiAxLFxyXG4gICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAnICsgdGhpcy5wcm9wcy5zcGVlZCAqIDIgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmdcclxuICAgIH07XHJcbiAgICB2YXIgYmFyU3R5bGUgPSB7XHJcbiAgICAgIHdpZHRoOiAhdGhpcy5zdGF0ZS5yYXRlXHJcbiAgICAgICAgPyAwXHJcbiAgICAgICAgOiB0aGlzLnN0YXRlLnJhdGUgKyAnJScsXHJcbiAgICAgIHRyYW5zaXRpb246ICd3aWR0aCAnICsgdGhpcy5wcm9wcy5zcGVlZCArICdzICcgKyB0aGlzLnByb3BzLmVhc2luZ1xyXG4gICAgfTtcclxuICAgIHJldHVybiB0aGlzLnN0YXRlLnJhdGVcclxuICAgICAgPyAoXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1wcm9ncmVzc1wiIHN0eWxlPXtwcm9ncmVzc1N0eWxlfT5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3MtYmFyXCIgc3R5bGU9e2JhclN0eWxlfT48L2Rpdj5cclxuICAgICAgICAgIHt0aGlzLnByb3BzLnNwaW5uZXJcclxuICAgICAgICAgICAgPyA8U3Bpbm5lci8+XHJcbiAgICAgICAgICAgIDogbnVsbH1cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKVxyXG4gICAgICA6IG51bGw7XHJcbiAgfVxyXG59KTtcclxuIiwidmFyIFRvb2xUaXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRpcDogXCJ0aXBcIixcclxuICAgICAgICAgICAgdHJpZ2dlcjogJ2hvdmVyJyxcclxuICAgICAgICAgICAgZGVsYXk6IDAsXHJcbiAgICAgICAgICAgIGhvdmVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcInRpcFwiLFxyXG4gICAgICAgICAgICB3aWR0aDogXCIyMDBweFwiLFxyXG4gICAgICAgICAgICB0eXBlOiAnc3BhbicsXHJcbiAgICAgICAgICAgIGFIcmVmOiBcIiNcIlxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBwb3NpdGlvbjogdGhpcy5wcm9wcy5wb3NpdGlvbixcclxuICAgICAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICBpc09uVGlwOiBmYWxzZSxcclxuICAgICAgICAgICAgdGlwSGVpZ2h0OiBcIlwiXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVNb3VzZU92ZXI6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiaG92ZXJcIikge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVNb3VzZU91dDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJob3ZlclwiKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLnN0YXRlLmlzT25UaXApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogZmFsc2V9KTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpICwgdGhpcy5wcm9wcy5kZWxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImNsaWNrXCIpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZighdGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVUaXBNb3VzZU92ZXI6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLmhvdmVyYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc09uVGlwOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGhhbmRsZVRpcE1vdXNlT3V0OiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy5ob3ZlcmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNPblRpcDogZmFsc2V9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudERpZFVwZGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRUaXBQb3NpdGlvbigpO1xyXG4gICAgfSxcclxuICAgIHNldFRpcFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdGlwID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCk7XHJcbiAgICAgICAgdmFyIGNvbnQgPSB0aGlzLnJlZnMuY29udC5nZXRET01Ob2RlKCk7XHJcbiAgICAgICAgaWYoIXRoaXMuZmxhZykge1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlLnRpcEhlaWdodCA9IHRpcC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuZmxhZyA9IDE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0aXBXaWR0aCA9IHRpcC5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgdGlwSGVpZ2h0ID0gdGlwLm9mZnNldEhlaWdodDtcclxuICAgICAgICB2YXIgY29udFdpZHRoID0gY29udC5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgY29udEhlaWdodCA9IGNvbnQub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZS5wb3NpdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFwibGVmdFwiOnRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoKzIwKStcInB4XCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6dGlwLnN0eWxlLnRvcCA9IC0odGlwSGVpZ2h0LWNvbnRIZWlnaHQpLzIrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUubGVmdCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ0b3BcIjp0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgtY29udFdpZHRoKS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmJvdHRvbSA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJib3R0b21cIjp0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgtY29udFdpZHRoKS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLnRvcCA9IFwiMTAwJVwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgrMjApK1wicHhcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGlwLnN0eWxlLmhlaWdodCA9IHRoaXMuc3RhdGUudGlwSGVpZ2h0LTIwK1wicHhcIjtcclxuICAgICAgICB0aGlzLnByZXZlcnRUaXBPdmVyZmxvdygpO1xyXG4gICAgfSxcclxuICAgIHByZXZlcnRUaXBPdmVyZmxvdzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRpcFggPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xyXG4gICAgICAgIHZhciB0aXBZID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICAgIHZhciB0aXBXaWR0aCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHZhciB0aXBIZWlnaHQgPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGF2YWlsV2lkdGggPSBwYXJzZUludChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoKTtcclxuICAgICAgICBpZih0aXBYIDwgMCAmJiB0aXBYK3RpcFdpZHRoID4gYXZhaWxXaWR0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGlwWCA8IDApIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImxlZnRcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwidG9wXCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInRvcFwiIHx8IHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJib3R0b21cIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwicmlnaHRcIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aXBYK3RpcFdpZHRoID4gYXZhaWxXaWR0aCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwicmlnaHRcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwiYm90dG9tXCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImJvdHRvbVwiIHx8IHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJ0b3BcIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwibGVmdFwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICBnZXRUaXBTdHlsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZGlzcGxheTogdGhpcy5zdGF0ZS5pc0FjdGl2ZT9cImJsb2NrXCI6XCJub25lXCIsXHJcbiAgICAgICAgICAgIGNvbG9yOiBcInBpbmtcIixcclxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiMzMzNcIixcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMud2lkdGgsXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJzcGFuXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHJlZj1cImNvbnRcIiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlTW91c2VPdXR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZVRpcE1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVUaXBNb3VzZU91dH0gY2xhc3NOYW1lPVwidGlwXCIgcmVmPVwidGlwXCIgc3R5bGU9e3RoaXMuZ2V0VGlwU3R5bGUoKX0+e3RoaXMucHJvcHMudGlwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwiYVwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widG9vbHRpcCBcIit0aGlzLnN0YXRlLnBvc2l0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPXt0aGlzLnByb3BzLmFIcmVmfSByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2E+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50eXBlPT1cImJ1dHRvblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widG9vbHRpcCBcIit0aGlzLnN0YXRlLnBvc2l0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHJlZj1cImNvbnRcIiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlTW91c2VPdXR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9