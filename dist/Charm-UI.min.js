var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:null,isWrapShow:!1}},handleBtnClick:function(){this.setState({isWrapShow:!this.state.isWrapShow})},handleSelectAddress:function(t){this.setState({nowAddress:t,isWrapShow:!1}),this.props.setCity&&this.props.setCity(t)},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress?this.state.nowAddress:this.props.localAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",render:function(){return React.createElement("div",{className:"AddressWrap"},React.createElement("div",{className:"AddressCont"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress})))}}),AddressLocation=React.createClass({displayName:"AddressLocation",handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",{className:"AddressLocation"},"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{result:[]}},handleResultClick:function(t){var e=t.target.getAttribute("data");this.props.handleSelectAddress(e)},handleSearch:function(t){var e=t.target.value,s=e.length,a=this.props.addressData,i=/^[\u4E00-\u9FA5]+$/;if(i.test(e)){var r=[],n=0;for(var o in a)for(var c in a[o])a[o][c].city.substring(0,s)==e&&(r[n]=a[o][c].city,n++);return void this.setState({result:r})}var d=e.substring(0,1).toLocaleUpperCase(),p=a[d],l=[],h=0;for(var u in p)u.substring(0,s)==e.toLocaleLowerCase()&&(l[h]=p[u].city),h++;this.setState({result:l})},render:function(){var t=this.handleResultClick,e=this.state.result.map(function(e){return React.createElement("li",{data:e,onClick:t},e)});return React.createElement("div",{className:"AddressSearch"},"直接搜索",React.createElement("input",{onChange:this.handleSearch,placeholder:"请输入城市名"}),React.createElement("ul",{className:"AddressSearchResult"},e))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",render:function(){var t=this.props.addressData,e=this.props.handleSelectAddress,s=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement(AddressListRow,{key:i,keyData:i,data:t[i],handleSelectAddress:e}),a++;return s}(t);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",handleClick:function(t){var e=t.target.getAttribute("data");this.props.handleSelectAddress(e)},render:function(){var t=this.handleClick,e=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement("span",{key:"p"+i},React.createElement("span",{data:e[i].city,key:a,onClick:t},e[i].city)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},e))}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"北京",currentCity:null,address:null}},getDefaultProps:function(){return{}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setState({currentCity:e})}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){var t=this.state.address?this.props.addressPickerActiveStyle:{};return React.createElement("div",{className:"address-picker",style:t},React.createElement(AddressList,{setCity:this.setCity,localAddress:this.state.currentCity,addressData:this.props.addressData}),React.createElement(AddressInput,React.__spread({},this.props,{city:this.state.city,searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"dark"}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setCity(e)}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,React.__spread({},this.props,{searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"light"}},searchSubmit:function(){var t=this.getDOMNode().children[0].value;this.props.searchSubmitHandler(t)},checkEnter:function(t){13===t.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var t={width:this.props.inputWidth},e="address-input";switch(this.props.theme){case"light":break;case"dark":e+=" dark"}return React.createElement("div",{className:e},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onKeyUp:this.checkEnter,placeholder:this.props.inputTip,style:t}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0,itemsList:[],itemActive:0}},getDefaultProps:function(){return{mapSearchgeotableId:121763,mapSearchTags:"",mapSearchFilter:"",theme:"light"}},componentDidMount:function(){this.map=new BMap.Map("_addressMapMain",{enableMapClick:!1}),this.map.centerAndZoom(this.props.city,12)},componentWillReceiveProps:function(t){t.addressKeyword&&this.getNearby(t.addressKeyword)},getNearby:function(t,e){var s=new BMap.Geocoder,a=this;s.getPoint(t,function(t){t?$.ajax({type:"get",url:"http://api.map.baidu.com/geosearch/v3/nearby",dataType:"jsonp",data:{ak:"sdp9qCbToS7E23nDRxaAAwbh",geotable_id:121763,location:t.lng+","+t.lat,radius:1e4,page_index:e||0,page_size:50},jsonp:"callback",success:function(t){a.setState({itemsNumber:t.total,itemsList:t.contents}),a.showNearby(),a.map.centerAndZoom(a.props.addressKeyword,12)}}):alert("未找到该区域信息")}.bind(this),this.props.city)},showNearby:function(){var t=this;for(var e in this.state.itemsList){var s=new BMap.Point(this.state.itemsList[e].location[0],this.state.itemsList[e].location[1]),a=new BMap.Marker(s),i=new BMap.Label(String.fromCharCode(65+parseInt(e)),{offset:new BMap.Size(4,2)});i.setStyle({border:"none",backgroundColor:"transparent",color:"#FAFAFA"}),a.setLabel(i),a.setTitle(this.state.itemsList[e].title),a.addEventListener("click",function(e){t.showInfoWindow(this.getLabel().content.charCodeAt(0)-65)}),this.map.addOverlay(a)}this.state.itemsList.length&&this.showInfoWindow(0)},showInfoWindow:function(t){if(t!==this.state.itemActive,!0){var e=new BMap.Point(this.state.itemsList[t].location[0],this.state.itemsList[t].location[1]),s=this.state.itemsList[t],a=s.title,i=s.address,r=(s.tel,'<p class="map-info-window">地址：'+i+"</p>"),n=new BMap.InfoWindow(r,{title:a,width:290,panel:"panel",enableAutoPan:!0,offset:new BMap.Size(0,-25)});this.setState({itemActive:+t}),this.map.openInfoWindow(n,e)}},clickMapItem:function(t){var e=t.target,s=e.getAttribute("class"),a=0;a="map-item"===s?e.getAttribute("data-key"):"map-item-mark"===s||"map-item-main"===s?e.parentNode.getAttribute("data-key"):s?e.parentNode.parentNode.getAttribute("data-key"):e.parentNode.parentNode.parentNode.getAttribute("data-key"),this.showInfoWindow(a)},render:function(){var t="address-map";switch(this.props.theme){case"light":break;case"dark":t+=" dark"}var e={backgroundColor:"#181211"};return React.createElement("div",{className:t,style:{display:this.props.addressKeyword?"block":"none"}},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"附近有",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("ul",{className:"map-items",id:"_addressMapItems",onClick:this.clickMapItem},this.state.itemsList.map(function(t,s){return React.createElement("li",{className:"map-item","data-key":s,key:s,style:s===this.state.itemActive?e:{}},React.createElement("span",{className:"map-item-mark"},String.fromCharCode(65+s)),React.createElement("div",{className:"map-item-main"},React.createElement("div",{className:"map-item-title"},t.title),React.createElement("div",{className:"map-item-address"},"地址：",t.address),React.createElement("div",{className:"map-item-tel"},"电话：",t.tel)))}.bind(this)))),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(t,e){!e&&this._init(),t=this._format(t),100===t?this.setState({rate:100}):(t=t>100*this.props.maxRate?100*this.props.maxRate:t,this.setState({rate:t}))},inc:function(t){this._init(),this.props.trickle&&this._autoInc(),t=t?this._format(t):100*this.props.incStep;var e=this.state.rate+t;this.set(e+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(t){return"number"==typeof t?t>1?100*this.pros.maxRate:100*t:"string"==typeof t?parseFloat(t)>100?100*this.props.maxRate:parseFloat(t):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var t,e;this.timer=setInterval(function(){return e=this._getRadomStep(),t=this.state.rate+e,console.log(e),t>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(t),void this.set(t+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(t,e){return t=t||100*this.props.minStep,e=e||100*this.props.maxStep,Math.random()*(e-t)+t},render:function(){var t={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},e={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:t},React.createElement("div",{className:"cu-progress-bar",style:e}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(t){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(t){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(t){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(t){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(t){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var t=this.refs.tip.getDOMNode(),e=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=t.offsetHeight,this.flag=1);var s=t.offsetWidth,a=t.offsetHeight,i=e.offsetWidth,r=e.offsetHeight;switch(this.state.position){case"left":t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px";break;case"right":t.style.top=-(a-r)/2+"px",t.style.left="100%";break;case"top":t.style.left=-(s-i)/2+"px",t.style.bottom="100%";break;case"bottom":t.style.left=-(s-i)/2+"px",t.style.top="100%";break;default:t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px"}t.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var t=this.refs.tip.getDOMNode().getBoundingClientRect().left,e=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>t&&t+e>s)return!0;if(0>t){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(t+e>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NQaWNrZXIvQWRkcmVzc1BpY2tlci5qc3giLCJBZGRyZXNzU2VhcmNoL0FkZHJlc3NTZWFyY2guanN4IiwiUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIuanN4IiwiVG9vbHRpcC9Ub29sdGlwLmpzeCJdLCJuYW1lcyI6WyJBZGRyZXNzTGlzdCIsIlJlYWN0IiwiY3JlYXRlQ2xhc3MiLCJkaXNwbGF5TmFtZSIsImdldEluaXRpYWxTdGF0ZSIsIm5vd0FkZHJlc3MiLCJpc1dyYXBTaG93IiwiaGFuZGxlQnRuQ2xpY2siLCJ0aGlzIiwic2V0U3RhdGUiLCJzdGF0ZSIsImhhbmRsZVNlbGVjdEFkZHJlc3MiLCJzZWxlY3RDdCIsInByb3BzIiwic2V0Q2l0eSIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJBZGRyZXNzRHJvcEJ1dHRvbiIsInRyaWFuZ2xlU3RhdGUiLCJvbkNsaWNrIiwibG9jYWxBZGRyZXNzIiwiQWRkcmVzc1dyYXAiLCJhZGRyZXNzRGF0YSIsImhhbmRsZUNsaWNrIiwiY2hpbGRyZW4iLCJBZGRyZXNzTG9jYXRpb24iLCJBZGRyZXNzU2VhcmNoSW5wdXQiLCJBZGRyZXNzTGlzdFdyYXAiLCJyZXN1bHQiLCJoYW5kbGVSZXN1bHRDbGljayIsImUiLCJhZGRyZXNzIiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwiaGFuZGxlU2VhcmNoIiwiZXZlbnQiLCJjb250IiwidmFsdWUiLCJsZW4iLCJsZW5ndGgiLCJyZWciLCJ0ZXN0IiwiX3Jlc3VsdEgiLCJqIiwia2V5SCIsImtleUhTIiwiY2l0eSIsInN1YnN0cmluZyIsIkZMIiwidG9Mb2NhbGVVcHBlckNhc2UiLCJyZXN1bHRGTCIsIl9yZXN1bHQiLCJpIiwia2V5IiwidG9Mb2NhbGVMb3dlckNhc2UiLCJfaGFuZGxlUmVzdWx0Q2xpY2siLCJyZXN1bHROb2RlcyIsIm1hcCIsImRhdGEiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwicm93Tm9kZXMiLCJBZGRyZXNzTGlzdFJvdyIsImtleURhdGEiLCJkYXRhTm9kZXMiLCJBZGRyZXNzUGlja2VyIiwiY3VycmVudENpdHkiLCJnZXREZWZhdWx0UHJvcHMiLCJjb21wb25lbnRXaWxsTW91bnQiLCJteUNpdHkiLCJCTWFwIiwiTG9jYWxDaXR5IiwiZ2V0IiwicmVzIiwibmFtZSIsImJpbmQiLCJzZXRBZGRyZXNzIiwiYWQiLCJjdCIsImFkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZSIsInN0eWxlIiwiQWRkcmVzc0lucHV0IiwiX19zcHJlYWQiLCJzZWFyY2hTdWJtaXRIYW5kbGVyIiwiQWRkcmVzc01hcCIsImFkZHJlc3NLZXl3b3JkIiwidGhlbWUiLCJBZGRyZXNzU2VhcmNoIiwiaW5wdXRXaWR0aCIsImlucHV0VGlwIiwic2VhcmNoQnRuVGV4dCIsImtleXdvcmQiLCJzZWFyY2hTdWJtaXQiLCJnZXRET01Ob2RlIiwiY2hlY2tFbnRlciIsImtleUNvZGUiLCJjb21wb25lbnREaWRNb3VudCIsIkF1dG9jb21wbGV0ZSIsImlucHV0IiwibG9jYXRpb24iLCJrZXl3b3JkU3R5bGUiLCJ3aWR0aCIsImNvbkNsYXNzTmFtZSIsImlkIiwib25LZXlVcCIsIm1hcExvY2FsT2JqIiwiaXRlbXNOdW1iZXIiLCJpdGVtc0xpc3QiLCJpdGVtQWN0aXZlIiwibWFwU2VhcmNoZ2VvdGFibGVJZCIsIm1hcFNlYXJjaFRhZ3MiLCJtYXBTZWFyY2hGaWx0ZXIiLCJNYXAiLCJlbmFibGVNYXBDbGljayIsImNlbnRlckFuZFpvb20iLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwiZ2V0TmVhcmJ5IiwicGFnZSIsIm15R2VvIiwiR2VvY29kZXIiLCJfdGhpcyIsImdldFBvaW50IiwicG9pbnQiLCIkIiwiYWpheCIsInR5cGUiLCJ1cmwiLCJkYXRhVHlwZSIsImFrIiwiZ2VvdGFibGVfaWQiLCJsbmciLCJsYXQiLCJyYWRpdXMiLCJwYWdlX2luZGV4IiwicGFnZV9zaXplIiwianNvbnAiLCJzdWNjZXNzIiwidG90YWwiLCJjb250ZW50cyIsInNob3dOZWFyYnkiLCJhbGVydCIsImsiLCJQb2ludCIsIm1hcmtlciIsIk1hcmtlciIsImxhYmVsIiwiTGFiZWwiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJwYXJzZUludCIsIm9mZnNldCIsIlNpemUiLCJzZXRTdHlsZSIsImJvcmRlciIsImJhY2tncm91bmRDb2xvciIsImNvbG9yIiwic2V0TGFiZWwiLCJzZXRUaXRsZSIsInRpdGxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNob3dJbmZvV2luZG93IiwiZ2V0TGFiZWwiLCJjb250ZW50IiwiY2hhckNvZGVBdCIsImFkZE92ZXJsYXkiLCJpbmRleCIsIml0ZW1JbmZvIiwidGVsIiwiaW5mb1dpbmRvdyIsIkluZm9XaW5kb3ciLCJwYW5lbCIsImVuYWJsZUF1dG9QYW4iLCJvcGVuSW5mb1dpbmRvdyIsImNsaWNrTWFwSXRlbSIsImVsZSIsImVsZUNsYXNzIiwiaXRlbUluZGV4IiwicGFyZW50Tm9kZSIsIm1hcEl0ZW1BY3RpZVN0eWxlIiwiZGlzcGxheSIsIml0ZW0iLCJkYXRhLWtleSIsIlNwaW5uZXIiLCJQcm9ncmVzc0JhciIsInJhdGUiLCJkb25lIiwic3BlZWQiLCJzcGlubmVyIiwiZWFzaW5nIiwibWF4UmF0ZSIsImluY1N0ZXAiLCJtaW5TdGVwIiwibWF4U3RlcCIsInRyaWNrbGUiLCJ0cmlja2xlU3BlZWQiLCJzZXRUcmlja2xlIiwic3RhcnQiLCJfaW5pdCIsInNldCIsIl9hdXRvSW5jIiwibiIsIl9mb3JtYXQiLCJpbmMiLCJuZXdSYXRlIiwic2V0VGltZW91dCIsInByb3MiLCJwYXJzZUZsb2F0IiwidGltZXIiLCJfY2xlYXJJbnRlcnZhbCIsInJhbmRvbSIsInNldEludGVydmFsIiwiX2dldFJhZG9tU3RlcCIsImNvbnNvbGUiLCJsb2ciLCJjbGVhckludGVydmFsIiwibWluIiwibWF4IiwiTWF0aCIsInByb2dyZXNzU3R5bGUiLCJvcGFjaXR5IiwidHJhbnNpdGlvbiIsImJhclN0eWxlIiwiVG9vbFRpcCIsInRpcCIsInRyaWdnZXIiLCJkZWxheSIsImhvdmVyYWJsZSIsInBvc2l0aW9uIiwiYUhyZWYiLCJpc0FjdGl2ZSIsImlzT25UaXAiLCJ0aXBIZWlnaHQiLCJoYW5kbGVNb3VzZU92ZXIiLCJoYW5kbGVNb3VzZU91dCIsImhhbmRsZVRpcE1vdXNlT3ZlciIsImhhbmRsZVRpcE1vdXNlT3V0IiwiY29tcG9uZW50RGlkVXBkYXRlIiwic2V0VGlwUG9zaXRpb24iLCJyZWZzIiwiZmxhZyIsIm9mZnNldEhlaWdodCIsInRpcFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJjb250V2lkdGgiLCJjb250SGVpZ2h0IiwidG9wIiwibGVmdCIsImJvdHRvbSIsImhlaWdodCIsInByZXZlcnRUaXBPdmVyZmxvdyIsInRpcFgiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhdmFpbFdpZHRoIiwiZG9jdW1lbnQiLCJib2R5IiwiY2xpZW50V2lkdGgiLCJnZXRUaXBTdHlsZSIsInJlZiIsIm9uTW91c2VPdmVyIiwib25Nb3VzZU91dCIsImhyZWYiXSwibWFwcGluZ3MiOiJBQUNBLEdBQUlBLGFBQUFDLE1BQUFDLGFBQWlDQyxZQUFBLGNBQ2pDQyxnQkFBaUIsV0FDYixPQUNJQyxXQUFZLEtBQ1pDLFlBQVksSUFHcEJDLGVBQWdCLFdBQ1pDLEtBQUtDLFVBQVVILFlBQWFFLEtBQUtFLE1BQU1KLGNBRTNDSyxvQkFBcUIsU0FBU0MsR0FDMUJKLEtBQUtDLFVBQVVKLFdBQVlPLEVBQVNOLFlBQVksSUFDN0NFLEtBQUtLLE1BQU1DLFNBQ1ZOLEtBQUtLLE1BQU1DLFFBQVFGLElBRzNCRyxPQUFRLFdBQ0osTUFDSWQsT0FBQWUsY0FBQSxPQUFJQyxVQUFDLGVBQ0RoQixNQUFBZSxjQUFDRSxtQkFBaUJDLGNBQUNYLEtBQWVFLE1BQUtKLFdBQWdCYyxRQUFFWixLQUFTRCxnQkFDN0RDLEtBQUtFLE1BQU1MLFdBQVdHLEtBQUtFLE1BQU1MLFdBQVdHLEtBQUtLLE1BQU1RLGNBRTNE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LFdBQUU3UCxLQUFZcU8sa0JBQUs1TixVQUFtQixNQUFVa1AsSUFBQSxNQUFTbEwsTUFBQ3pFLEtBQU0wUCxlQUFZMVAsS0FBV0ssTUFBS29OLE1BSTdILFVBQWpCek4sS0FBS0ssTUFBTWtILEtBRU45SCxNQUFBZSxjQUFBLFFBQUtDLFVBQUMsV0FBV1QsS0FBV0UsTUFBSzJOLFVBQzdCcE8sTUFBQWUsY0FBQSxVQUFPbVAsSUFBQyxPQUFJQyxZQUFPNVAsS0FBYWtPLGdCQUFLMkIsV0FBaUI3UCxLQUFVbU8sZUFBT3ZOLFFBQWdCWixLQUFBZ0IsYUFBY2hCLEtBQWFLLE1BQUNZLFVBQ25IeEIsTUFBQWUsY0FBQSxPQUFJb1AsWUFBQzVQLEtBQWFvTyxtQkFBdUJ5QixXQUFFN1AsS0FBWXFPLGtCQUFLNU4sVUFBbUIsTUFBVWtQLElBQUEsTUFBU2xMLE1BQUN6RSxLQUFNMFAsZUFBWTFQLEtBQVdLLE1BQUtvTixNQUpqSiIsImZpbGUiOiJDaGFybS1VSS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIOaVtOS9k+e7hOS7tlxyXG52YXIgQWRkcmVzc0xpc3QgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIG5vd0FkZHJlc3M6IG51bGwsXHJcbiAgICAgICAgICAgIGlzV3JhcFNob3c6IGZhbHNlXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVCdG5DbGljazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNXcmFwU2hvdzogIXRoaXMuc3RhdGUuaXNXcmFwU2hvd30pO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVNlbGVjdEFkZHJlc3M6IGZ1bmN0aW9uKHNlbGVjdEN0KSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7bm93QWRkcmVzczogc2VsZWN0Q3QsaXNXcmFwU2hvdzogZmFsc2V9KTtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnNldENpdHkpIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRDaXR5KHNlbGVjdEN0KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0XCI+XHJcbiAgICAgICAgICAgICAgICA8QWRkcmVzc0Ryb3BCdXR0b24gdHJpYW5nbGVTdGF0ZT17dGhpcy5zdGF0ZS5pc1dyYXBTaG93fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUJ0bkNsaWNrfT5cclxuICAgICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5ub3dBZGRyZXNzP3RoaXMuc3RhdGUubm93QWRkcmVzczp0aGlzLnByb3BzLmxvY2FsQWRkcmVzc31cclxuICAgICAgICAgICAgICAgIDwvQWRkcmVzc0Ryb3BCdXR0b24+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc1dyYXBTaG93P1xyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzV3JhcCBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0gbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5oYW5kbGVTZWxlY3RBZGRyZXNzfS8+XHJcbiAgICAgICAgICAgICAgICAgICAgOm51bGxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDkuIvmi4nmjInpkq5cclxudmFyIEFkZHJlc3NEcm9wQnV0dG9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMub25DbGljaygpO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJBZGRyZXNzRHJvcEJ1dHRvblwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9PlxyXG4gICAgICAgICAgICAgICAge3RoaXMucHJvcHMuY2hpbGRyZW59XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widHJpYW5nbGUgXCIrdGhpcy5wcm9wcy50cmlhbmdsZVN0YXRlfT48L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5pON5L2c5qGG5a655ZmoXHJcbnZhciBBZGRyZXNzV3JhcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzV3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzQ29udFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzTG9jYXRpb24gbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzU2VhcmNoSW5wdXQgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cclxuICAgICAgICAgICAgICAgICAgICA8QWRkcmVzc0xpc3RXcmFwIGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IC8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlrprkvY3lvZPliY3lnLDlnYBcclxudmFyIEFkZHJlc3NMb2NhdGlvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3ModGhpcy5wcm9wcy5sb2NhbEFkZHJlc3MpO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTG9jYXRpb25cIj5cclxuICAgICAgICAgICAgICAgIOeMnOS9oOWcqO+8mjxzcGFuIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc308L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5pCc57SiXHJcbnZhciBBZGRyZXNzU2VhcmNoSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3VsdDogW10sXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVSZXN1bHRDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciBhZGRyZXNzID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhJyk7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzKGFkZHJlc3MpO1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgY29udCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICB2YXIgbGVuID0gY29udC5sZW5ndGg7XHJcbiAgICAgICAgdmFyIGFkZHJlc3NEYXRhID0gdGhpcy5wcm9wcy5hZGRyZXNzRGF0YTtcclxuICAgICAgICAvLyDliKTmlq3mmK/msYnlrZfov5jmmK/mi7zpn7NcclxuICAgICAgICB2YXIgcmVnPS9eW1xcdTRFMDAtXFx1OUZBNV0rJC87XHJcbiAgICAgICAgaWYocmVnLnRlc3QoY29udCkpIHtcclxuICAgICAgICAgICAgLy8g5piv5rGJ5a2X5aSE55CGXHJcbiAgICAgICAgICAgIHZhciBfcmVzdWx0SCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaiA9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIga2V5SCBpbiBhZGRyZXNzRGF0YSkge1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBrZXlIUyBpbiBhZGRyZXNzRGF0YVtrZXlIXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGFkZHJlc3NEYXRhW2tleUhdW2tleUhTXS5jaXR5LnN1YnN0cmluZygwLGxlbikgPT0gY29udCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzdWx0SFtqXSAgPSBhZGRyZXNzRGF0YVtrZXlIXVtrZXlIU10uY2l0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtyZXN1bHQ6IF9yZXN1bHRIfSk7XHJcbiAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIOaYr+aLvOmfs1xyXG4gICAgICAgIHZhciBGTCA9IGNvbnQuc3Vic3RyaW5nKDAsMSkudG9Mb2NhbGVVcHBlckNhc2UoKTtcclxuICAgICAgICB2YXIgcmVzdWx0RkwgPSBhZGRyZXNzRGF0YVtGTF07XHJcbiAgICAgICAgdmFyIF9yZXN1bHQgPSBbXTtcclxuICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gcmVzdWx0RkwpIHtcclxuICAgICAgICAgICAgaWYoa2V5LnN1YnN0cmluZygwLGxlbikgPT0gY29udC50b0xvY2FsZUxvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBfcmVzdWx0W2ldICA9IHJlc3VsdEZMW2tleV0uY2l0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdDogX3Jlc3VsdH0pO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIF9oYW5kbGVSZXN1bHRDbGljayA9IHRoaXMuaGFuZGxlUmVzdWx0Q2xpY2s7XHJcbiAgICAgICAgdmFyIHJlc3VsdE5vZGVzID0gdGhpcy5zdGF0ZS5yZXN1bHQubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxsaSBkYXRhPXtyZXN1bHR9IG9uQ2xpY2s9e19oYW5kbGVSZXN1bHRDbGlja30+e3Jlc3VsdH08L2xpPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc1NlYXJjaFwiPlxyXG4gICAgICAgICAgICAgICAg55u05o6l5pCc57SiXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgb25DaGFuZ2U9e3RoaXMuaGFuZGxlU2VhcmNofSBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeWfjuW4guWQjVwiIC8+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwiQWRkcmVzc1NlYXJjaFJlc3VsdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtyZXN1bHROb2Rlc31cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5YiX6KGo5a655ZmoXHJcbnZhciBBZGRyZXNzTGlzdFdyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBhZGRyZXNzRGF0YSA9IHRoaXMucHJvcHMuYWRkcmVzc0RhdGE7XHJcbiAgICAgICAgdmFyIGhhbmRsZVNlbGVjdEFkZHJlc3MgPSB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3M7XHJcbiAgICAgICAgdmFyIHJvd05vZGVzID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgY29udCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRbaV0gID0gPEFkZHJlc3NMaXN0Um93IGtleT17a2V5fSBrZXlEYXRhPXtrZXl9IGRhdGE9e2RhdGFba2V5XX0gaGFuZGxlU2VsZWN0QWRkcmVzcz17aGFuZGxlU2VsZWN0QWRkcmVzc30gLz47XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XHJcbiAgICAgICAgfShhZGRyZXNzRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFdyYXBcIj5cclxuICAgICAgICAgICAgICAgIHtyb3dOb2Rlc31cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDliJfooajooYxcclxudmFyIEFkZHJlc3NMaXN0Um93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgYWRkcmVzcyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YScpO1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcyhhZGRyZXNzKTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2s7XHJcbiAgICAgICAgdmFyIGRhdGFOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb250W2ldICA9IDxzcGFuIGtleT17XCJwXCIra2V5fT48c3BhbiBkYXRhPXtkYXRhW2tleV0uY2l0eX0ga2V5PXtpfSAgb25DbGljaz17aGFuZGxlQ2xpY2t9ID57ZGF0YVtrZXldLmNpdHl9PC9zcGFuPjwvc3Bhbj47XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XHJcbiAgICAgICAgfSh0aGlzLnByb3BzLmRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RSb3dcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImtleURhdGFcIj57dGhpcy5wcm9wcy5rZXlEYXRhfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRhdGFXcmFwXCI+e2RhdGFOb2Rlc308L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG4iLCIndXNlIHN0cmljdCdcclxuXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyAgSW5jbHVkZTogQWRkcmVzc0xpc3QgQWRkcmVzc1NlYXJjaFxyXG4vL1xyXG4vLyAgVE9ETzpcclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgQWRkcmVzc1BpY2tlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY2l0eTogXCLljJfkuqxcIixcclxuICAgICAgY3VycmVudENpdHk6IG51bGwsXHJcbiAgICAgIGFkZHJlc3M6IG51bGxcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHt9O1xyXG4gIH0sXHJcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBteUNpdHkgPSBuZXcgQk1hcC5Mb2NhbENpdHkoKTtcclxuICAgIG15Q2l0eVxyXG4gICAgICAuZ2V0KGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgIHZhciBjdXJyZW50Q2l0eSA9IHJlcy5uYW1lO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBjdXJyZW50Q2l0eTogY3VycmVudENpdHlcclxuICAgICAgICB9KTtcclxuICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICB9LFxyXG4gIHNldEFkZHJlc3M6IGZ1bmN0aW9uKGFkKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYWRkcmVzczogYWRcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgc2V0Q2l0eTogZnVuY3Rpb24oY3QpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjaXR5OiBjdFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGFkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZSA9IHRoaXMuc3RhdGUuYWRkcmVzc1xyXG4gICAgICA/IHRoaXMucHJvcHMuYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlXHJcbiAgICAgIDoge307XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtcGlja2VyXCIgc3R5bGU9e2FkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZX0+XHJcbiAgICAgICAgPEFkZHJlc3NMaXN0IHNldENpdHk9e3RoaXMuc2V0Q2l0eX0gbG9jYWxBZGRyZXNzPXt0aGlzLnN0YXRlLmN1cnJlbnRDaXR5fSBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0vPlxyXG4gICAgICAgIDxBZGRyZXNzSW5wdXQgey4uLnRoaXMucHJvcHN9IGNpdHk9e3RoaXMuc3RhdGUuY2l0eX0gc2VhcmNoU3VibWl0SGFuZGxlcj17dGhpcy5zZXRBZGRyZXNzfS8+XHJcbiAgICAgICAgPEFkZHJlc3NNYXAgYWRkcmVzc0tleXdvcmQ9e3RoaXMuc3RhdGUuYWRkcmVzc30gY2l0eT17dGhpcy5wcm9wcy5jaXR5fSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xyXG5cclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICBJbmNsdWRlOiBBZGRyZXNzSW5wdXQgQWRkcmVzc01hcFxyXG4vL1xyXG4vLyAgVE9ETzogW2FkZF0g5aKe5Yqg5ZCE6aG55Y+C5pWwXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyogQWRkcmVzc1NlYXJjaCAqL1xyXG52YXIgQWRkcmVzc1NlYXJjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYWRkcmVzczogbnVsbFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXHJcbiAgICAgIGlucHV0VGlwOiBcIui+k+WFpeaDs+imgeaQnOe0oueahOWcsOWdgFwiLFxyXG4gICAgICBzZWFyY2hCdG5UZXh0OiBcIuaQnOe0olwiLFxyXG4gICAgICBjaXR5OiBcIuWMl+S6rFwiLFxyXG4gICAgICB0aGVtZTogXCJkYXJrXCJcclxuICAgIH1cclxuICB9LFxyXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbXlDaXR5ID0gbmV3IEJNYXAuTG9jYWxDaXR5KCk7XHJcbiAgICBteUNpdHlcclxuICAgICAgLmdldChmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICB2YXIgY3VycmVudENpdHkgPSByZXMubmFtZTtcclxuICAgICAgICB0aGlzLnNldENpdHkoY3VycmVudENpdHkpO1xyXG4gICAgICB9LmJpbmQodGhpcykpO1xyXG4gIH0sXHJcbiAgc2V0QWRkcmVzczogZnVuY3Rpb24oYWQpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhZGRyZXNzOiBhZFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBzZXRDaXR5OiBmdW5jdGlvbihjdCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGNpdHk6IGN0XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3Mtc2VhcmNoXCI+XHJcbiAgICAgICAgPEFkZHJlc3NJbnB1dCB7Li4udGhpcy5wcm9wc30gc2VhcmNoU3VibWl0SGFuZGxlcj17dGhpcy5zZXRBZGRyZXNzfS8+XHJcbiAgICAgICAgPEFkZHJlc3NNYXAgYWRkcmVzc0tleXdvcmQ9e3RoaXMuc3RhdGUuYWRkcmVzc30gY2l0eT17dGhpcy5wcm9wcy5jaXR5fSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gLz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKiBBZGRyZXNzSW5wdXQgKi9cclxudmFyIEFkZHJlc3NJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAga2V5d29yZDogbnVsbFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXHJcbiAgICAgIGlucHV0VGlwOiBcIui+k+WFpeaDs+imgeaQnOe0oueahOWcsOWdgFwiLFxyXG4gICAgICBzZWFyY2hCdG5UZXh0OiBcIuaQnOe0olwiLFxyXG4gICAgICBjaXR5OiBcIuWMl+S6rFwiLFxyXG4gICAgICB0aGVtZTogXCJsaWdodFwiXHJcbiAgICB9XHJcbiAgfSxcclxuICBzZWFyY2hTdWJtaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGtleXdvcmQgPSB0aGlzLmdldERPTU5vZGUoKVxyXG4gICAgICAuY2hpbGRyZW5bMF1cclxuICAgICAgLnZhbHVlO1xyXG4gICAgdGhpcy5wcm9wc1xyXG4gICAgICAuc2VhcmNoU3VibWl0SGFuZGxlcihrZXl3b3JkKTtcclxuICB9LFxyXG4gIGNoZWNrRW50ZXI6IGZ1bmN0aW9uKGUpIHtcclxuICAgIChlLmtleUNvZGUgPT09IDEzKSAmJiB0aGlzLnNlYXJjaFN1Ym1pdCgpO1xyXG4gIH0sXHJcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG1hcEF1dG9Db21wbGV0ZSA9IG5ldyBCTWFwLkF1dG9jb21wbGV0ZSh7XHJcbiAgICAgIFwiaW5wdXRcIjogXCJfYWRkcmVzc1NlYXJjaEtleXdvcmRcIixcclxuICAgICAgXCJsb2NhdGlvblwiOiB0aGlzLnByb3BzLmNpdHlcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBrZXl3b3JkU3R5bGUgPSB7XHJcbiAgICAgIHdpZHRoOiB0aGlzLnByb3BzLmlucHV0V2lkdGhcclxuICAgIH07XHJcbiAgICB2YXIgY29uQ2xhc3NOYW1lID0gXCJhZGRyZXNzLWlucHV0XCI7XHJcbiAgICBzd2l0Y2ggKHRoaXMucHJvcHMudGhlbWUpIHtcclxuICAgICAgY2FzZSAnbGlnaHQnOlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdkYXJrJzpcclxuICAgICAgICBjb25DbGFzc05hbWUgKz0gXCIgZGFya1wiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG5cclxuICAgIH1cclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtjb25DbGFzc05hbWV9PlxyXG4gICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJpbnB1dC1rZXl3b3JkXCIgaWQ9XCJfYWRkcmVzc1NlYXJjaEtleXdvcmRcIiBvbktleVVwPXt0aGlzLmNoZWNrRW50ZXJ9IHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLmlucHV0VGlwfSBzdHlsZT17a2V5d29yZFN0eWxlfT48L2lucHV0PlxyXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiaW5wdXQtY29tbWl0XCIgb25DbGljaz17dGhpcy5zZWFyY2hTdWJtaXR9Pnt0aGlzLnByb3BzLnNlYXJjaEJ0blRleHR9PC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyogQWRkcmVzc01hcCAqL1xyXG52YXIgQWRkcmVzc01hcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbWFwTG9jYWxPYmo6IG51bGwsXHJcbiAgICAgIGl0ZW1zTnVtYmVyOiAwLFxyXG4gICAgICBpdGVtc0xpc3Q6IFtdLFxyXG4gICAgICBpdGVtQWN0aXZlOiAwXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1hcFNlYXJjaGdlb3RhYmxlSWQ6IDEyMTc2MyxcclxuICAgICAgbWFwU2VhcmNoVGFnczogXCJcIixcclxuICAgICAgbWFwU2VhcmNoRmlsdGVyOiBcIlwiLFxyXG4gICAgICB0aGVtZTogXCJsaWdodFwiXHJcbiAgICB9XHJcbiAgfSxcclxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLm1hcCA9IG5ldyBCTWFwLk1hcChcIl9hZGRyZXNzTWFwTWFpblwiLCB7XHJcbiAgICAgIGVuYWJsZU1hcENsaWNrOiBmYWxzZVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm1hcFxyXG4gICAgICAuY2VudGVyQW5kWm9vbSh0aGlzLnByb3BzLmNpdHksIDEyKTtcclxuICB9LFxyXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uKG5leHRQcm9wcykge1xyXG4gICAgbmV4dFByb3BzLmFkZHJlc3NLZXl3b3JkICYmIHRoaXMuZ2V0TmVhcmJ5KG5leHRQcm9wcy5hZGRyZXNzS2V5d29yZCk7XHJcbiAgfSxcclxuICBnZXROZWFyYnk6IGZ1bmN0aW9uKGtleXdvcmQsIHBhZ2UpIHtcclxuICAgIC8vIOWcsOWdgOino+aekOiOt+WPlue7j+e6rOW6plxyXG4gICAgdmFyIG15R2VvID0gbmV3IEJNYXAuR2VvY29kZXIoKTtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICBteUdlb1xyXG4gICAgICAuZ2V0UG9pbnQoa2V5d29yZCwgZnVuY3Rpb24ocG9pbnQpIHsgLy8g6Kej5p6Q5oiQ5Yqf5ZCO55qE5Zue6LCDIOaQnOe0ouS/oeaBr1xyXG4gICAgICAgIGlmIChwb2ludCkge1xyXG4gICAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdHlwZTogJ2dldCcsXHJcbiAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9hcGkubWFwLmJhaWR1LmNvbS9nZW9zZWFyY2gvdjMvbmVhcmJ5JyxcclxuICAgICAgICAgICAgZGF0YVR5cGUgOiBcImpzb25wXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICBhazogJ3NkcDlxQ2JUb1M3RTIzbkRSeGFBQXdiaCcsXHJcbiAgICAgICAgICAgICAgZ2VvdGFibGVfaWQ6IDEyMTc2MyxcclxuICAgICAgICAgICAgICBsb2NhdGlvbjogcG9pbnQubG5nICsgJywnICsgcG9pbnQubGF0LFxyXG4gICAgICAgICAgICAgIHJhZGl1czogMTAwMDAsXHJcbiAgICAgICAgICAgICAgcGFnZV9pbmRleDogcGFnZSB8fCAwLFxyXG4gICAgICAgICAgICAgIHBhZ2Vfc2l6ZTogNTBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAganNvbnA6ICdjYWxsYmFjaycsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgICAgICAgIF90aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zTnVtYmVyOiByZXMudG90YWwsXHJcbiAgICAgICAgICAgICAgICBpdGVtc0xpc3Q6IHJlcy5jb250ZW50c1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIF90aGlzLnNob3dOZWFyYnkoKTtcclxuICAgICAgICAgICAgICBfdGhpcy5tYXBcclxuICAgICAgICAgICAgICAgIC5jZW50ZXJBbmRab29tKF90aGlzLnByb3BzLmFkZHJlc3NLZXl3b3JkLCAxMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFsZXJ0KFwi5pyq5om+5Yiw6K+l5Yy65Z+f5L+h5oGvXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLmNpdHkpO1xyXG4gIH0sXHJcbiAgc2hvd05lYXJieTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgZm9yICh2YXIgayBpbiB0aGlzLnN0YXRlLml0ZW1zTGlzdCkge1xyXG4gICAgICB2YXIgcG9pbnQgPSBuZXcgQk1hcC5Qb2ludCh0aGlzLnN0YXRlLml0ZW1zTGlzdFtrXS5sb2NhdGlvblswXSwgdGhpcy5zdGF0ZS5pdGVtc0xpc3Rba10ubG9jYXRpb25bMV0pO1xyXG4gICAgICB2YXIgbWFya2VyID0gbmV3IEJNYXAuTWFya2VyKHBvaW50KTtcclxuICAgICAgdmFyIGxhYmVsID0gbmV3IEJNYXAuTGFiZWwoU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIHBhcnNlSW50KGspKSwge1xyXG4gICAgICAgIG9mZnNldDogbmV3IEJNYXAuU2l6ZSg0LCAyKVxyXG4gICAgICB9KTtcclxuICAgICAgbGFiZWwuc2V0U3R5bGUoe1xyXG4gICAgICAgIGJvcmRlcjogJ25vbmUnLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3RyYW5zcGFyZW50JyxcclxuICAgICAgICBjb2xvcjogJyNGQUZBRkEnXHJcbiAgICAgIH0pO1xyXG4gICAgICBtYXJrZXIuc2V0TGFiZWwobGFiZWwpO1xyXG4gICAgICBtYXJrZXIuc2V0VGl0bGUodGhpcy5zdGF0ZS5pdGVtc0xpc3Rba10udGl0bGUpO1xyXG4gICAgICBtYXJrZXJcclxuICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICBfdGhpcy5zaG93SW5mb1dpbmRvdyh0aGlzLmdldExhYmVsKCkuY29udGVudC5jaGFyQ29kZUF0KDApIC0gNjUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB0aGlzLm1hcFxyXG4gICAgICAgIC5hZGRPdmVybGF5KG1hcmtlcik7XHJcbiAgICB9XHJcbiAgICB0aGlzLnN0YXRlLml0ZW1zTGlzdC5sZW5ndGggJiYgdGhpcy5zaG93SW5mb1dpbmRvdygwKTtcclxuICB9LFxyXG4gIHNob3dJbmZvV2luZG93OiBmdW5jdGlvbihpbmRleCkge1xyXG4gICAgaWYgKGluZGV4ICE9PSB0aGlzLnN0YXRlLml0ZW1BY3RpdmUgfHwgMSkge1xyXG4gICAgICB2YXIgcG9pbnQgPSBuZXcgQk1hcC5Qb2ludCh0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF0ubG9jYXRpb25bMF0sIHRoaXMuc3RhdGUuaXRlbXNMaXN0W2luZGV4XS5sb2NhdGlvblsxXSk7XHJcbiAgICAgIHZhciBpdGVtSW5mbyA9IHRoaXMuc3RhdGUuaXRlbXNMaXN0W2luZGV4XTtcclxuICAgICAgdmFyIHRpdGxlID0gaXRlbUluZm8udGl0bGU7XHJcbiAgICAgIHZhciBhZGRyZXNzID0gaXRlbUluZm8uYWRkcmVzcztcclxuICAgICAgdmFyIHRlbCA9IGl0ZW1JbmZvLnRlbDtcclxuICAgICAgdmFyIGNvbnRlbnQgPSAnPHAgY2xhc3M9XCJtYXAtaW5mby13aW5kb3dcIj7lnLDlnYDvvJonICsgYWRkcmVzcyArICc8L3A+JztcclxuICAgICAgdmFyIGluZm9XaW5kb3cgPSBuZXcgQk1hcC5JbmZvV2luZG93KGNvbnRlbnQsIHtcclxuICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgd2lkdGg6IDI5MCxcclxuICAgICAgICBwYW5lbDogXCJwYW5lbFwiLFxyXG4gICAgICAgIGVuYWJsZUF1dG9QYW46IHRydWUsXHJcbiAgICAgICAgb2Zmc2V0OiBuZXcgQk1hcC5TaXplKDAsIC0yNSlcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGl0ZW1BY3RpdmU6ICsgaW5kZXhcclxuICAgICAgfSk7XHJcbiAgICAgIHRoaXMubWFwXHJcbiAgICAgICAgLm9wZW5JbmZvV2luZG93KGluZm9XaW5kb3csIHBvaW50KTtcclxuICAgIH1cclxuICB9LFxyXG4gIGNsaWNrTWFwSXRlbTogZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyIGVsZSA9IGUudGFyZ2V0O1xyXG4gICAgdmFyIGVsZUNsYXNzID0gZWxlLmdldEF0dHJpYnV0ZSgnY2xhc3MnKTtcclxuICAgIHZhciBpdGVtSW5kZXggPSAwO1xyXG4gICAgaWYgKGVsZUNsYXNzID09PSBcIm1hcC1pdGVtXCIpIHtcclxuICAgICAgaXRlbUluZGV4ID0gZWxlLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcclxuICAgIH0gZWxzZSBpZiAoZWxlQ2xhc3MgPT09IFwibWFwLWl0ZW0tbWFya1wiIHx8IGVsZUNsYXNzID09PSBcIm1hcC1pdGVtLW1haW5cIikge1xyXG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxyXG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgICB9IGVsc2UgaWYgKCFlbGVDbGFzcykge1xyXG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxyXG4gICAgICAgIC5wYXJlbnROb2RlXHJcbiAgICAgICAgLnBhcmVudE5vZGVcclxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaXRlbUluZGV4ID0gZWxlLnBhcmVudE5vZGVcclxuICAgICAgICAucGFyZW50Tm9kZVxyXG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgICB9XHJcbiAgICB0aGlzLnNob3dJbmZvV2luZG93KGl0ZW1JbmRleCk7XHJcbiAgfSxcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNvbkNsYXNzTmFtZSA9IFwiYWRkcmVzcy1tYXBcIjtcclxuICAgIHN3aXRjaCAodGhpcy5wcm9wcy50aGVtZSkge1xyXG4gICAgICBjYXNlICdsaWdodCc6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2RhcmsnOlxyXG4gICAgICAgIGNvbkNsYXNzTmFtZSArPSBcIiBkYXJrXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGRlZmF1bHQ6XHJcblxyXG4gICAgfVxyXG4gICAgdmFyIG1hcEl0ZW1BY3RpZVN0eWxlID0ge1xyXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzE4MTIxMVwiXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9e2NvbkNsYXNzTmFtZX0gc3R5bGU9e3tcclxuICAgICAgICBkaXNwbGF5OiB0aGlzLnByb3BzLmFkZHJlc3NLZXl3b3JkXHJcbiAgICAgICAgICA/IFwiYmxvY2tcIlxyXG4gICAgICAgICAgOiBcIm5vbmVcIlxyXG4gICAgICB9fT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1uYXZcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdi10aXRsZVwiPlxyXG4gICAgICAgICAgICDpmYTov5HmnIlcclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWFwLW5hdi1udW1iZXJcIj5cclxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pdGVtc051bWJlcn1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICDlrrbkvZPpqozlupdcclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm1hcC1pdGVtc1wiIGlkPVwiX2FkZHJlc3NNYXBJdGVtc1wiIG9uQ2xpY2s9e3RoaXMuY2xpY2tNYXBJdGVtfT5cclxuICAgICAgICAgICAge3RoaXNcclxuICAgICAgICAgICAgICAuc3RhdGVcclxuICAgICAgICAgICAgICAuaXRlbXNMaXN0XHJcbiAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJtYXAtaXRlbVwiIGRhdGEta2V5PXtpfSBrZXk9e2l9IHN0eWxlPXsoaSA9PT0gdGhpcy5zdGF0ZS5pdGVtQWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgICAgID8gbWFwSXRlbUFjdGllU3R5bGVcclxuICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICB7fX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWFwLWl0ZW0tbWFya1wiPntTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgaSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tbWFpblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtaXRlbS10aXRsZVwiPntpdGVtLnRpdGxlfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtaXRlbS1hZGRyZXNzXCI+5Zyw5Z2A77yae2l0ZW0uYWRkcmVzc308L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tdGVsXCI+55S16K+d77yae2l0ZW0udGVsfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2xpPjtcclxuICAgICAgICAgICAgICB9LmJpbmQodGhpcykpfVxyXG4gICAgICAgICAgPC91bD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1tYWluXCIgaWQ9XCJfYWRkcmVzc01hcE1haW5cIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xyXG5cclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICBDb21wb25lbnQ6IFByb2dyZXNzQmFyXHJcbi8vXHJcbi8vICBJbmNsdWRlOiBTcGlubmVyXHJcbi8vXHJcbi8vICBEZXNjcmlwdGlvbjogSnN4IGZvciBQcm9ncmVzc0JhclxyXG4vL1xyXG4vLyAgVE9ETzogW2ZpeF0g5L+u5q2j5Yid5aeL5pe2IHRyYW5zaXRpb24g5LiN55Sf5pWI55qE6Zeu6aKYXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyogU3Bpbm5lciAqL1xyXG52YXIgU3Bpbm5lciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1zcGlubmVyXCI+PC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKiBQcm9ncmVzc0JhciAqL1xyXG52YXIgUHJvZ3Jlc3NCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJhdGU6IG51bGwsXHJcbiAgICAgIGRvbmU6IGZhbHNlXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNwZWVkOiAwLjYsICAvLyDliqjnlLvpgJ/luqZcclxuICAgICAgc3Bpbm5lcjogdHJ1ZSwgIC8vIOaYr+WQpuacieWciOWciFxyXG4gICAgICBlYXNpbmc6ICdlYXNlJywgIC8vIOWKqOeUu+e8k+WKqOabsue6v1xyXG4gICAgICBtYXhSYXRlOiAwLjk2LCAgLy8g6L+b5bqm5p2h5pyA5aSn5a695bqmXHJcbiAgICAgIGluY1N0ZXA6IDAuMDQsICAvLyBpbmMg5aKe6ZW/5q2l5bmFXHJcbiAgICAgIG1pblN0ZXA6IDAuMDA1LCAgLy8g6ZqP5py65aKe6ZW/55qE5pyA5bCP5q2l5bmFXHJcbiAgICAgIG1heFN0ZXA6IDAuMDMsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlpKfmraXluYVcclxuICAgICAgdHJpY2tsZTogdHJ1ZSwgIC8vIOaYr+WQpuiHquWKqOWinumVv1xyXG4gICAgICB0cmlja2xlU3BlZWQ6IDgwMCwgIC8vIOiHquWKqOWinumVv+eahOmXtOmalOaXtumXtFxyXG4gICAgICBzZXRUcmlja2xlOiBmYWxzZSAgLy8gc2V0IOWQjuaYr+WQpuiHquWKqOWinumVv++8iOacquWQr+eUqO+8iVxyXG4gICAgfTtcclxuICB9LFxyXG4gIHN0YXJ0OiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuX2luaXQoKTtcclxuICAgIHRoaXMuc2V0KCcwLjUlJyk7XHJcbiAgICB0aGlzLnByb3BzLnRyaWNrbGUgJiYgdGhpcy5fYXV0b0luYygpO1xyXG4gIH0sXHJcbiAgc2V0OiBmdW5jdGlvbihuLCB0cmlja2xlKSB7XHJcbiAgICAhdHJpY2tsZSAmJiB0aGlzLl9pbml0KCk7XHJcbiAgICBuID0gdGhpcy5fZm9ybWF0KG4pO1xyXG4gICAgaWYgKG4gPT09IDEwMCkge1xyXG4gICAgICAvKiBkb25lICovXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHJhdGU6IDEwMFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4gPSBuID4gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXHJcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IG47XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHJhdGU6IG5cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBpbmM6IGZ1bmN0aW9uKG4pIHtcclxuICAgIHRoaXMuX2luaXQoKTtcclxuICAgIHRoaXMucHJvcHMudHJpY2tsZSAmJiB0aGlzLl9hdXRvSW5jKCk7XHJcbiAgICBuID0gblxyXG4gICAgICA/IHRoaXMuX2Zvcm1hdChuKVxyXG4gICAgICA6IHRoaXMucHJvcHMuaW5jU3RlcCAqIDEwMDtcclxuICAgIHZhciBuZXdSYXRlID0gdGhpcy5zdGF0ZS5yYXRlICsgbjtcclxuICAgIHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xyXG4gIH0sXHJcbiAgZG9uZTogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnNldCgnMTAwJScpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgZG9uZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHJhdGU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMiAqIDEwMDApO1xyXG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMTAwMCk7XHJcbiAgfSxcclxuICBfZm9ybWF0OiBmdW5jdGlvbihkYXRhKSB7ICAvLyDmoLzlvI/ljJbkuLogMC0xMDAg55qE5pW05pWwXHJcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7ICAvLyAwLTEg55qE5bCP5pWwXHJcbiAgICAgIHJldHVybiBkYXRhID4gMVxyXG4gICAgICAgID8gdGhpcy5wcm9zLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IGRhdGEgKiAxMDA7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgeyAgLy8g55m+5YiG5q+UXHJcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KGRhdGEpID4gMTAwXHJcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IHBhcnNlRmxvYXQoZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfSxcclxuICBfaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnN0YXRlLmRvbmUgJiYgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRvbmU6IGZhbHNlXHJcbiAgICB9KTtcclxuICAgIHRoaXMudGltZXIgJiYgdGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xyXG4gIH0sXHJcbiAgX2F1dG9JbmM6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG5ld1JhdGU7XHJcbiAgICB2YXIgcmFuZG9tO1xyXG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICByYW5kb20gPSB0aGlzLl9nZXRSYWRvbVN0ZXAoKTtcclxuICAgICAgbmV3UmF0ZSA9IHRoaXMuc3RhdGUucmF0ZSArIHJhbmRvbTtcclxuICAgICAgY29uc29sZS5sb2cocmFuZG9tKTtcclxuICAgICAgaWYgKG5ld1JhdGUgPiB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApO1xyXG4gICAgICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc29sZS5sb2cobmV3UmF0ZSk7XHJcbiAgICAgIHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xyXG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnRyaWNrbGVTcGVlZCk7XHJcbiAgfSxcclxuICBfY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnRpbWVyICYmIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XHJcbiAgfSxcclxuICBfZ2V0UmFkb21TdGVwOiBmdW5jdGlvbihtaW4sIG1heCkge1xyXG4gICAgbWluID0gbWluIHx8IHRoaXMucHJvcHMubWluU3RlcCAqIDEwMDtcclxuICAgIG1heCA9IG1heCB8fCB0aGlzLnByb3BzLm1heFN0ZXAgKiAxMDA7XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBwcm9ncmVzc1N0eWxlID0ge1xyXG4gICAgICAvL2Rpc3BsYXk6ICghdGhpcy5zdGF0ZS5yYXRlICYmIHR5cGVvZiB0aGlzLnN0YXRlLnJhdGUgPT09ICdvYmplY3QnKSA/ICdub25lJyA6ICdibG9jaycsXHJcbiAgICAgIG9wYWNpdHk6IHRoaXMuc3RhdGUuZG9uZVxyXG4gICAgICAgID8gMFxyXG4gICAgICAgIDogMSxcclxuICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgJyArIHRoaXMucHJvcHMuc3BlZWQgKiAyICsgJ3MgJyArIHRoaXMucHJvcHMuZWFzaW5nXHJcbiAgICB9O1xyXG4gICAgdmFyIGJhclN0eWxlID0ge1xyXG4gICAgICB3aWR0aDogIXRoaXMuc3RhdGUucmF0ZVxyXG4gICAgICAgID8gMFxyXG4gICAgICAgIDogdGhpcy5zdGF0ZS5yYXRlICsgJyUnLFxyXG4gICAgICB0cmFuc2l0aW9uOiAnd2lkdGggJyArIHRoaXMucHJvcHMuc3BlZWQgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmdcclxuICAgIH07XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5yYXRlXHJcbiAgICAgID8gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3NcIiBzdHlsZT17cHJvZ3Jlc3NTdHlsZX0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXByb2dyZXNzLWJhclwiIHN0eWxlPXtiYXJTdHlsZX0+PC9kaXY+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5zcGlubmVyXHJcbiAgICAgICAgICAgID8gPFNwaW5uZXIvPlxyXG4gICAgICAgICAgICA6IG51bGx9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgICAgOiBudWxsO1xyXG4gIH1cclxufSk7XHJcbiIsInZhciBUb29sVGlwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0aXA6IFwidGlwXCIsXHJcbiAgICAgICAgICAgIHRyaWdnZXI6ICdob3ZlcicsXHJcbiAgICAgICAgICAgIGRlbGF5OiAwLFxyXG4gICAgICAgICAgICBob3ZlcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJ0aXBcIixcclxuICAgICAgICAgICAgd2lkdGg6IFwiMjAwcHhcIixcclxuICAgICAgICAgICAgdHlwZTogJ3NwYW4nLFxyXG4gICAgICAgICAgICBhSHJlZjogXCIjXCJcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMucG9zaXRpb24sXHJcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNPblRpcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHRpcEhlaWdodDogXCJcIlxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImhvdmVyXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiaG92ZXJcIikge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5pc09uVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSAsIHRoaXMucHJvcHMuZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJjbGlja1wiKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoIXRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlVGlwTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy5ob3ZlcmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNPblRpcDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVUaXBNb3VzZU91dDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuaG92ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzT25UaXA6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0VGlwUG9zaXRpb24oKTtcclxuICAgIH0sXHJcbiAgICBzZXRUaXBQb3NpdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRpcCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpO1xyXG4gICAgICAgIHZhciBjb250ID0gdGhpcy5yZWZzLmNvbnQuZ2V0RE9NTm9kZSgpO1xyXG4gICAgICAgIGlmKCF0aGlzLmZsYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS50aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmZsYWcgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aXAub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIHRpcEhlaWdodCA9IHRpcC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGNvbnRXaWR0aCA9IGNvbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIGNvbnRIZWlnaHQgPSBjb250Lm9mZnNldEhlaWdodDtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjp0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aCsyMCkrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOnRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwidG9wXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5ib3R0b20gPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS50b3AgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiB0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoKzIwKStcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRpcC5zdHlsZS5oZWlnaHQgPSB0aGlzLnN0YXRlLnRpcEhlaWdodC0yMCtcInB4XCI7XHJcbiAgICAgICAgdGhpcy5wcmV2ZXJ0VGlwT3ZlcmZsb3coKTtcclxuICAgIH0sXHJcbiAgICBwcmV2ZXJ0VGlwT3ZlcmZsb3c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0aXBYID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgICB2YXIgdGlwWSA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgdGlwSGVpZ2h0ID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHZhciBhdmFpbFdpZHRoID0gcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7XHJcbiAgICAgICAgaWYodGlwWCA8IDAgJiYgdGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRpcFggPCAwKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInRvcFwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJ0b3BcIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwiYm90dG9tXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInJpZ2h0XCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInJpZ2h0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImJvdHRvbVwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJib3R0b21cIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwidG9wXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImxlZnRcIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgZ2V0VGlwU3R5bGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuc3RhdGUuaXNBY3RpdmU/XCJibG9ja1wiOlwibm9uZVwiLFxyXG4gICAgICAgICAgICBjb2xvcjogXCJwaW5rXCIsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzXCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwic3BhblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widG9vbHRpcCBcIit0aGlzLnN0YXRlLnBvc2l0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50eXBlPT1cImFcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5hSHJlZn0gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJidXR0b25cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZVRpcE1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVUaXBNb3VzZU91dH0gY2xhc3NOYW1lPVwidGlwXCIgcmVmPVwidGlwXCIgc3R5bGU9e3RoaXMuZ2V0VGlwU3R5bGUoKX0+e3RoaXMucHJvcHMudGlwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==