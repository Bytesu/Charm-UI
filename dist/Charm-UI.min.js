var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:this.props.localAddress,isWrapShow:!1,isSecondShow:!1}},getDefaultProps:function(){return{localAddress:"西安"}},secondAddressData:{},handleBtnClick:function(){this.state.isWrapShow?this.setState({isWrapShow:!1}):(this.setState({isWrapShow:!0}),this.setState({isSecondShow:!1}))},handleSelectAddress:function(t,e,s){if(this.setState({nowAddress:t}),e){var a=this.props.addressData[e],i=a[s],r=0;for(var n in i)r++;return r?(this.setState({isSecondShow:!0}),void(this.secondAddressData=i)):void this.setState({isWrapShow:!1})}this.setState({isWrapShow:!1})},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress,secondAddressData:this.secondAddressData,isSecondShow:this.state.isSecondShow}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return this.props.isSecondShow?React.createElement("div",{className:"AddressWrap"},React.createElement(AddressSecondWrap,{secondAddressData:this.props.secondAddressData})):React.createElement("div",{className:"AddressWrap"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}))}}),AddressLocation=React.createClass({displayName:"AddressLocation",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",null,"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleSearch:function(t){var e=t.target.value;console.log(e)},render:function(){return React.createElement("div",{className:"AddressSearch"},"搜索：",React.createElement("input",{onChange:this.handleSearch}))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){var t=this.props.addressData,e=this.props.handleSelectAddress,s=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement(AddressListRow,{keyData:i,data:t[i],handleSelectAddress:e}),a++;return s}(t);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(t){var e=this.props.keyData,s=t.target.getAttribute("data"),a=t.target.innerHTML;this.props.handleSelectAddress(a,e,s)},render:function(){var t=this.handleClick,e=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement("span",null,React.createElement("span",{data:i,key:a,onClick:t},i)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},e))}}),AddressSecondWrap=React.createClass({displayName:"AddressSecondWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){var t=this.props.secondAddressData,e=function(t){var e=[],s=0;for(var a in t)e[s]=React.createElement(AddressSecondRow,{keyData:a,data:t[a]}),s++;return e}(t);return React.createElement("div",{className:"AddressSecondWrap"},e)}}),AddressSecondRow=React.createClass({displayName:"AddressSecondRow",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){var t=function(t){var e=[],s=0;for(var a in t)e[s]=React.createElement("span",null,React.createElement("a",{data:a,key:s,href:t[a]},a)),s++;return e}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},t))}}),ScrollBar=React.createClass({displayName:"ScrollBar",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",null)}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"北京",address:null}},getDefaultProps:function(){return{}},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){var t=this.state.address?this.props.addressPickerActiveStyle:{};return React.createElement("div",{className:"address-picker",style:t},React.createElement(AddressList,{localAddress:this.state.city}),React.createElement(AddressInput,{city:this.state.city,searchSubmitHandler:this.setAddress}),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京"}},setAddress:function(t){this.setState({address:t})},render:function(){return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,{city:this.props.city,inputTip:this.props.inputTip,inputWidth:this.props.inputWidth,searchBtnText:this.props.searchBtnText,searchSubmitHandler:this.setAddress}),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}))}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京"}},searchSubmit:function(){var t=this.getDOMNode().children[0].value;this.props.searchSubmitHandler(t)},checkEnter:function(t){13===t.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var t={width:this.props.inputWidth};return React.createElement("div",{className:"address-input"},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onKeyUp:this.checkEnter,placeholder:this.props.inputTip,style:t}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0}},getDefaultProps:function(){return{mapSearchgeotableId:121763,mapSearchTags:"",mapSearchFilter:""}},componentDidMount:function(){var t=new BMap.Map("_addressMapMain");t.centerAndZoom(this.props.city);var e=new BMap.LocalSearch(t,{renderOptions:{map:t,panel:"_addressMapItems"},onSearchComplete:function(t){this.setState({itemsNumber:t.getNumPois()})}.bind(this)});this.setState({mapLocalObj:e})},componentWillReceiveProps:function(t){this.getSearch(t.addressKeyword)},getSearch:function(t){var e=this;t&&this.state.mapLocalObj.search(t,{forceLocal:!0,customData:{geotableId:e.props.mapSearchgeotableId,tags:e.props.mapSearchTags,filter:e.props.mapSearchFilter}})},render:function(){return React.createElement("div",{className:"address-map",style:{display:this.props.addressKeyword?"block":"none"}},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"找到",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("div",{className:"map-items",id:"_addressMapItems"})),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(t,e){!e&&this._init(),t=this._format(t),100===t?this.setState({rate:100}):(t=t>100*this.props.maxRate?100*this.props.maxRate:t,this.setState({rate:t}))},inc:function(t){this._init(),this.props.trickle&&this._autoInc(),t=t?this._format(t):100*this.props.incStep;var e=this.state.rate+t;this.set(e+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(t){return"number"==typeof t?t>1?100*this.pros.maxRate:100*t:"string"==typeof t?parseFloat(t)>100?100*this.props.maxRate:parseFloat(t):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var t,e;this.timer=setInterval(function(){return e=this._getRadomStep(),t=this.state.rate+e,console.log(e),t>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(t),void this.set(t+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(t,e){return t=t||100*this.props.minStep,e=e||100*this.props.maxStep,Math.random()*(e-t)+t},render:function(){var t={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},e={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:t},React.createElement("div",{className:"cu-progress-bar",style:e}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(t){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(t){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(t){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(t){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(t){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var t=this.refs.tip.getDOMNode(),e=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=t.offsetHeight,this.flag=1);var s=t.offsetWidth,a=t.offsetHeight,i=e.offsetWidth,r=e.offsetHeight;switch(this.state.position){case"left":t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px";break;case"right":t.style.top=-(a-r)/2+"px",t.style.left="100%";break;case"top":t.style.left=-(s-i)/2+"px",t.style.bottom="100%";break;case"bottom":t.style.left=-(s-i)/2+"px",t.style.top="100%";break;default:t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px"}t.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var t=this.refs.tip.getDOMNode().getBoundingClientRect().left,e=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>t&&t+e>s)return!0;if(0>t){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(t+e>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NQaWNrZXIvQWRkcmVzc1BpY2tlci5qc3giLCJBZGRyZXNzU2VhcmNoL0FkZHJlc3NTZWFyY2guanN4IiwiUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIuanN4IiwiVG9vbHRpcC9Ub29sdGlwLmpzeCJdLCJuYW1lcyI6WyJBZGRyZXNzTGlzdCIsIlJlYWN0IiwiY3JlYXRlQ2xhc3MiLCJkaXNwbGF5TmFtZSIsImdldEluaXRpYWxTdGF0ZSIsIm5vd0FkZHJlc3MiLCJ0aGlzIiwicHJvcHMiLCJsb2NhbEFkZHJlc3MiLCJpc1dyYXBTaG93IiwiaXNTZWNvbmRTaG93IiwiZ2V0RGVmYXVsdFByb3BzIiwic2Vjb25kQWRkcmVzc0RhdGEiLCJoYW5kbGVCdG5DbGljayIsInN0YXRlIiwic2V0U3RhdGUiLCJoYW5kbGVTZWxlY3RBZGRyZXNzIiwic2VsZWN0QWRkcmVzcyIsImtleSIsIm5hbWUiLCJkYXRhIiwiYWRkcmVzc0RhdGEiLCJzZWNvbmREYXRhIiwianNsZW5ndGgiLCJqczIiLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiQWRkcmVzc0Ryb3BCdXR0b24iLCJ0cmlhbmdsZVN0YXRlIiwib25DbGljayIsIkFkZHJlc3NXcmFwIiwiaGFuZGxlQ2xpY2siLCJjaGlsZHJlbiIsIkFkZHJlc3NTZWNvbmRXcmFwIiwiQWRkcmVzc0xvY2F0aW9uIiwiQWRkcmVzc1NlYXJjaElucHV0IiwiQWRkcmVzc0xpc3RXcmFwIiwiaGFuZGxlU2VhcmNoIiwiZXZlbnQiLCJjb250IiwidGFyZ2V0IiwidmFsdWUiLCJjb25zb2xlIiwibG9nIiwib25DaGFuZ2UiLCJyb3dOb2RlcyIsImkiLCJBZGRyZXNzTGlzdFJvdyIsImtleURhdGEiLCJlIiwiZ2V0QXR0cmlidXRlIiwiaW5uZXJIVE1MIiwiZGF0YU5vZGVzIiwiQWRkcmVzc1NlY29uZFJvdyIsImhyZWYiLCJTY3JvbGxCYXIiLCJBZGRyZXNzUGlja2VyIiwiY2l0eSIsImFkZHJlc3MiLCJzZXRBZGRyZXNzIiwiYWQiLCJzZXRDaXR5IiwiY3QiLCJhZGRyZXNzUGlja2VyQWN0aXZlU3R5bGUiLCJzdHlsZSIsIkFkZHJlc3NJbnB1dCIsInNlYXJjaFN1Ym1pdEhhbmRsZXIiLCJBZGRyZXNzTWFwIiwiYWRkcmVzc0tleXdvcmQiLCJBZGRyZXNzU2VhcmNoIiwiaW5wdXRXaWR0aCIsImlucHV0VGlwIiwic2VhcmNoQnRuVGV4dCIsImtleXdvcmQiLCJzZWFyY2hTdWJtaXQiLCJnZXRET01Ob2RlIiwiY2hlY2tFbnRlciIsImtleUNvZGUiLCJjb21wb25lbnREaWRNb3VudCIsIkJNYXAiLCJBdXRvY29tcGxldGUiLCJpbnB1dCIsImxvY2F0aW9uIiwia2V5d29yZFN0eWxlIiwid2lkdGgiLCJpZCIsIm9uS2V5VXAiLCJwbGFjZWhvbGRlciIsIm1hcExvY2FsT2JqIiwiaXRlbXNOdW1iZXIiLCJtYXBTZWFyY2hnZW90YWJsZUlkIiwibWFwU2VhcmNoVGFncyIsIm1hcFNlYXJjaEZpbHRlciIsIm1hcCIsIk1hcCIsImNlbnRlckFuZFpvb20iLCJMb2NhbFNlYXJjaCIsInJlbmRlck9wdGlvbnMiLCJwYW5lbCIsIm9uU2VhcmNoQ29tcGxldGUiLCJnZXROdW1Qb2lzIiwiYmluZCIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJnZXRTZWFyY2giLCJfdGhpcyIsInNlYXJjaCIsImZvcmNlTG9jYWwiLCJjdXN0b21EYXRhIiwiZ2VvdGFibGVJZCIsInRhZ3MiLCJmaWx0ZXIiLCJkaXNwbGF5IiwiU3Bpbm5lciIsIlByb2dyZXNzQmFyIiwicmF0ZSIsImRvbmUiLCJzcGVlZCIsInNwaW5uZXIiLCJlYXNpbmciLCJtYXhSYXRlIiwiaW5jU3RlcCIsIm1pblN0ZXAiLCJtYXhTdGVwIiwidHJpY2tsZSIsInRyaWNrbGVTcGVlZCIsInNldFRyaWNrbGUiLCJzdGFydCIsIl9pbml0Iiwic2V0IiwiX2F1dG9JbmMiLCJuIiwiX2Zvcm1hdCIsImluYyIsIm5ld1JhdGUiLCJzZXRUaW1lb3V0IiwicHJvcyIsInBhcnNlRmxvYXQiLCJ0aW1lciIsIl9jbGVhckludGVydmFsIiwicmFuZG9tIiwic2V0SW50ZXJ2YWwiLCJfZ2V0UmFkb21TdGVwIiwiY2xlYXJJbnRlcnZhbCIsIm1pbiIsIm1heCIsIk1hdGgiLCJwcm9ncmVzc1N0eWxlIiwib3BhY2l0eSIsInRyYW5zaXRpb24iLCJiYXJTdHlsZSIsIlRvb2xUaXAiLCJ0aXAiLCJ0cmlnZ2VyIiwiZGVsYXkiLCJob3ZlcmFibGUiLCJwb3NpdGlvbiIsInR5cGUiLCJhSHJlZiIsImlzQWN0aXZlIiwiaXNPblRpcCIsInRpcEhlaWdodCIsImhhbmRsZU1vdXNlT3ZlciIsImhhbmRsZU1vdXNlT3V0IiwiaGFuZGxlVGlwTW91c2VPdmVyIiwiaGFuZGxlVGlwTW91c2VPdXQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJzZXRUaXBQb3NpdGlvbiIsInJlZnMiLCJmbGFnIiwib2Zmc2V0SGVpZ2h0IiwidGlwV2lkdGgiLCJvZmZzZXRXaWR0aCIsImNvbnRXaWR0aCIsImNvbnRIZWlnaHQiLCJ0b3AiLCJsZWZ0IiwiYm90dG9tIiwiaGVpZ2h0IiwicHJldmVydFRpcE92ZXJmbG93IiwidGlwWCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImF2YWlsV2lkdGgiLCJwYXJzZUludCIsImRvY3VtZW50IiwiYm9keSIsImNsaWVudFdpZHRoIiwiZ2V0VGlwU3R5bGUiLCJjb2xvciIsImJhY2tncm91bmRDb2xvciIsInJlZiIsIm9uTW91c2VPdmVyIiwib25Nb3VzZU91dCJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBSUEsYUFBQUMsTUFBQUMsYUFBaUNDLFlBQUEsY0FDakNDLGdCQUFpQixXQUNiLE9BQ0lDLFdBQVlDLEtBQUtDLE1BQU1DLGFBQ3ZCQyxZQUFZLEVBQ1pDLGNBQWMsSUFHdEJDLGdCQUFpQixXQUNiLE9BQ0lILGFBQWMsT0FHdEJJLHFCQUdBQyxlQUFnQixXQUNSUCxLQUFLUSxNQUFNTCxXQUlY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LE1BQUF5QixjQUFBLFFBQUtDLFVBQUMsV0FBV3JCLEtBQVdRLE1BQUsrSSxVQUM3QjVKLE1BQUF5QixjQUFBLEtBQUU2QixLQUFDakQsS0FBTUMsTUFBS3dKLE1BQVdnQyxJQUFFLE9BQUlDLFlBQU8xTCxLQUFXNkosZ0JBQU84QixXQUFpQjNMLEtBQUE4SixlQUFpQnRJLFFBQWdCeEIsS0FBQTBCLGFBQWMxQixLQUFBQyxNQUFjMEIsVUFDdEloQyxNQUFBeUIsY0FBQSxPQUFJc0ssWUFBQzFMLEtBQWErSixtQkFBdUI0QixXQUFFM0wsS0FBWWdLLGtCQUFLM0ksVUFBbUIsTUFBVW9LLElBQUEsTUFBUzlILE1BQUMzRCxLQUFNc0wsZUFBWXRMLEtBQVdDLE1BQUtrSixNQUk3SCxVQUFqQm5KLEtBQUtDLE1BQU11SixLQUVON0osTUFBQXlCLGNBQUEsUUFBS0MsVUFBQyxXQUFXckIsS0FBV1EsTUFBSytJLFVBQzdCNUosTUFBQXlCLGNBQUEsVUFBT3FLLElBQUMsT0FBSUMsWUFBTzFMLEtBQWE2SixnQkFBSzhCLFdBQWlCM0wsS0FBVThKLGVBQU90SSxRQUFnQnhCLEtBQUEwQixhQUFjMUIsS0FBYUMsTUFBQzBCLFVBQ25IaEMsTUFBQXlCLGNBQUEsT0FBSXNLLFlBQUMxTCxLQUFhK0osbUJBQXVCNEIsV0FBRTNMLEtBQVlnSyxrQkFBSzNJLFVBQW1CLE1BQVVvSyxJQUFBLE1BQVM5SCxNQUFDM0QsS0FBTXNMLGVBQVl0TCxLQUFXQyxNQUFLa0osTUFKakoiLCJmaWxlIjoiQ2hhcm0tVUkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDmlbTkvZPnu4Tku7ZcbnZhciBBZGRyZXNzTGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm93QWRkcmVzczogdGhpcy5wcm9wcy5sb2NhbEFkZHJlc3MsXG4gICAgICAgICAgICBpc1dyYXBTaG93OiBmYWxzZSxcbiAgICAgICAgICAgIGlzU2Vjb25kU2hvdzogZmFsc2VcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2NhbEFkZHJlc3M6IFwi6KW/5a6JXCIsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBzZWNvbmRBZGRyZXNzRGF0YToge1xuXG4gICAgfSxcbiAgICBoYW5kbGVCdG5DbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKCF0aGlzLnN0YXRlLmlzV3JhcFNob3cpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzV3JhcFNob3c6IHRydWV9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzU2Vjb25kU2hvdzogZmFsc2V9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzV3JhcFNob3c6IGZhbHNlfSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZVNlbGVjdEFkZHJlc3M6IGZ1bmN0aW9uKHNlbGVjdEFkZHJlc3MgLCBrZXkgLCBuYW1lKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe25vd0FkZHJlc3M6IHNlbGVjdEFkZHJlc3N9KTtcbiAgICAgICAgaWYoa2V5KSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMucHJvcHMuYWRkcmVzc0RhdGFba2V5XTtcbiAgICAgICAgICAgIHZhciBzZWNvbmREYXRhID0gZGF0YVtuYW1lXTtcbiAgICAgICAgICAgIHZhciBqc2xlbmd0aD0wO1xuICAgICAgICAgICAgICAgIGZvcih2YXIganMyIGluIHNlY29uZERhdGEpe1xuICAgICAgICAgICAgICAgIGpzbGVuZ3RoKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZighanNsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1dyYXBTaG93OiBmYWxzZX0pO1xuICAgICAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1NlY29uZFNob3c6IHRydWV9KTtcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kQWRkcmVzc0RhdGEgPSBzZWNvbmREYXRhO1xuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1dyYXBTaG93OiBmYWxzZX0pO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RcIj5cbiAgICAgICAgICAgICAgICA8QWRkcmVzc0Ryb3BCdXR0b24gdHJpYW5nbGVTdGF0ZT17dGhpcy5zdGF0ZS5pc1dyYXBTaG93fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUJ0bkNsaWNrfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubm93QWRkcmVzc31cbiAgICAgICAgICAgICAgICA8L0FkZHJlc3NEcm9wQnV0dG9uPlxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzV3JhcFNob3c/XG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzV3JhcCBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0gbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSBzZWNvbmRBZGRyZXNzRGF0YT17dGhpcy5zZWNvbmRBZGRyZXNzRGF0YX0gaXNTZWNvbmRTaG93PXt0aGlzLnN0YXRlLmlzU2Vjb25kU2hvd30vPlxuICAgICAgICAgICAgICAgICAgICA6bnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDkuIvmi4nmjInpkq5cbnZhciBBZGRyZXNzRHJvcEJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfSxcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DbGljaygpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiQWRkcmVzc0Ryb3BCdXR0b25cIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widHJpYW5nbGUgXCIrdGhpcy5wcm9wcy50cmlhbmdsZVN0YXRlfT48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5Zyw5Z2A5pON5L2c5qGG5a655ZmoXG52YXIgQWRkcmVzc1dyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYodGhpcy5wcm9wcy5pc1NlY29uZFNob3cpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzV3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICA8QWRkcmVzc1NlY29uZFdyYXAgc2Vjb25kQWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuc2Vjb25kQWRkcmVzc0RhdGF9Lz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc1dyYXBcIj5cbiAgICAgICAgICAgICAgICA8QWRkcmVzc0xvY2F0aW9uIGxvY2FsQWRkcmVzcz17dGhpcy5wcm9wcy5sb2NhbEFkZHJlc3N9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cbiAgICAgICAgICAgICAgICA8QWRkcmVzc1NlYXJjaElucHV0IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cbiAgICAgICAgICAgICAgICA8QWRkcmVzc0xpc3RXcmFwIGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5a6a5L2N5b2T5YmN5Zyw5Z2AXG52YXIgQWRkcmVzc0xvY2F0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG5cbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzKHRoaXMucHJvcHMubG9jYWxBZGRyZXNzKTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIOeMnOS9oOWcqO+8mjxzcGFuIG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5Zyw5Z2A5pCc57SiXG52YXIgQWRkcmVzc1NlYXJjaElucHV0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIGNvbnQgPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIGNvbnNvbGUubG9nKGNvbnQpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc1NlYXJjaFwiPlxuICAgICAgICAgICAgICAgIOaQnOe0ou+8mlxuICAgICAgICAgICAgICAgIDxpbnB1dCBvbkNoYW5nZT17dGhpcy5oYW5kbGVTZWFyY2h9IC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5Zyw5Z2A5YiX6KGo5a655ZmoXG52YXIgQWRkcmVzc0xpc3RXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhZGRyZXNzRGF0YSA9IHRoaXMucHJvcHMuYWRkcmVzc0RhdGE7XG4gICAgICAgIHZhciBoYW5kbGVTZWxlY3RBZGRyZXNzID0gdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzO1xuICAgICAgICB2YXIgcm93Tm9kZXMgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2YXIgY29udCA9IFtdO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRbaV0gID0gPEFkZHJlc3NMaXN0Um93IGtleURhdGE9e2tleX0gZGF0YT17ZGF0YVtrZXldfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXtoYW5kbGVTZWxlY3RBZGRyZXNzfSAvPjtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udDtcbiAgICAgICAgfShhZGRyZXNzRGF0YSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0V3JhcFwiPlxuICAgICAgICAgICAgICAgIHtyb3dOb2Rlc31cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDlnLDlnYDliJfooajooYxcbnZhciBBZGRyZXNzTGlzdFJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIga2V5RGF0YSA9IHRoaXMucHJvcHMua2V5RGF0YTtcbiAgICAgICAgdmFyIGkgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEnKTtcbiAgICAgICAgdmFyIG5hbWUgPSBlLnRhcmdldC5pbm5lckhUTUw7XG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcyhuYW1lICwga2V5RGF0YSAsIGkpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljaztcbiAgICAgICAgdmFyIGRhdGFOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBjb250ID0gW107XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29udFtpXSAgPSA8c3Bhbj48c3BhbiBkYXRhPXtrZXl9IGtleT17aX0gIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfSA+e2tleX08L3NwYW4+PC9zcGFuPjtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udDtcbiAgICAgICAgfSh0aGlzLnByb3BzLmRhdGEpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFJvd1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImtleURhdGFcIj57dGhpcy5wcm9wcy5rZXlEYXRhfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkYXRhV3JhcFwiPntkYXRhTm9kZXN9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cbi8vIOS6jOe6p+WcsOWdgOWIl+ihqOWuueWZqFxudmFyIEFkZHJlc3NTZWNvbmRXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzZWNvbmRBZGRyZXNzRGF0YSA9IHRoaXMucHJvcHMuc2Vjb25kQWRkcmVzc0RhdGE7XG4gICAgICAgIC8vIHZhciBoYW5kbGVTZWxlY3RBZGRyZXNzID0gdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzO1xuICAgICAgICB2YXIgcm93Tm9kZXMgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2YXIgY29udCA9IFtdO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRbaV0gID0gPEFkZHJlc3NTZWNvbmRSb3cga2V5RGF0YT17a2V5fSBkYXRhPXtkYXRhW2tleV19IC8+O1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb250O1xuICAgICAgICB9KHNlY29uZEFkZHJlc3NEYXRhKTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc1NlY29uZFdyYXBcIj5cbiAgICAgICAgICAgICAgICB7cm93Tm9kZXN9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5LqM57qn5Zyw5Z2A5YiX6KGo6KGMXG52YXIgQWRkcmVzc1NlY29uZFJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4geyB9O1xuICAgIH0sXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRhdGFOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBjb250ID0gW107XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29udFtpXSAgPSA8c3Bhbj48YSBkYXRhPXtrZXl9IGtleT17aX0gaHJlZj17ZGF0YVtrZXldfSA+e2tleX08L2E+PC9zcGFuPjtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udDtcbiAgICAgICAgfSh0aGlzLnByb3BzLmRhdGEpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFJvd1wiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImtleURhdGFcIj57dGhpcy5wcm9wcy5rZXlEYXRhfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkYXRhV3JhcFwiPntkYXRhTm9kZXN9PC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufSk7XG5cbi8vIOa7muWKqOadoee7hOS7tlxudmFyIFNjcm9sbEJhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuXG4gICAgICAgIH07XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj48L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0J1xuXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vICBDb21wb25lbnQ6IEFkZHJlc3NQaWNrZXJcbi8vXG4vLyAgSW5jbHVkZTogQWRkcmVzc0xpc3QgQWRkcmVzc1NlYXJjaFxuLy9cbi8vICBEZXNjcmlwdGlvbjogIEpzeCBmb3IgQWRkcmVzc1BpY2tlclxuLy9cbi8vICBUT0RPOiBbQFRvbmdjaGVuZ1FpdV0gQWRkcmVzc0xpc3Qg5pu05o2i5Z+O5biC5ZCO6LCD55SoIHNldENpdHkg6K6+572u5Z+O5biCXG4vLyAgICAgICAgICDkvaDlj6/ku6XmoLnmja4gQWRkcmVzc1BpY2tlciDnmoQgc3RhdGUuYWRkcmVzcyDliKTmlq3mmK/lkKblt7Lnu4/ov5vooYzkuobmkJzntKJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG52YXIgQWRkcmVzc1BpY2tlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgY2l0eTogXCLljJfkuqxcIixcbiAgICAgIGFkZHJlc3M6IG51bGxcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7fVxuICB9LFxuICBzZXRBZGRyZXNzOiBmdW5jdGlvbihhZCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWRkcmVzczogYWRcbiAgICB9KTtcbiAgfSxcbiAgc2V0Q2l0eTogZnVuY3Rpb24oY3QpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNpdHk6IGN0XG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZSA9IHRoaXMuc3RhdGUuYWRkcmVzc1xuICAgICAgPyB0aGlzLnByb3BzLmFkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZVxuICAgICAgOiB7fTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZGRyZXNzLXBpY2tlclwiIHN0eWxlPXthZGRyZXNzUGlja2VyQWN0aXZlU3R5bGV9PlxuICAgICAgICA8QWRkcmVzc0xpc3QgbG9jYWxBZGRyZXNzPXt0aGlzLnN0YXRlLmNpdHl9Lz5cbiAgICAgICAgPEFkZHJlc3NJbnB1dCBjaXR5PXt0aGlzLnN0YXRlLmNpdHl9IHNlYXJjaFN1Ym1pdEhhbmRsZXI9e3RoaXMuc2V0QWRkcmVzc30vPlxuICAgICAgICA8QWRkcmVzc01hcCBhZGRyZXNzS2V5d29yZD17dGhpcy5zdGF0ZS5hZGRyZXNzfSBjaXR5PXt0aGlzLnByb3BzLmNpdHl9Lz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gIENvbXBvbmVudDogQWRkcmVzc1NlYXJjaFxuLy9cbi8vICBJbmNsdWRlOiBBZGRyZXNzSW5wdXQgQWRkcmVzc01hcFxuLy9cbi8vICBEZXNjcmlwdGlvbjogIEpzeCBmb3IgQWRkcmVzc1NlYXJjaFxuLy9cbi8vICBUT0RPOlxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qIEFkZHJlc3NTZWFyY2ggKi9cbnZhciBBZGRyZXNzU2VhcmNoID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhZGRyZXNzOiBudWxsXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5wdXRXaWR0aDogNDAwLFxuICAgICAgaW5wdXRUaXA6IFwi6L6T5YWl5oOz6KaB5pCc57Si55qE5Zyw5Z2AXCIsXG4gICAgICBzZWFyY2hCdG5UZXh0OiBcIuaQnOe0olwiLFxuICAgICAgY2l0eTogXCLljJfkuqxcIlxuICAgIH1cbiAgfSxcbiAgc2V0QWRkcmVzczogZnVuY3Rpb24oYWQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFkZHJlc3M6IGFkXG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1zZWFyY2hcIj5cbiAgICAgICAgPEFkZHJlc3NJbnB1dCBjaXR5PXt0aGlzLnByb3BzLmNpdHl9IGlucHV0VGlwPXt0aGlzLnByb3BzLmlucHV0VGlwfSBpbnB1dFdpZHRoPXt0aGlzLnByb3BzLmlucHV0V2lkdGh9IHNlYXJjaEJ0blRleHQ9e3RoaXMucHJvcHMuc2VhcmNoQnRuVGV4dH0gc2VhcmNoU3VibWl0SGFuZGxlcj17dGhpcy5zZXRBZGRyZXNzfS8+XG4gICAgICAgIDxBZGRyZXNzTWFwIGFkZHJlc3NLZXl3b3JkPXt0aGlzLnN0YXRlLmFkZHJlc3N9IGNpdHk9e3RoaXMucHJvcHMuY2l0eX0vPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIEFkZHJlc3NJbnB1dCAqL1xudmFyIEFkZHJlc3NJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAga2V5d29yZDogbnVsbFxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlucHV0V2lkdGg6IDQwMCxcbiAgICAgIGlucHV0VGlwOiBcIui+k+WFpeaDs+imgeaQnOe0oueahOWcsOWdgFwiLFxuICAgICAgc2VhcmNoQnRuVGV4dDogXCLmkJzntKJcIixcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCJcbiAgICB9XG4gIH0sXG4gIHNlYXJjaFN1Ym1pdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGtleXdvcmQgPSB0aGlzLmdldERPTU5vZGUoKS5jaGlsZHJlblswXS52YWx1ZTtcbiAgICB0aGlzLnByb3BzXG4gICAgICAuc2VhcmNoU3VibWl0SGFuZGxlcihrZXl3b3JkKTtcbiAgfSxcbiAgY2hlY2tFbnRlcjogZnVuY3Rpb24oZSkge1xuICAgIChlLmtleUNvZGUgPT09IDEzKSAmJiB0aGlzLnNlYXJjaFN1Ym1pdCgpO1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG1hcEF1dG9Db21wbGV0ZSA9IG5ldyBCTWFwLkF1dG9jb21wbGV0ZSh7XG4gICAgICBcImlucHV0XCI6IFwiX2FkZHJlc3NTZWFyY2hLZXl3b3JkXCIsXG4gICAgICBcImxvY2F0aW9uXCI6IHRoaXMucHJvcHMuY2l0eVxuICAgIH0pO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBrZXl3b3JkU3R5bGUgPSB7XG4gICAgICB3aWR0aDogdGhpcy5wcm9wcy5pbnB1dFdpZHRoXG4gICAgfTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZGRyZXNzLWlucHV0XCI+XG4gICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJpbnB1dC1rZXl3b3JkXCIgaWQ9XCJfYWRkcmVzc1NlYXJjaEtleXdvcmRcIiBvbktleVVwPXt0aGlzLmNoZWNrRW50ZXJ9IHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLmlucHV0VGlwfSBzdHlsZT17a2V5d29yZFN0eWxlfT48L2lucHV0PlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImlucHV0LWNvbW1pdFwiIG9uQ2xpY2s9e3RoaXMuc2VhcmNoU3VibWl0fT57dGhpcy5wcm9wcy5zZWFyY2hCdG5UZXh0fTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIEFkZHJlc3NNYXAgKi9cbnZhciBBZGRyZXNzTWFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXBMb2NhbE9iajogbnVsbCxcbiAgICAgIGl0ZW1zTnVtYmVyOiAwXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWFwU2VhcmNoZ2VvdGFibGVJZDogMTIxNzYzLFxuICAgICAgbWFwU2VhcmNoVGFnczogXCJcIixcbiAgICAgIG1hcFNlYXJjaEZpbHRlcjogXCJcIlxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBtYXAgPSBuZXcgQk1hcC5NYXAoXCJfYWRkcmVzc01hcE1haW5cIik7XG4gICAgbWFwLmNlbnRlckFuZFpvb20odGhpcy5wcm9wcy5jaXR5KTtcbiAgICB2YXIgbWFwTG9jYWxPYmogPSBuZXcgQk1hcC5Mb2NhbFNlYXJjaChtYXAsIHtcbiAgICAgIHJlbmRlck9wdGlvbnM6IHtcbiAgICAgICAgbWFwOiBtYXAsXG4gICAgICAgIHBhbmVsOiBcIl9hZGRyZXNzTWFwSXRlbXNcIlxuICAgICAgfSxcbiAgICAgIG9uU2VhcmNoQ29tcGxldGU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXRlbXNOdW1iZXI6IGUuZ2V0TnVtUG9pcygpXG4gICAgICAgIH0pO1xuICAgICAgfS5iaW5kKHRoaXMpXG4gICAgfSk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBtYXBMb2NhbE9iajogbWFwTG9jYWxPYmpcbiAgICB9KTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24obmV4dFByb3BzKSB7XG4gICAgdGhpcy5nZXRTZWFyY2gobmV4dFByb3BzLmFkZHJlc3NLZXl3b3JkKTtcbiAgfSxcbiAgZ2V0U2VhcmNoOiBmdW5jdGlvbihrZXl3b3JkKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBrZXl3b3JkICYmIHRoaXMuc3RhdGVcbiAgICAgIC5tYXBMb2NhbE9ialxuICAgICAgLnNlYXJjaChrZXl3b3JkLCB7XG4gICAgICAgIGZvcmNlTG9jYWw6IHRydWUsXG4gICAgICAgIGN1c3RvbURhdGE6IHtcbiAgICAgICAgICBnZW90YWJsZUlkOiBfdGhpcy5wcm9wcy5tYXBTZWFyY2hnZW90YWJsZUlkLFxuICAgICAgICAgIHRhZ3M6IF90aGlzLnByb3BzLm1hcFNlYXJjaFRhZ3MsXG4gICAgICAgICAgZmlsdGVyOiBfdGhpcy5wcm9wcy5tYXBTZWFyY2hGaWx0ZXJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1tYXBcIiBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiB0aGlzLnByb3BzLmFkZHJlc3NLZXl3b3JkXG4gICAgICAgICAgPyBcImJsb2NrXCJcbiAgICAgICAgICA6IFwibm9uZVwiXG4gICAgICB9fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbmF2XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbmF2LXRpdGxlXCI+XG4gICAgICAgICAgICDmib7liLBcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hcC1uYXYtbnVtYmVyXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLml0ZW1zTnVtYmVyfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAg5a625L2T6aqM5bqXXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtaXRlbXNcIiBpZD1cIl9hZGRyZXNzTWFwSXRlbXNcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW1haW5cIiBpZD1cIl9hZGRyZXNzTWFwTWFpblwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG4iLCIndXNlIHN0cmljdCdcblxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyAgQ29tcG9uZW50OiBQcm9ncmVzc0JhclxuLy9cbi8vICBJbmNsdWRlOiBTcGlubmVyXG4vL1xuLy8gIERlc2NyaXB0aW9uOiBKc3ggZm9yIFByb2dyZXNzQmFyXG4vL1xuLy8gIFRPRE86IFtmaXhdIOS/ruato+WIneWni+aXtiB0cmFuc2l0aW9uIOS4jeeUn+aViOeahOmXrumimFxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qIFNwaW5uZXIgKi9cbnZhciBTcGlubmVyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXNwaW5uZXJcIj48L2Rpdj5cbiAgICApO1xuICB9XG59KTtcblxuLyogUHJvZ3Jlc3NCYXIgKi9cbnZhciBQcm9ncmVzc0JhciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmF0ZTogbnVsbCxcbiAgICAgIGRvbmU6IGZhbHNlXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc3BlZWQ6IDAuNiwgIC8vIOWKqOeUu+mAn+W6plxuICAgICAgc3Bpbm5lcjogdHJ1ZSwgIC8vIOaYr+WQpuacieWciOWciFxuICAgICAgZWFzaW5nOiAnZWFzZScsICAvLyDliqjnlLvnvJPliqjmm7Lnur9cbiAgICAgIG1heFJhdGU6IDAuOTYsICAvLyDov5vluqbmnaHmnIDlpKflrr3luqZcbiAgICAgIGluY1N0ZXA6IDAuMDQsICAvLyBpbmMg5aKe6ZW/5q2l5bmFXG4gICAgICBtaW5TdGVwOiAwLjAwNSwgIC8vIOmaj+acuuWinumVv+eahOacgOWwj+atpeW5hVxuICAgICAgbWF4U3RlcDogMC4wMywgIC8vIOmaj+acuuWinumVv+eahOacgOWkp+atpeW5hVxuICAgICAgdHJpY2tsZTogdHJ1ZSwgIC8vIOaYr+WQpuiHquWKqOWinumVv1xuICAgICAgdHJpY2tsZVNwZWVkOiA4MDAsICAvLyDoh6rliqjlop7plb/nmoTpl7TpmpTml7bpl7RcbiAgICAgIHNldFRyaWNrbGU6IGZhbHNlICAvLyBzZXQg5ZCO5piv5ZCm6Ieq5Yqo5aKe6ZW/77yI5pyq5ZCv55So77yJXG4gICAgfTtcbiAgfSxcbiAgc3RhcnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuX2luaXQoKTtcbiAgICB0aGlzLnNldCgnMC41JScpO1xuICAgIHRoaXMucHJvcHMudHJpY2tsZSAmJiB0aGlzLl9hdXRvSW5jKCk7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24obiwgdHJpY2tsZSkge1xuICAgICF0cmlja2xlICYmIHRoaXMuX2luaXQoKTtcbiAgICBuID0gdGhpcy5fZm9ybWF0KG4pO1xuICAgIGlmIChuID09PSAxMDApIHtcbiAgICAgIC8qIGRvbmUgKi9cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICByYXRlOiAxMDBcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBuID0gbiA+IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMFxuICAgICAgICA/IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMFxuICAgICAgICA6IG47XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcmF0ZTogblxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBpbmM6IGZ1bmN0aW9uKG4pIHtcbiAgICB0aGlzLl9pbml0KCk7XG4gICAgdGhpcy5wcm9wcy50cmlja2xlICYmIHRoaXMuX2F1dG9JbmMoKTtcbiAgICBuID0gblxuICAgICAgPyB0aGlzLl9mb3JtYXQobilcbiAgICAgIDogdGhpcy5wcm9wcy5pbmNTdGVwICogMTAwO1xuICAgIHZhciBuZXdSYXRlID0gdGhpcy5zdGF0ZS5yYXRlICsgbjtcbiAgICB0aGlzLnNldChuZXdSYXRlICsgJyUnLCB0cnVlKTtcbiAgfSxcbiAgZG9uZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5zZXQoJzEwMCUnKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGRvbmU6IHRydWVcbiAgICAgIH0pO1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgcmF0ZTogbnVsbFxuICAgICAgICB9KTtcbiAgICAgIH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy5zcGVlZCAqIDIgKiAxMDAwKTtcbiAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuc3BlZWQgKiAxMDAwKTtcbiAgfSxcbiAgX2Zvcm1hdDogZnVuY3Rpb24oZGF0YSkgeyAgLy8g5qC85byP5YyW5Li6IDAtMTAwIOeahOaVtOaVsFxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ251bWJlcicpIHsgIC8vIDAtMSDnmoTlsI/mlbBcbiAgICAgIHJldHVybiBkYXRhID4gMVxuICAgICAgICA/IHRoaXMucHJvcy5tYXhSYXRlICogMTAwXG4gICAgICAgIDogZGF0YSAqIDEwMDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgeyAgLy8g55m+5YiG5q+UXG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChkYXRhKSA+IDEwMFxuICAgICAgICA/IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMFxuICAgICAgICA6IHBhcnNlRmxvYXQoZGF0YSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0sXG4gIF9pbml0OiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnN0YXRlLmRvbmUgJiYgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBkb25lOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMudGltZXIgJiYgdGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xuICB9LFxuICBfYXV0b0luYzogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld1JhdGU7XG4gICAgdmFyIHJhbmRvbTtcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICByYW5kb20gPSB0aGlzLl9nZXRSYWRvbVN0ZXAoKTtcbiAgICAgIG5ld1JhdGUgPSB0aGlzLnN0YXRlLnJhdGUgKyByYW5kb207XG4gICAgICBjb25zb2xlLmxvZyhyYW5kb20pO1xuICAgICAgaWYgKG5ld1JhdGUgPiB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5tYXhSYXRlICogMTAwKTtcbiAgICAgICAgdGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhuZXdSYXRlKTtcbiAgICAgIHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy50cmlja2xlU3BlZWQpO1xuICB9LFxuICBfY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50aW1lciAmJiBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICB9LFxuICBfZ2V0UmFkb21TdGVwOiBmdW5jdGlvbihtaW4sIG1heCkge1xuICAgIG1pbiA9IG1pbiB8fCB0aGlzLnByb3BzLm1pblN0ZXAgKiAxMDA7XG4gICAgbWF4ID0gbWF4IHx8IHRoaXMucHJvcHMubWF4U3RlcCAqIDEwMDtcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xuICB9LFxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcm9ncmVzc1N0eWxlID0ge1xuICAgICAgLy9kaXNwbGF5OiAoIXRoaXMuc3RhdGUucmF0ZSAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5yYXRlID09PSAnb2JqZWN0JykgPyAnbm9uZScgOiAnYmxvY2snLFxuICAgICAgb3BhY2l0eTogdGhpcy5zdGF0ZS5kb25lXG4gICAgICAgID8gMFxuICAgICAgICA6IDEsXG4gICAgICB0cmFuc2l0aW9uOiAnb3BhY2l0eSAnICsgdGhpcy5wcm9wcy5zcGVlZCAqIDIgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmdcbiAgICB9O1xuICAgIHZhciBiYXJTdHlsZSA9IHtcbiAgICAgIHdpZHRoOiAhdGhpcy5zdGF0ZS5yYXRlXG4gICAgICAgID8gMFxuICAgICAgICA6IHRoaXMuc3RhdGUucmF0ZSArICclJyxcbiAgICAgIHRyYW5zaXRpb246ICd3aWR0aCAnICsgdGhpcy5wcm9wcy5zcGVlZCArICdzICcgKyB0aGlzLnByb3BzLmVhc2luZ1xuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucmF0ZVxuICAgICAgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3NcIiBzdHlsZT17cHJvZ3Jlc3NTdHlsZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1wcm9ncmVzcy1iYXJcIiBzdHlsZT17YmFyU3R5bGV9PjwvZGl2PlxuICAgICAgICAgIHt0aGlzLnByb3BzLnNwaW5uZXJcbiAgICAgICAgICAgID8gPFNwaW5uZXIvPlxuICAgICAgICAgICAgOiBudWxsfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIClcbiAgICAgIDogbnVsbDtcbiAgfVxufSk7XG4iLCJ2YXIgVG9vbFRpcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGlwOiBcInRpcFwiLFxuICAgICAgICAgICAgdHJpZ2dlcjogJ2hvdmVyJyxcbiAgICAgICAgICAgIGRlbGF5OiAwLFxuICAgICAgICAgICAgaG92ZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcInRpcFwiLFxuICAgICAgICAgICAgd2lkdGg6IFwiMjAwcHhcIixcbiAgICAgICAgICAgIHR5cGU6ICdzcGFuJyxcbiAgICAgICAgICAgIGFIcmVmOiBcIiNcIlxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnByb3BzLnBvc2l0aW9uLFxuICAgICAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgaXNPblRpcDogZmFsc2UsXG4gICAgICAgICAgICB0aXBIZWlnaHQ6IFwiXCJcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGhhbmRsZU1vdXNlT3ZlcjogZnVuY3Rpb24oZSkge1xuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiaG92ZXJcIikge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImhvdmVyXCIpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5pc09uVGlwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XG4gICAgICAgICAgICB9LmJpbmQodGhpcykgLCB0aGlzLnByb3BzLmRlbGF5KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImNsaWNrXCIpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogZmFsc2V9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZighdGhpcy5zdGF0ZS5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGhhbmRsZVRpcE1vdXNlT3ZlcjogZnVuY3Rpb24oZSkge1xuICAgICAgICBpZih0aGlzLnByb3BzLmhvdmVyYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNPblRpcDogdHJ1ZX0pO1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgaGFuZGxlVGlwTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYodGhpcy5wcm9wcy5ob3ZlcmFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzT25UaXA6IGZhbHNlfSk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogZmFsc2V9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXRUaXBQb3NpdGlvbigpO1xuICAgIH0sXG4gICAgc2V0VGlwUG9zaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdGlwID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCk7XG4gICAgICAgIHZhciBjb250ID0gdGhpcy5yZWZzLmNvbnQuZ2V0RE9NTm9kZSgpO1xuICAgICAgICBpZighdGhpcy5mbGFnKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnRpcEhlaWdodCA9IHRpcC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmZsYWcgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aXBXaWR0aCA9IHRpcC5vZmZzZXRXaWR0aDtcbiAgICAgICAgdmFyIHRpcEhlaWdodCA9IHRpcC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHZhciBjb250V2lkdGggPSBjb250Lm9mZnNldFdpZHRoO1xuICAgICAgICB2YXIgY29udEhlaWdodCA9IGNvbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUucG9zaXRpb24pIHtcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6dGlwLnN0eWxlLnRvcCA9IC0odGlwSGVpZ2h0LWNvbnRIZWlnaHQpLzIrXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoKzIwKStcInB4XCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjp0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUubGVmdCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInRvcFwiOnRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aC1jb250V2lkdGgpLzIrXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmJvdHRvbSA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOnRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aC1jb250V2lkdGgpLzIrXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLnRvcCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDogdGlwLnN0eWxlLnRvcCA9IC0odGlwSGVpZ2h0LWNvbnRIZWlnaHQpLzIrXCJweFwiO1xuICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgrMjApK1wicHhcIjtcbiAgICAgICAgfVxuICAgICAgICB0aXAuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zdGF0ZS50aXBIZWlnaHQtMjArXCJweFwiO1xuICAgICAgICB0aGlzLnByZXZlcnRUaXBPdmVyZmxvdygpO1xuICAgIH0sXG4gICAgcHJldmVydFRpcE92ZXJmbG93OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRpcFggPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgICB2YXIgdGlwWSA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcbiAgICAgICAgdmFyIHRpcFdpZHRoID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkub2Zmc2V0V2lkdGg7XG4gICAgICAgIHZhciB0aXBIZWlnaHQgPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIHZhciBhdmFpbFdpZHRoID0gcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7XG4gICAgICAgIGlmKHRpcFggPCAwICYmIHRpcFgrdGlwV2lkdGggPiBhdmFpbFdpZHRoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aXBYIDwgMCkge1xuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImxlZnRcIikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInRvcFwifSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJ0b3BcIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwiYm90dG9tXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJyaWdodFwifSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0aXBYK3RpcFdpZHRoID4gYXZhaWxXaWR0aCkge1xuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInJpZ2h0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJib3R0b21cIn0pO1xuICAgICAgICAgICAgICAgIHJldHVybiA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwiYm90dG9tXCIgfHwgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInRvcFwiKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cG9zaXRpb246IFwibGVmdFwifSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfSxcbiAgICBnZXRUaXBTdHlsZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaXNwbGF5OiB0aGlzLnN0YXRlLmlzQWN0aXZlP1wiYmxvY2tcIjpcIm5vbmVcIixcbiAgICAgICAgICAgIGNvbG9yOiBcInBpbmtcIixcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzXCIsXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy53aWR0aCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJzcGFuXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHJlZj1cImNvbnRcIiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlTW91c2VPdXR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJhXCIpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMuYUhyZWZ9IHJlZj1cImNvbnRcIiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlTW91c2VPdXR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJidXR0b25cIikge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widG9vbHRpcCBcIit0aGlzLnN0YXRlLnBvc2l0aW9ufT5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=