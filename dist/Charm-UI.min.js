var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:null,isWrapShow:!1}},handleBtnClick:function(){this.setState({isWrapShow:!this.state.isWrapShow})},handleSelectAddress:function(e){this.setState({nowAddress:e,isWrapShow:!1}),this.props.setCity&&this.props.setCity(e)},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress?this.state.nowAddress:this.props.localAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",render:function(){return React.createElement("div",{className:"AddressWrap"},React.createElement("div",{className:"AddressCont"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress})))}}),AddressLocation=React.createClass({displayName:"AddressLocation",handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",{className:"AddressLocation"},"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{result:[]}},handleResultClick:function(e){var t=e.target.getAttribute("data");this.props.handleSelectAddress(t)},handleSearch:function(e){var t=e.target.value,s=t.length,a=this.props.addressData,i=/^[\u4E00-\u9FA5]+$/;if(i.test(t)){var r=[],n=0;for(var o in a)for(var c in a[o])a[o][c].city.substring(0,s)==t&&(r[n]=a[o][c].city,n++);return void this.setState({result:r})}var l=t.substring(0,1).toLocaleUpperCase(),p=a[l],d=[],h=0;for(var u in p)u.substring(0,s)==t.toLocaleLowerCase()&&(d[h]=p[u].city),h++;this.setState({result:d})},render:function(){var e=this.handleResultClick,t=this.state.result.map(function(t){return React.createElement("li",{data:t,onClick:e},t)});return React.createElement("div",{className:"AddressSearch"},"直接搜索",React.createElement("input",{onChange:this.handleSearch,placeholder:"请输入城市名"}),React.createElement("ul",{className:"AddressSearchResult"},t))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",render:function(){var e=this.props.addressData,t=this.props.handleSelectAddress,s=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement(AddressListRow,{key:i,keyData:i,data:e[i],handleSelectAddress:t}),a++;return s}(e);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",handleClick:function(e){var t=e.target.getAttribute("data");this.props.handleSelectAddress(t)},render:function(){var e=this.handleClick,t=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement("span",{key:"p"+i},React.createElement("span",{data:t[i].city,key:a,onClick:e},t[i].city)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},t))}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"北京",currentCity:null,address:this.props.keyword}},getDefaultProps:function(){return{}},componentWillMount:function(){var e=new BMap.LocalCity;e.get(function(e){var t=e.name;this.setState({currentCity:t})}.bind(this))},setAddress:function(e){this.setState({address:e})},setCity:function(e){this.setState({city:e})},render:function(){var e=this.state.address?this.props.addressPickerActiveStyle:{};return React.createElement("div",{className:"address-picker",style:e},React.createElement(AddressList,{setCity:this.setCity,localAddress:this.state.currentCity,addressData:this.props.addressData}),React.createElement(AddressInput,React.__spread({},this.props,{city:this.state.city,searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"dark"}},componentWillMount:function(){var e=new BMap.LocalCity;e.get(function(e){var t=e.name;this.setCity(t)}.bind(this))},setAddress:function(e){this.setState({address:e})},setCity:function(e){this.setState({city:e})},render:function(){return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,React.__spread({},this.props,{searchSubmitHandler:this.setAddress})),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city,theme:this.props.theme}))}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:this.props.keyword}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京",theme:"light"}},searchSubmit:function(){var e=this.getDOMNode().children[0].value;this.props.searchSubmitHandler(e),setCookie("searchKeyword",e,30)},checkEnter:function(e){13===e.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var e={width:this.props.inputWidth},t="address-input";switch(this.props.theme){case"light":break;case"dark":t+=" dark"}return React.createElement("div",{className:t},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onKeyUp:this.checkEnter,placeholder:this.state.keyword||this.props.inputTip,style:e}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0,itemsList:[],itemActive:0}},getDefaultProps:function(){return{mapSearchgeotableId:121763,mapSearchTags:"",mapSearchFilter:"",theme:"light"}},componentDidMount:function(){this.map=new BMap.Map("_addressMapMain",{enableMapClick:!1}),this.map.centerAndZoom(this.props.city,12)},componentWillReceiveProps:function(e){e.addressKeyword&&this.getNearby(e.addressKeyword)},getNearby:function(e,t){var s=new BMap.Geocoder,a=this;s.getPoint(e,function(e){e?$.ajax({type:"get",url:"http://api.map.baidu.com/geosearch/v3/nearby",dataType:"jsonp",data:{ak:"sdp9qCbToS7E23nDRxaAAwbh",geotable_id:121763,location:e.lng+","+e.lat,radius:1e4,page_index:t||0,page_size:50},jsonp:"callback",success:function(e){a.setState({itemsNumber:e.total,itemsList:e.contents}),a.showNearby(),a.map.centerAndZoom(a.props.addressKeyword,12)}}):alert("未找到该区域信息")}.bind(this),this.props.city)},showNearby:function(){var e=this;for(var t in this.state.itemsList){var s=new BMap.Point(this.state.itemsList[t].location[0],this.state.itemsList[t].location[1]),a=new BMap.Marker(s),i=new BMap.Label(String.fromCharCode(65+parseInt(t)),{offset:new BMap.Size(4,2)});i.setStyle({border:"none",backgroundColor:"transparent",color:"#FAFAFA"}),a.setLabel(i),a.setTitle(this.state.itemsList[t].title),a.addEventListener("click",function(t){e.showInfoWindow(this.getLabel().content.charCodeAt(0)-65)}),this.map.addOverlay(a)}this.state.itemsList.length&&this.showInfoWindow(0)},showInfoWindow:function(e){if(e!==this.state.itemActive,!0){var t=new BMap.Point(this.state.itemsList[e].location[0],this.state.itemsList[e].location[1]),s=this.state.itemsList[e],a=s.title,i=s.address,r=(s.tel,'<p class="map-info-window">地址：'+i+"</p>"),n=new BMap.InfoWindow(r,{title:a,width:290,panel:"panel",enableAutoPan:!0,offset:new BMap.Size(0,-25)});this.setState({itemActive:+e}),this.map.openInfoWindow(n,t)}},clickMapItem:function(e){var t=e.target,s=t.getAttribute("class"),a=0;a="map-item"===s?t.getAttribute("data-key"):"map-item-mark"===s||"map-item-main"===s?t.parentNode.getAttribute("data-key"):s?t.parentNode.parentNode.getAttribute("data-key"):t.parentNode.parentNode.parentNode.getAttribute("data-key"),this.showInfoWindow(a)},render:function(){var e="address-map";switch(this.props.theme){case"light":break;case"dark":e+=" dark"}var t={backgroundColor:"#181211"};return React.createElement("div",{className:e,style:{display:this.props.addressKeyword?"block":"none"}},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"附近有",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("ul",{className:"map-items",id:"_addressMapItems",onClick:this.clickMapItem},this.state.itemsList.map(function(e,s){return React.createElement("li",{className:"map-item","data-key":s,key:s,style:s===this.state.itemActive?t:{}},React.createElement("span",{className:"map-item-mark"},String.fromCharCode(65+s)),React.createElement("div",{className:"map-item-main"},React.createElement("div",{className:"map-item-title"},e.title),React.createElement("div",{className:"map-item-address"},"地址：",e.address),React.createElement("div",{className:"map-item-tel"},"电话：",e.tel)))}.bind(this)))),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),FilterOption=React.createClass({displayName:"FilterOption",render:function(){var e,t=this.props.value,s=this.props.onSelect.bind(null,t),a=React.createElement("span",null,t.value);return e=this.props.isMultiSelect?React.createElement("label",{href:"#",htmlFor:t.name},React.createElement("input",{onClick:s,type:"checkbox",name:t.name,value:t.value,id:t.value}),a):React.createElement("a",{href:"#",onClick:s},a)}}),FilterAction=React.createClass({displayName:"FilterAction",render:function(){return React.createElement("div",{className:"filter-action"},React.createElement("a",{style:{display:this.props.multiToggleStatus?"inline":"none"},onClick:this.props.multiToggle,href:"#",className:"multi-toggle"},"多选"),React.createElement("a",{onClick:this.props.expandToggle,href:"#"},this.props.expandToggleStatus?"更多":"收起"))}}),FilterStateTag=React.createClass({displayName:"FilterStateTag",render:function(){var e,t=Array.isArray(this.props.value)?this.props.value:[this.props.value];return e=t.map(function(e,t,s){return this.props.treeView?React.createElement("span",{key:t},e.value," ",React.createElement("span",{className:"tag-remove"},React.createElement("a",{onClick:this.props.onTagRemove.bind(null,e),href:"#"},"×")),t==s.length-1?null:React.createElement("span",null,">")):t==s.length-1?React.createElement("span",{key:t},e.value," ",React.createElement("span",{className:"tag-remove"},React.createElement("a",{onClick:this.props.onTagRemove.bind(null,e),href:"#"},"×"))):React.createElement("span",{key:t},e.value+","," ")}.bind(this)),React.createElement("div",{className:"filter-tag"},React.createElement("div",{className:"tag-name"},this.props.name+":"," "),React.createElement("div",{className:"tag-value"},e))}}),FilterStateBar=React.createClass({displayName:"FilterStateBar",render:function(){var e=this.props.filterState,t=Object.keys(e).map(function(t,s){var a=e[t],i=this.props.getFilterDef(t);return React.createElement(FilterStateTag,{key:s,name:i.name,value:a,treeView:i.treeView,onTagRemove:this.props.onStateDelete.bind(null,t)})}.bind(this));return React.createElement("div",{className:"filter-state"},React.createElement("div",{className:"custom-content"},this.props.children),React.createElement("div",{className:"filter-tags"},t))}}),Filter=React.createClass({displayName:"Filter",getInitialState:function(){return{isMultiSelect:!1,isExpanded:!1,multiSelected:{}}},getDefaultProps:function(){return{canMultiSelect:!1,treeView:!1,options:[]}},multiSelectToggle:function(){this.setState({isMultiSelect:!this.state.isMultiSelect,isExpanded:this.state.isMultiSelect?!1:!0})},expandToggle:function(){this.setState({isMultiSelect:this.state.isExpanded?!1:this.state.isMultiSelect,isExpanded:!this.state.isExpanded})},updateMultiSelected:function(e){var t=this.state.multiSelected;t[e.value]=t[e.value]?null:e,this.setState({multiSelected:t})},confirmMultiSelect:function(){var e=this.state.multiSelected,t=[];for(var s in e)e.hasOwnProperty(s)&&e[s]&&t.push(e[s]);this.props.onSelectOption(t),this.setState({multiSelected:{}}),this.multiSelectToggle()},render:function(){var e=function(e){return this.state.isMultiSelect?void this.updateMultiSelected(e):void this.props.onSelectOption(e)}.bind(this),t=this.props.options.map(function(t,s){return React.createElement("li",{key:s,className:"filter-item"},React.createElement(FilterOption,{value:t,onSelect:e,isMultiSelect:this.state.isMultiSelect}))}.bind(this));return React.createElement("div",{className:"filter"+(this.state.isExpanded?" expanded":"")},React.createElement("div",{className:"head"},React.createElement("h4",{className:"filter-name"},this.props.name)),React.createElement("div",{className:"body"},React.createElement("ul",{className:"filter-items"},t),React.createElement("div",{style:{display:this.state.isMultiSelect?"block":"none"},className:"multi-confirm"},React.createElement("button",{className:"btn-confirm",onClick:this.confirmMultiSelect,type:"button",name:"confirm"},"确定"),React.createElement("button",{className:"btn-cancel",type:"button",name:"cancel",onClick:this.multiSelectToggle},"取消"))),React.createElement("div",{className:"foot"},React.createElement(FilterAction,{multiToggleStatus:this.props.canMultiSelect&&!this.state.isMultiSelect,expandToggleStatus:!this.state.isExpanded,multiToggle:this.multiSelectToggle,expandToggle:this.expandToggle})))}}),FilterGroup=React.createClass({displayName:"FilterGroup",getInitialState:function(){return{filterValues:this.props.filterValues,filterState:{}}},getDefaultProps:function(){return{filterValues:{},onStateChange:function(){}}},componentDidMount:function(){var e=this.props.filterDefs.reduce(function(e,t){return e[t.field]=t,e},{});this.setState({defIndex:e})},setFilterState:function(e){this.isSameState(this.state.filterState,e)||this.setState({filterState:e})},addFilterState:function(e,t){var s=this,a=s.state.defIndex,i=this.state.filterState,r=!1,n=!!i[e];if(a[e].treeView){var o=n?s.findIndex(i[e],t):-1,c=function(){if(!n)return!1;var a=i[e].length,r=s.props.filterValues[e]||[];return s.findIndex(r,t)>-1&&s.findIndex(r,i[e][a-1])>-1};r=!n||o!=i[e].length-1,r&&(i[e]=i[e]||[],o>=0?i[e]=i[e].slice(0,o+1):(c()&&i[e].pop(),i[e].push(t)))}else(!n||t.value!==i[e].value||Array.isArray(t)&&!s.isSameState(t,i[e]))&&(Array.isArray(t)&&0===t.length?s.removeFilterState(e):(i[e]=t,r=!0));r&&(s.setState({filterState:i}),s.props.onStateChange(this.state.filterState))},removeFilterState:function(e,t){var s,a=this.state.defIndex,i=this.state.filterState;a[e].treeView?(s=this.findIndex(i[e],t),0===s?delete i[e]:s>0&&(i[e]=i[e].slice(0,s))):delete i[e],this.setState({filterState:i}),this.props.onStateChange(this.state.filterState)},getFilterDef:function(e){return this.state.defIndex[e]},isSameState:function(e,t){var s=this;return s.isEmptyObj(e)&&!s.isEmptyObj(t)||!s.isEmptyObj(e)&&s.isEmptyObj(t)?!1:s.isEmptyObj(e)&&s.isEmptyObj(t)||Object.keys(e).filter(function(e){return s.props.filterDefs.hasOwnProperty(e)}).every(function(s){return e[s]===t[s]||e[s].value===t[s].value?!0:Array.isArray(e[s])&&Array.isArray(t[s])?e[s].every(function(e,a){return e===t[s][a]||e.value===t[s][a].value}):!1})},isSameValueArray:function(e,t){return e.every(function(e,s){return e.value===t[s].value})},isEmptyObj:function(e){return 0===Object.keys(e).length},findIndex:function(e,t){for(var s=0;s<e.length;s++)if(e[s].value===t.value)return s;return-1},render:function(){var e=this.props.filterDefs.map(function(e,t){var s=this.state.filterValues[e.field]||[];return React.createElement("li",{key:t,style:{display:s.length>0?"block":"none"}},React.createElement(Filter,{name:e.name,field:e.field,canMultiSelect:e.canMultiSelect,treeView:e.treeView,options:s,onSelectOption:this.addFilterState.bind(null,e.field)}))}.bind(this));return React.createElement("div",{className:"cu-filter-group"},React.createElement(FilterStateBar,{filterState:this.state.filterState,getFilterDef:this.getFilterDef,onStateDelete:this.removeFilterState},this.props.children),React.createElement("ul",{className:"filter-group"},e))}}),PaginationBtn=React.createClass({displayName:"PaginationBtn",getDefaultProps:function(){return{text:1,type:"num"}},render:function(){var e="dot"===this.props.type?"...":this.props.text,t=this.props.active?"item active":"item";return"num"!==this.props.type&&(t+=" page "+this.props.type),this.props.disabled&&(t+=" disabled"),React.createElement("li",{className:t,onClick:this.props.changePage},React.createElement("a",null,e))}}),PagiOverview=React.createClass({displayName:"PagiOverview",render:function(){return React.createElement("div",{className:"overview"},"共 ",this.props.pages," 页，")}}),PagiQuickGo=React.createClass({displayName:"PagiQuickGo",getInitialState:function(){return{pageInput:null}},inputChange:function(e){this.setState({pageInput:e.target.value})},quickGo:function(){if(this.state.pageInput){var e=+this.state.pageInput;e=1>e?1:e,e=e>this.props.pages?this.props.pages:e,this.props.setActivePage(e)}},render:function(){return React.createElement("div",{className:"quick-go"},React.createElement("span",null,"到第"),React.createElement("input",{className:"go-page",type:"number",min:"1",max:this.props.pages,onChange:this.inputChange}),React.createElement("span",null,"页"),React.createElement("button",{className:"go-submit",onClick:this.quickGo},"确认"))}}),PagiMain=React.createClass({displayName:"PagiMain",getInitialState:function(){return{pageItems:this.getPageItems(this.props.activePage)}},componentWillReceiveProps:function(e){if(e.activePage!==this.props.activePage){var t=this.getPageItems(e.activePage);this.setState({pageItems:t}),this.props.selected(e.activePage)}},handleItemClick:function(e,t){t="first"===e?1:"prev"===e?1===this.props.activePage?1:this.props.activePage-1:"next"===e?this.props.activePage===this.props.pages?this.props.pages:this.props.activePage+1:"last"===e?this.props.pages:t,t!==this.props.activePage&&this.props.setActivePage(t)},getPageItems:function(e){var t=[],s=this.props.basePages,a=this.props.midPages,i=this.props.pages;return e<=parseInt(a/2)+1?t=this._getSeriesNumber(1,s+a>=i?i:a):e<=parseInt(a/2)+1+s||s+a>=i?t=this._getSeriesNumber(1,s+a>=i?i:e+2):e<i-parseInt(a/2)-1?(t=this._getSeriesNumber(1,this.props.basePages),t.push(0),t=t.concat(this._getSeriesNumber(e-2,a)),i>a+s+2&&t.push(0)):e===i-parseInt(a/2)-1?(t=this._getSeriesNumber(1,this.props.basePages),t.push(0),t=t.concat(this._getSeriesNumber(i-a,a+1))):(t=this._getSeriesNumber(1,this.props.basePages),t.push(0),t=t.concat(this._getSeriesNumber(i-a+1,a))),t},_getSeriesNumber:function(e,t){e=e,t=t;for(var s=[];t--;)s.push(e++);return s},render:function(){var e=[],t=[];return this.props.pages>0&&(this.props.first&&e.push(React.createElement(PaginationBtn,{key:"first",text:this.props.first,disabled:1===this.props.activePage?!0:!1,type:"prev",type:"first",changePage:this.handleItemClick.bind(this,"first")})),this.props.prev&&e.push(React.createElement(PaginationBtn,{key:"prev",text:this.props.prev,disabled:1===this.props.activePage?!0:!1,type:"prev",changePage:this.handleItemClick.bind(this,"prev")})),this.props.next&&t.push(React.createElement(PaginationBtn,{key:"next",text:this.props.next,type:"next",disabled:this.props.activePage===this.props.pages?!0:!1,changePage:this.handleItemClick.bind(this,"next")})),this.props.last&&t.push(React.createElement(PaginationBtn,{key:"last",text:this.props.last,type:"last",disabled:this.props.activePage===this.props.pages?!0:!1,changePage:this.handleItemClick.bind(this,"last")}))),React.createElement("ul",{className:"pagi-main"},e,this.props.pages>0&&this.state.pageItems.map(function(e,t){return React.createElement(PaginationBtn,{key:t,text:e,type:e?"num":"dot",active:e===this.props.activePage?!0:!1,changePage:e?this.handleItemClick.bind(this,"num",e):null})}.bind(this)),t)}}),Pagination=React.createClass({displayName:"Pagination",propTypes:{pages:React.PropTypes.number},getInitialState:function(){return{activePage:this.props.activePage}},getDefaultProps:function(){return{activePage:1,first:null,prev:"上一页",basePages:2,midPages:5,ellipsis:!0,next:"下一页",last:null,theme:"light",quickGo:!1,selected:function(e){console.log(e)}}},setActivePage:function(e){this.setState({activePage:e})},render:function(){var e="light"===this.props.theme?"pagination":"pagination "+this.props.theme;return React.createElement("div",{className:e},React.createElement(PagiMain,React.__spread({},this.props,{activePage:this.state.activePage,setActivePage:this.setActivePage})),this.props.quickGo?React.createElement(PagiOverview,{pages:this.props.pages}):null,this.props.quickGo?React.createElement(PagiQuickGo,{pages:this.props.pages,setActivePage:this.setActivePage}):null)}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner",style:{borderColor:this.props.color,borderLeftColor:"transparent"}})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,color:"#09c4c7",setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(e,t){!t&&this._init(),e=this._format(e),100===e?this.setState({rate:100}):(e=e>100*this.props.maxRate?100*this.props.maxRate:e,this.setState({rate:e}))},inc:function(e){this._init(),this.props.trickle&&this._autoInc(),e=e?this._format(e):100*this.props.incStep;var t=this.state.rate+e;this.set(t+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(e){return"number"==typeof e?e>1?100*this.pros.maxRate:100*e:"string"==typeof e?parseFloat(e)>100?100*this.props.maxRate:parseFloat(e):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var e,t;this.timer=setInterval(function(){return t=this._getRadomStep(),e=this.state.rate+t,console.log(t),e>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(e),void this.set(e+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(e,t){return e=e||100*this.props.minStep,t=t||100*this.props.maxStep,Math.random()*(t-e)+e},render:function(){var e={opacity:this.state.done?0:1,transition:"opacity "+this.props.speed+"s "+this.props.easing},t={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing,backgroundColor:this.props.color,boxShadowColor:this.props.color};return this.state.rate?React.createElement("div",{className:"cu-progress",style:e},React.createElement("div",{className:"cu-progress-bar",style:t}),this.props.spinner?React.createElement(Spinner,{color:this.props.color}):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(e){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(e){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(e){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(e){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(e){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var e=this.refs.tip.getDOMNode(),t=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=e.offsetHeight,this.flag=1);var s=e.offsetWidth,a=e.offsetHeight,i=t.offsetWidth,r=t.offsetHeight;switch(this.state.position){case"left":e.style.top=-(a-r)/2+"px",e.style.left=-(s+20)+"px";break;case"right":e.style.top=-(a-r)/2+"px",e.style.left="100%";break;case"top":e.style.left=-(s-i)/2+"px",e.style.bottom="100%";break;case"bottom":e.style.left=-(s-i)/2+"px",e.style.top="100%";break;default:e.style.top=-(a-r)/2+"px",e.style.left=-(s+20)+"px"}e.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var e=this.refs.tip.getDOMNode().getBoundingClientRect().left,t=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>e&&e+t>s)return!0;if(0>e){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(e+t>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NQaWNrZXIvQWRkcmVzc1BpY2tlci5qc3giLCJBZGRyZXNzU2VhcmNoL0FkZHJlc3NTZWFyY2guanN4IiwiRmlsdGVyR3JvdXAvRmlsdGVyR3JvdXAuanN4IiwiUGFnaW5hdGlvbi9QYWdpbmF0aW9uLmpzeCIsIlByb2dyZXNzQmFyL1Byb2dyZXNzQmFyLmpzeCIsIlRvb2x0aXAvVG9vbHRpcC5qc3giXSwibmFtZXMiOlsiQWRkcmVzc0xpc3QiLCJSZWFjdCIsImNyZWF0ZUNsYXNzIiwiZGlzcGxheU5hbWUiLCJnZXRJbml0aWFsU3RhdGUiLCJub3dBZGRyZXNzIiwiaXNXcmFwU2hvdyIsImhhbmRsZUJ0bkNsaWNrIiwidGhpcyIsInNldFN0YXRlIiwic3RhdGUiLCJoYW5kbGVTZWxlY3RBZGRyZXNzIiwic2VsZWN0Q3QiLCJwcm9wcyIsInNldENpdHkiLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiQWRkcmVzc0Ryb3BCdXR0b24iLCJ0cmlhbmdsZVN0YXRlIiwib25DbGljayIsImxvY2FsQWRkcmVzcyIsIkFkZHJlc3NXcmFwIiwiYWRkcmVzc0RhdGEiLCJoYW5kbGVDbGljayIsImNoaWxkcmVuIiwiQWRkcmVzc0xvY2F0aW9uIiwiQWRkcmVzc1NlYXJjaElucHV0IiwiQWRkcmVzc0xpc3RXcmFwIiwicmVzdWx0IiwiaGFuZGxlUmVzdWx0Q2xpY2siLCJlIiwiYWRkcmVzcyIsInRhcmdldCIsImdldEF0dHJpYnV0ZSIsImhhbmRsZVNlYXJjaCIsImV2ZW50IiwiY29udCIsInZhbHVlIiwibGVuIiwibGVuZ3RoIiwicmVnIiwidGVzdCIsIl9yZXN1bHRIIiwiaiIsImtleUgiLCJrZXlIUyIsImNpdHkiLCJzdWJzdHJpbmciLCJGTCIsInRvTG9jYWxlVXBwZXJDYXNlIiwicmVzdWx0RkwiLCJfcmVzdWx0IiwiaSIsImtleSIsInRvTG9jYWxlTG93ZXJDYXNlIiwiX2hhbmRsZVJlc3VsdENsaWNrIiwicmVzdWx0Tm9kZXMiLCJtYXAiLCJkYXRhIiwib25DaGFuZ2UiLCJwbGFjZWhvbGRlciIsInJvd05vZGVzIiwiQWRkcmVzc0xpc3RSb3ciLCJrZXlEYXRhIiwiZGF0YU5vZGVzIiwiQWRkcmVzc1BpY2tlciIsImN1cnJlbnRDaXR5Iiwia2V5d29yZCIsImdldERlZmF1bHRQcm9wcyIsImNvbXBvbmVudFdpbGxNb3VudCIsIm15Q2l0eSIsIkJNYXAiLCJMb2NhbENpdHkiLCJnZXQiLCJyZXMiLCJuYW1lIiwiYmluZCIsInNldEFkZHJlc3MiLCJhZCIsImN0IiwiYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlIiwic3R5bGUiLCJBZGRyZXNzSW5wdXQiLCJfX3NwcmVhZCIsInNlYXJjaFN1Ym1pdEhhbmRsZXIiLCJBZGRyZXNzTWFwIiwiYWRkcmVzc0tleXdvcmQiLCJ0aGVtZSIsIkFkZHJlc3NTZWFyY2giLCJpbnB1dFdpZHRoIiwiaW5wdXRUaXAiLCJzZWFyY2hCdG5UZXh0Iiwic2VhcmNoU3VibWl0IiwiZ2V0RE9NTm9kZSIsInNldENvb2tpZSIsImNoZWNrRW50ZXIiLCJrZXlDb2RlIiwiY29tcG9uZW50RGlkTW91bnQiLCJBdXRvY29tcGxldGUiLCJpbnB1dCIsImxvY2F0aW9uIiwia2V5d29yZFN0eWxlIiwid2lkdGgiLCJjb25DbGFzc05hbWUiLCJpZCIsIm9uS2V5VXAiLCJtYXBMb2NhbE9iaiIsIml0ZW1zTnVtYmVyIiwiaXRlbXNMaXN0IiwiaXRlbUFjdGl2ZSIsIm1hcFNlYXJjaGdlb3RhYmxlSWQiLCJtYXBTZWFyY2hUYWdzIiwibWFwU2VhcmNoRmlsdGVyIiwiTWFwIiwiZW5hYmxlTWFwQ2xpY2siLCJjZW50ZXJBbmRab29tIiwiY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIm5leHRQcm9wcyIsImdldE5lYXJieSIsInBhZ2UiLCJteUdlbyIsIkdlb2NvZGVyIiwiX3RoaXMiLCJnZXRQb2ludCIsInBvaW50IiwiJCIsImFqYXgiLCJ0eXBlIiwidXJsIiwiZGF0YVR5cGUiLCJhayIsImdlb3RhYmxlX2lkIiwibG5nIiwibGF0IiwicmFkaXVzIiwicGFnZV9pbmRleCIsInBhZ2Vfc2l6ZSIsImpzb25wIiwic3VjY2VzcyIsInRvdGFsIiwiY29udGVudHMiLCJzaG93TmVhcmJ5IiwiYWxlcnQiLCJrIiwiUG9pbnQiLCJtYXJrZXIiLCJNYXJrZXIiLCJsYWJlbCIsIkxhYmVsIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwicGFyc2VJbnQiLCJvZmZzZXQiLCJTaXplIiwic2V0U3R5bGUiLCJib3JkZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsInNldExhYmVsIiwic2V0VGl0bGUiLCJ0aXRsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaG93SW5mb1dpbmRvdyIsImdldExhYmVsIiwiY29udGVudCIsImNoYXJDb2RlQXQiLCJhZGRPdmVybGF5IiwiaW5kZXgiLCJpdGVtSW5mbyIsInRlbCIsImluZm9XaW5kb3ciLCJJbmZvV2luZG93IiwicGFuZWwiLCJlbmFibGVBdXRvUGFuIiwib3BlbkluZm9XaW5kb3ciLCJjbGlja01hcEl0ZW0iLCJlbGUiLCJlbGVDbGFzcyIsIml0ZW1JbmRleCIsInBhcmVudE5vZGUiLCJtYXBJdGVtQWN0aWVTdHlsZSIsImRpc3BsYXkiLCJpdGVtIiwiZGF0YS1rZXkiLCJGaWx0ZXJPcHRpb24iLCJvcHRpb25FbGVtZW50Iiwib3B0aW9uVmFsdWUiLCJzZWxlY3QiLCJvblNlbGVjdCIsIm9wdGlvblZhbHVlRWxlbWVudCIsImlzTXVsdGlTZWxlY3QiLCJocmVmIiwiaHRtbEZvciIsIkZpbHRlckFjdGlvbiIsIm11bHRpVG9nZ2xlU3RhdHVzIiwibXVsdGlUb2dnbGUiLCJleHBhbmRUb2dnbGUiLCJleHBhbmRUb2dnbGVTdGF0dXMiLCJGaWx0ZXJTdGF0ZVRhZyIsInRhZ1ZhbHVlTm9kZXMiLCJjdXJyU3RhdGVWYWx1ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJ2YWx1ZXMiLCJ0cmVlVmlldyIsIm9uVGFnUmVtb3ZlIiwiRmlsdGVyU3RhdGVCYXIiLCJmaWx0ZXJTdGF0ZSIsInN0YXRlVGFnTm9kZXMiLCJPYmplY3QiLCJrZXlzIiwiZmllbGQiLCJkZWYiLCJnZXRGaWx0ZXJEZWYiLCJvblN0YXRlRGVsZXRlIiwiRmlsdGVyIiwiaXNFeHBhbmRlZCIsIm11bHRpU2VsZWN0ZWQiLCJjYW5NdWx0aVNlbGVjdCIsIm9wdGlvbnMiLCJtdWx0aVNlbGVjdFRvZ2dsZSIsInVwZGF0ZU11bHRpU2VsZWN0ZWQiLCJjb25maXJtTXVsdGlTZWxlY3QiLCJzZWxlY3RlZE9iaiIsInNlbGVjdGVkQXJyIiwiaGFzT3duUHJvcGVydHkiLCJwdXNoIiwib25TZWxlY3RPcHRpb24iLCJoYW5kbGVTZWxlY3QiLCJvcHRpb25Ob2RlcyIsIm9wdGlvbiIsIkZpbHRlckdyb3VwIiwiZmlsdGVyVmFsdWVzIiwib25TdGF0ZUNoYW5nZSIsImRlZnMiLCJmaWx0ZXJEZWZzIiwicmVkdWNlIiwiZmlsdGVyRGVmIiwiZGVmSW5kZXgiLCJzZXRGaWx0ZXJTdGF0ZSIsImlzU2FtZVN0YXRlIiwiYWRkRmlsdGVyU3RhdGUiLCJ0aGF0IiwiY2hhbmdlZCIsImhhc1ZhbHVlIiwiaW5kZXhPZlRyZWUiLCJmaW5kSW5kZXgiLCJpc1NhbWVMZXZlbCIsImN1cnJlbnRTdGF0ZSIsInNsaWNlIiwicG9wIiwicmVtb3ZlRmlsdGVyU3RhdGUiLCJvIiwibiIsImlzRW1wdHlPYmoiLCJmaWx0ZXIiLCJldmVyeSIsIm9TdGF0ZSIsImlzU2FtZVZhbHVlQXJyYXkiLCJvQXJyIiwibkFyciIsIm9iaiIsImFyciIsImZpbHRlck5vZGVzIiwiUGFnaW5hdGlvbkJ0biIsInRleHQiLCJpdGVtQ2xhc3MiLCJhY3RpdmUiLCJkaXNhYmxlZCIsImNoYW5nZVBhZ2UiLCJQYWdpT3ZlcnZpZXciLCJwYWdlcyIsIlBhZ2lRdWlja0dvIiwicGFnZUlucHV0IiwiaW5wdXRDaGFuZ2UiLCJxdWlja0dvIiwibmV4dFBhZ2UiLCJzZXRBY3RpdmVQYWdlIiwibWluIiwibWF4IiwiUGFnaU1haW4iLCJwYWdlSXRlbXMiLCJnZXRQYWdlSXRlbXMiLCJhY3RpdmVQYWdlIiwic2VsZWN0ZWQiLCJoYW5kbGVJdGVtQ2xpY2siLCJsaXN0IiwiYiIsImJhc2VQYWdlcyIsIm0iLCJtaWRQYWdlcyIsInAiLCJfZ2V0U2VyaWVzTnVtYmVyIiwiY29uY2F0Iiwic3RhcnQiLCJzZXJpZXMiLCJzdGFydEJsb2NrIiwiZW5kQmxvY2siLCJmaXJzdCIsInByZXYiLCJuZXh0IiwibGFzdCIsIlBhZ2luYXRpb24iLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJudW1iZXIiLCJlbGxpcHNpcyIsImNvbnNvbGUiLCJsb2ciLCJwYWdpQ2xhc3MiLCJTcGlubmVyIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJMZWZ0Q29sb3IiLCJQcm9ncmVzc0JhciIsInJhdGUiLCJkb25lIiwic3BlZWQiLCJzcGlubmVyIiwiZWFzaW5nIiwibWF4UmF0ZSIsImluY1N0ZXAiLCJtaW5TdGVwIiwibWF4U3RlcCIsInRyaWNrbGUiLCJ0cmlja2xlU3BlZWQiLCJzZXRUcmlja2xlIiwiX2luaXQiLCJzZXQiLCJfYXV0b0luYyIsIl9mb3JtYXQiLCJpbmMiLCJuZXdSYXRlIiwic2V0VGltZW91dCIsInByb3MiLCJwYXJzZUZsb2F0IiwidGltZXIiLCJfY2xlYXJJbnRlcnZhbCIsInJhbmRvbSIsInNldEludGVydmFsIiwiX2dldFJhZG9tU3RlcCIsImNsZWFySW50ZXJ2YWwiLCJNYXRoIiwicHJvZ3Jlc3NTdHlsZSIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwiYmFyU3R5bGUiLCJib3hTaGFkb3dDb2xvciIsIlRvb2xUaXAiLCJ0aXAiLCJ0cmlnZ2VyIiwiZGVsYXkiLCJob3ZlcmFibGUiLCJwb3NpdGlvbiIsImFIcmVmIiwiaXNBY3RpdmUiLCJpc09uVGlwIiwidGlwSGVpZ2h0IiwiaGFuZGxlTW91c2VPdmVyIiwiaGFuZGxlTW91c2VPdXQiLCJoYW5kbGVUaXBNb3VzZU92ZXIiLCJoYW5kbGVUaXBNb3VzZU91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNldFRpcFBvc2l0aW9uIiwicmVmcyIsImZsYWciLCJvZmZzZXRIZWlnaHQiLCJ0aXBXaWR0aCIsIm9mZnNldFdpZHRoIiwiY29udFdpZHRoIiwiY29udEhlaWdodCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJoZWlnaHQiLCJwcmV2ZXJ0VGlwT3ZlcmZsb3ciLCJ0aXBYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYXZhaWxXaWR0aCIsImRvY3VtZW50IiwiYm9keSIsImNsaWVudFdpZHRoIiwiZ2V0VGlwU3R5bGUiLCJyZWYiLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VPdXQiXSwibWFwcGluZ3MiOiJBQUNBLEdBQUlBLGFBQUFDLE1BQUFDLGFBQWlDQyxZQUFBLGNBQ2pDQyxnQkFBaUIsV0FDYixPQUNJQyxXQUFZLEtBQ1pDLFlBQVksSUFHcEJDLGVBQWdCLFdBQ1pDLEtBQUtDLFVBQVVILFlBQWFFLEtBQUtFLE1BQU1KLGNBRTNDSyxvQkFBcUIsU0FBU0MsR0FDMUJKLEtBQUtDLFVBQVVKLFdBQVlPLEVBQVNOLFlBQVksSUFDN0NFLEtBQUtLLE1BQU1DLFNBQ1ZOLEtBQUtLLE1BQU1DLFFBQVFGLElBRzNCRyxPQUFRLFdBQ0osTUFDSWQsT0FBQWUsY0FBQSxPQUFJQyxVQUFDLGVBQ0RoQixNQUFBZSxjQUFDRSxtQkFBaUJDLGNBQUNYLEtBQWVFLE1BQUtKLFdBQWdCYyxRQUFFWixLQUFTRCxnQkFDN0RDLEtBQUtFLE1BQU1MLFdBQVdHLEtBQUtFLE1BQU1MLFdBQVdHLEtBQUtLLE1BQU1RLGNBRTNEYixLQUFLRSxNQUFNSixXQUNSTCxNQUFBZSxjQUFDTSxhQUFXQyxZQUFDZixLQUFhSyxNQUFLVSxZQUFpQkYsYUFBRWIsS0FBY0ssTUFBS1EsYUFBTVYsb0JBQWNILEtBQW1CRyxzQkFDM0csU0FRakJPLGtCQUFBakIsTUFBQUMsYUFBdUNDLFlBQUEsb0JBQ3ZDcUIsWUFBYSxXQUNUaEIsS0FBS0ssTUFBTU8sV0FFZkwsT0FBUSxXQUNKLE1BQ0lkLE9BQUFlLGNBQUEsVUFBT0MsVUFBQyxvQkFBVUcs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S0MsVUFBQyxXQUFXVCxLQUFXRSxNQUFLdVYsVUFDN0JoVyxNQUFBZSxjQUFBLEtBQUVnTCxLQUFDeEwsS0FBTUssTUFBS3FWLE1BQVc2QixJQUFFLE9BQUlDLFlBQU94WCxLQUFXOFYsZ0JBQU8yQixXQUFpQnpYLEtBQUErVixlQUFpQm5WLFFBQWdCWixLQUFBZ0IsYUFBY2hCLEtBQUFLLE1BQWNZLFVBQ3RJeEIsTUFBQWUsY0FBQSxPQUFJZ1gsWUFBQ3hYLEtBQWFnVyxtQkFBdUJ5QixXQUFFelgsS0FBWWlXLGtCQUFLeFYsVUFBbUIsTUFBVThXLElBQUEsTUFBUzdTLE1BQUMxRSxLQUFNc1gsZUFBWXRYLEtBQVdLLE1BQUtnVixNQUk3SCxVQUFqQnJWLEtBQUtLLE1BQU1tSCxLQUVOL0gsTUFBQWUsY0FBQSxRQUFLQyxVQUFDLFdBQVdULEtBQVdFLE1BQUt1VixVQUM3QmhXLE1BQUFlLGNBQUEsVUFBTytXLElBQUMsT0FBSUMsWUFBT3hYLEtBQWE4VixnQkFBSzJCLFdBQWlCelgsS0FBVStWLGVBQU9uVixRQUFnQlosS0FBQWdCLGFBQWNoQixLQUFhSyxNQUFDWSxVQUNuSHhCLE1BQUFlLGNBQUEsT0FBSWdYLFlBQUN4WCxLQUFhZ1csbUJBQXVCeUIsV0FBRXpYLEtBQVlpVyxrQkFBS3hWLFVBQW1CLE1BQVU4VyxJQUFBLE1BQVM3UyxNQUFDMUUsS0FBTXNYLGVBQVl0WCxLQUFXSyxNQUFLZ1YsTUFKakoiLCJmaWxlIjoiQ2hhcm0tVUkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDmlbTkvZPnu4Tku7ZcbnZhciBBZGRyZXNzTGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbm93QWRkcmVzczogbnVsbCxcbiAgICAgICAgICAgIGlzV3JhcFNob3c6IGZhbHNlXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBoYW5kbGVCdG5DbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzV3JhcFNob3c6ICF0aGlzLnN0YXRlLmlzV3JhcFNob3d9KTtcbiAgICB9LFxuICAgIGhhbmRsZVNlbGVjdEFkZHJlc3M6IGZ1bmN0aW9uKHNlbGVjdEN0KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe25vd0FkZHJlc3M6IHNlbGVjdEN0LGlzV3JhcFNob3c6IGZhbHNlfSk7XG4gICAgICAgIGlmKHRoaXMucHJvcHMuc2V0Q2l0eSkge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5zZXRDaXR5KHNlbGVjdEN0KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RcIj5cbiAgICAgICAgICAgICAgICA8QWRkcmVzc0Ryb3BCdXR0b24gdHJpYW5nbGVTdGF0ZT17dGhpcy5zdGF0ZS5pc1dyYXBTaG93fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUJ0bkNsaWNrfT5cbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubm93QWRkcmVzcz90aGlzLnN0YXRlLm5vd0FkZHJlc3M6dGhpcy5wcm9wcy5sb2NhbEFkZHJlc3N9XG4gICAgICAgICAgICAgICAgPC9BZGRyZXNzRHJvcEJ1dHRvbj5cbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc1dyYXBTaG93P1xuICAgICAgICAgICAgICAgICAgICA8QWRkcmVzc1dyYXAgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGxvY2FsQWRkcmVzcz17dGhpcy5wcm9wcy5sb2NhbEFkZHJlc3N9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMuaGFuZGxlU2VsZWN0QWRkcmVzc30vPlxuICAgICAgICAgICAgICAgICAgICA6bnVsbFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDkuIvmi4nmjInpkq5cbnZhciBBZGRyZXNzRHJvcEJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25DbGljaygpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiQWRkcmVzc0Ryb3BCdXR0b25cIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5cbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widHJpYW5nbGUgXCIrdGhpcy5wcm9wcy50cmlhbmdsZVN0YXRlfT48L3NwYW4+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5Zyw5Z2A5pON5L2c5qGG5a655ZmoXG52YXIgQWRkcmVzc1dyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc1dyYXBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NDb250XCI+XG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzTG9jYXRpb24gbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSAvPlxuICAgICAgICAgICAgICAgICAgICA8QWRkcmVzc1NlYXJjaElucHV0IGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IC8+XG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzTGlzdFdyYXAgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDlrprkvY3lvZPliY3lnLDlnYBcbnZhciBBZGRyZXNzTG9jYXRpb24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3ModGhpcy5wcm9wcy5sb2NhbEFkZHJlc3MpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xvY2F0aW9uXCI+XG4gICAgICAgICAgICAgICAg54yc5L2g5Zyo77yaPHNwYW4gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn0pO1xuXG4vLyDlnLDlnYDmkJzntKJcbnZhciBBZGRyZXNzU2VhcmNoSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJlc3VsdDogW10sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBoYW5kbGVSZXN1bHRDbGljazogZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgYWRkcmVzcyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YScpO1xuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3MoYWRkcmVzcyk7XG4gICAgfSxcbiAgICBoYW5kbGVTZWFyY2g6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHZhciBjb250ID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICB2YXIgbGVuID0gY29udC5sZW5ndGg7XG4gICAgICAgIHZhciBhZGRyZXNzRGF0YSA9IHRoaXMucHJvcHMuYWRkcmVzc0RhdGE7XG4gICAgICAgIC8vIOWIpOaWreaYr+axieWtl+i/mOaYr+aLvOmfs1xuICAgICAgICB2YXIgcmVnPS9eW1xcdTRFMDAtXFx1OUZBNV0rJC87XG4gICAgICAgIGlmKHJlZy50ZXN0KGNvbnQpKSB7XG4gICAgICAgICAgICAvLyDmmK/msYnlrZflpITnkIZcbiAgICAgICAgICAgIHZhciBfcmVzdWx0SCA9IFtdO1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICAgICAgZm9yKHZhciBrZXlIIGluIGFkZHJlc3NEYXRhKSB7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBrZXlIUyBpbiBhZGRyZXNzRGF0YVtrZXlIXSkge1xuICAgICAgICAgICAgICAgICAgICBpZihhZGRyZXNzRGF0YVtrZXlIXVtrZXlIU10uY2l0eS5zdWJzdHJpbmcoMCxsZW4pID09IGNvbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHRIW2pdICA9IGFkZHJlc3NEYXRhW2tleUhdW2tleUhTXS5jaXR5O1xuICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cmVzdWx0OiBfcmVzdWx0SH0pO1xuICAgICAgICAgICAgcmV0dXJuIDtcbiAgICAgICAgfVxuICAgICAgICAvLyDmmK/mi7zpn7NcbiAgICAgICAgdmFyIEZMID0gY29udC5zdWJzdHJpbmcoMCwxKS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xuICAgICAgICB2YXIgcmVzdWx0RkwgPSBhZGRyZXNzRGF0YVtGTF07XG4gICAgICAgIHZhciBfcmVzdWx0ID0gW107XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gcmVzdWx0RkwpIHtcbiAgICAgICAgICAgIGlmKGtleS5zdWJzdHJpbmcoMCxsZW4pID09IGNvbnQudG9Mb2NhbGVMb3dlckNhc2UoKSkge1xuICAgICAgICAgICAgICAgIF9yZXN1bHRbaV0gID0gcmVzdWx0Rkxba2V5XS5jaXR5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdDogX3Jlc3VsdH0pO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9oYW5kbGVSZXN1bHRDbGljayA9IHRoaXMuaGFuZGxlUmVzdWx0Q2xpY2s7XG4gICAgICAgIHZhciByZXN1bHROb2RlcyA9IHRoaXMuc3RhdGUucmVzdWx0Lm1hcChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxsaSBkYXRhPXtyZXN1bHR9IG9uQ2xpY2s9e19oYW5kbGVSZXN1bHRDbGlja30+e3Jlc3VsdH08L2xpPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NTZWFyY2hcIj5cbiAgICAgICAgICAgICAgICDnm7TmjqXmkJzntKJcbiAgICAgICAgICAgICAgICA8aW5wdXQgb25DaGFuZ2U9e3RoaXMuaGFuZGxlU2VhcmNofSBwbGFjZWhvbGRlcj1cIuivt+i+k+WFpeWfjuW4guWQjVwiIC8+XG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIkFkZHJlc3NTZWFyY2hSZXN1bHRcIj5cbiAgICAgICAgICAgICAgICAgICAge3Jlc3VsdE5vZGVzfVxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5Zyw5Z2A5YiX6KGo5a655ZmoXG52YXIgQWRkcmVzc0xpc3RXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhZGRyZXNzRGF0YSA9IHRoaXMucHJvcHMuYWRkcmVzc0RhdGE7XG4gICAgICAgIHZhciBoYW5kbGVTZWxlY3RBZGRyZXNzID0gdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzO1xuICAgICAgICB2YXIgcm93Tm9kZXMgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICB2YXIgY29udCA9IFtdO1xuICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnRbaV0gID0gPEFkZHJlc3NMaXN0Um93IGtleT17a2V5fSBrZXlEYXRhPXtrZXl9IGRhdGE9e2RhdGFba2V5XX0gaGFuZGxlU2VsZWN0QWRkcmVzcz17aGFuZGxlU2VsZWN0QWRkcmVzc30gLz47XG4gICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XG4gICAgICAgIH0oYWRkcmVzc0RhdGEpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFdyYXBcIj5cbiAgICAgICAgICAgICAgICB7cm93Tm9kZXN9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcblxuLy8g5Zyw5Z2A5YiX6KGo6KGMXG52YXIgQWRkcmVzc0xpc3RSb3cgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIGFkZHJlc3MgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEnKTtcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzKGFkZHJlc3MpO1xuICAgIH0sXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGhhbmRsZUNsaWNrID0gdGhpcy5oYW5kbGVDbGljaztcbiAgICAgICAgdmFyIGRhdGFOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBjb250ID0gW107XG4gICAgICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29udFtpXSAgPSA8c3BhbiBrZXk9e1wicFwiK2tleX0+PHNwYW4gZGF0YT17ZGF0YVtrZXldLmNpdHl9IGtleT17aX0gIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfSA+e2RhdGFba2V5XS5jaXR5fTwvc3Bhbj48L3NwYW4+O1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjb250O1xuICAgICAgICB9KHRoaXMucHJvcHMuZGF0YSk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0Um93XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwia2V5RGF0YVwiPnt0aGlzLnByb3BzLmtleURhdGF9PC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRhdGFXcmFwXCI+e2RhdGFOb2Rlc308L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0J1xuXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vICBJbmNsdWRlOiBBZGRyZXNzTGlzdCBBZGRyZXNzU2VhcmNoXG4vL1xuLy8gIFRPRE86XG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxudmFyIEFkZHJlc3NQaWNrZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCIsXG4gICAgICBjdXJyZW50Q2l0eTogbnVsbCxcbiAgICAgIGFkZHJlc3M6IHRoaXMucHJvcHMua2V5d29yZFxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBteUNpdHkgPSBuZXcgQk1hcC5Mb2NhbENpdHkoKTtcbiAgICBteUNpdHlcbiAgICAgIC5nZXQoZnVuY3Rpb24ocmVzKSB7XG4gICAgICAgIHZhciBjdXJyZW50Q2l0eSA9IHJlcy5uYW1lO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGN1cnJlbnRDaXR5OiBjdXJyZW50Q2l0eVxuICAgICAgICB9KTtcbiAgICAgIH0uYmluZCh0aGlzKSk7XG4gIH0sXG4gIHNldEFkZHJlc3M6IGZ1bmN0aW9uKGFkKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhZGRyZXNzOiBhZFxuICAgIH0pO1xuICB9LFxuICBzZXRDaXR5OiBmdW5jdGlvbihjdCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY2l0eTogY3RcbiAgICB9KTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlID0gdGhpcy5zdGF0ZS5hZGRyZXNzXG4gICAgICA/IHRoaXMucHJvcHMuYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlXG4gICAgICA6IHt9O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtcGlja2VyXCIgc3R5bGU9e2FkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZX0+XG4gICAgICAgIDxBZGRyZXNzTGlzdCBzZXRDaXR5PXt0aGlzLnNldENpdHl9IGxvY2FsQWRkcmVzcz17dGhpcy5zdGF0ZS5jdXJyZW50Q2l0eX0gYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9Lz5cbiAgICAgICAgPEFkZHJlc3NJbnB1dCB7Li4udGhpcy5wcm9wc30gY2l0eT17dGhpcy5zdGF0ZS5jaXR5fSBzZWFyY2hTdWJtaXRIYW5kbGVyPXt0aGlzLnNldEFkZHJlc3N9Lz5cbiAgICAgICAgPEFkZHJlc3NNYXAgYWRkcmVzc0tleXdvcmQ9e3RoaXMuc3RhdGUuYWRkcmVzc30gY2l0eT17dGhpcy5wcm9wcy5jaXR5fSB0aGVtZT17dGhpcy5wcm9wcy50aGVtZX0gLz5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyAgSW5jbHVkZTogQWRkcmVzc0lucHV0IEFkZHJlc3NNYXBcclxuLy9cclxuLy8gIFRPRE86IFthZGRdIOWinuWKoOWQhOmhueWPguaVsFxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXG4vKiBBZGRyZXNzU2VhcmNoICovXG52YXIgQWRkcmVzc1NlYXJjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYWRkcmVzczogbnVsbFxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlucHV0V2lkdGg6IDQwMCxcbiAgICAgIGlucHV0VGlwOiBcIui+k+WFpeaDs+imgeaQnOe0oueahOWcsOWdgFwiLFxuICAgICAgc2VhcmNoQnRuVGV4dDogXCLmkJzntKJcIixcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCIsXG4gICAgICB0aGVtZTogXCJkYXJrXCJcbiAgICB9XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIG15Q2l0eSA9IG5ldyBCTWFwLkxvY2FsQ2l0eSgpO1xuICAgIG15Q2l0eVxuICAgICAgLmdldChmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRDaXR5ID0gcmVzLm5hbWU7XG4gICAgICAgIHRoaXMuc2V0Q2l0eShjdXJyZW50Q2l0eSk7XG4gICAgICB9LmJpbmQodGhpcykpO1xuICB9LFxuICBzZXRBZGRyZXNzOiBmdW5jdGlvbihhZCkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYWRkcmVzczogYWRcbiAgICB9KTtcbiAgfSxcbiAgc2V0Q2l0eTogZnVuY3Rpb24oY3QpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGNpdHk6IGN0XG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1zZWFyY2hcIj5cbiAgICAgICAgPEFkZHJlc3NJbnB1dCB7Li4udGhpcy5wcm9wc30gc2VhcmNoU3VibWl0SGFuZGxlcj17dGhpcy5zZXRBZGRyZXNzfSAvPlxuICAgICAgICA8QWRkcmVzc01hcCBhZGRyZXNzS2V5d29yZD17dGhpcy5zdGF0ZS5hZGRyZXNzfSBjaXR5PXt0aGlzLnByb3BzLmNpdHl9IHRoZW1lPXt0aGlzLnByb3BzLnRoZW1lfSAvPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIEFkZHJlc3NJbnB1dCAqL1xudmFyIEFkZHJlc3NJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAga2V5d29yZDogdGhpcy5wcm9wcy5rZXl3b3JkXG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaW5wdXRXaWR0aDogNDAwLFxuICAgICAgaW5wdXRUaXA6IFwi6L6T5YWl5oOz6KaB5pCc57Si55qE5Zyw5Z2AXCIsXG4gICAgICBzZWFyY2hCdG5UZXh0OiBcIuaQnOe0olwiLFxuICAgICAgY2l0eTogXCLljJfkuqxcIixcbiAgICAgIHRoZW1lOiBcImxpZ2h0XCJcbiAgICB9XG4gIH0sXG4gIHNlYXJjaFN1Ym1pdDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGtleXdvcmQgPSB0aGlzLmdldERPTU5vZGUoKVxuICAgICAgLmNoaWxkcmVuWzBdXG4gICAgICAudmFsdWU7XG4gICAgdGhpcy5wcm9wc1xuICAgICAgLnNlYXJjaFN1Ym1pdEhhbmRsZXIoa2V5d29yZCk7XG4gICAgc2V0Q29va2llKCdzZWFyY2hLZXl3b3JkJywga2V5d29yZCwgMzApO1xuICB9LFxuICBjaGVja0VudGVyOiBmdW5jdGlvbihlKSB7XG4gICAgKGUua2V5Q29kZSA9PT0gMTMpICYmIHRoaXMuc2VhcmNoU3VibWl0KCk7XG4gIH0sXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbWFwQXV0b0NvbXBsZXRlID0gbmV3IEJNYXAuQXV0b2NvbXBsZXRlKHtcbiAgICAgIFwiaW5wdXRcIjogXCJfYWRkcmVzc1NlYXJjaEtleXdvcmRcIixcbiAgICAgIFwibG9jYXRpb25cIjogdGhpcy5wcm9wcy5jaXR5XG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGtleXdvcmRTdHlsZSA9IHtcbiAgICAgIHdpZHRoOiB0aGlzLnByb3BzLmlucHV0V2lkdGhcbiAgICB9O1xuICAgIHZhciBjb25DbGFzc05hbWUgPSBcImFkZHJlc3MtaW5wdXRcIjtcbiAgICBzd2l0Y2ggKHRoaXMucHJvcHMudGhlbWUpIHtcbiAgICBjYXNlICdsaWdodCcgOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGFyaycgOlxuICAgICAgY29uQ2xhc3NOYW1lICs9IFwiIGRhcmtcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQgOlxuXG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y29uQ2xhc3NOYW1lfT5cbiAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImlucHV0LWtleXdvcmRcIiBpZD1cIl9hZGRyZXNzU2VhcmNoS2V5d29yZFwiIG9uS2V5VXA9e3RoaXMuY2hlY2tFbnRlcn0gcGxhY2Vob2xkZXI9e3RoaXMuc3RhdGUua2V5d29yZCB8fCB0aGlzLnByb3BzLmlucHV0VGlwfSBzdHlsZT17a2V5d29yZFN0eWxlfT48L2lucHV0PlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImlucHV0LWNvbW1pdFwiIG9uQ2xpY2s9e3RoaXMuc2VhcmNoU3VibWl0fT57dGhpcy5wcm9wcy5zZWFyY2hCdG5UZXh0fTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIEFkZHJlc3NNYXAgKi9cbnZhciBBZGRyZXNzTWFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXBMb2NhbE9iajogbnVsbCxcbiAgICAgIGl0ZW1zTnVtYmVyOiAwLFxuICAgICAgaXRlbXNMaXN0OiBbXSxcbiAgICAgIGl0ZW1BY3RpdmU6IDBcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBtYXBTZWFyY2hnZW90YWJsZUlkOiAxMjE3NjMsXG4gICAgICBtYXBTZWFyY2hUYWdzOiBcIlwiLFxuICAgICAgbWFwU2VhcmNoRmlsdGVyOiBcIlwiLFxuICAgICAgdGhlbWU6IFwibGlnaHRcIlxuICAgIH1cbiAgfSxcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubWFwID0gbmV3IEJNYXAuTWFwKFwiX2FkZHJlc3NNYXBNYWluXCIsIHtcbiAgICAgIGVuYWJsZU1hcENsaWNrOiBmYWxzZVxuICAgIH0pO1xuICAgIHRoaXMubWFwXG4gICAgICAuY2VudGVyQW5kWm9vbSh0aGlzLnByb3BzLmNpdHksIDEyKTtcbiAgfSxcbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24obmV4dFByb3BzKSB7XG4gICAgbmV4dFByb3BzLmFkZHJlc3NLZXl3b3JkICYmIHRoaXMuZ2V0TmVhcmJ5KG5leHRQcm9wcy5hZGRyZXNzS2V5d29yZCk7XG4gIH0sXG4gIGdldE5lYXJieTogZnVuY3Rpb24oa2V5d29yZCwgcGFnZSkge1xuICAgIC8vIOWcsOWdgOino+aekOiOt+WPlue7j+e6rOW6plxyXG4gICAgdmFyIG15R2VvID0gbmV3IEJNYXAuR2VvY29kZXIoKTtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIG15R2VvXG4gICAgICAuZ2V0UG9pbnQoa2V5d29yZCwgZnVuY3Rpb24ocG9pbnQpIHsgLy8g6Kej5p6Q5oiQ5Yqf5ZCO55qE5Zue6LCDIOaQnOe0ouS/oeaBr1xyXG4gICAgICAgIGlmIChwb2ludCkge1xuICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiAnZ2V0JyxcbiAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9hcGkubWFwLmJhaWR1LmNvbS9nZW9zZWFyY2gvdjMvbmVhcmJ5JyxcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25wXCIsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGFrOiAnc2RwOXFDYlRvUzdFMjNuRFJ4YUFBd2JoJyxcbiAgICAgICAgICAgICAgZ2VvdGFibGVfaWQ6IDEyMTc2MyxcbiAgICAgICAgICAgICAgbG9jYXRpb246IHBvaW50LmxuZyArICcsJyArIHBvaW50LmxhdCxcbiAgICAgICAgICAgICAgcmFkaXVzOiAxMDAwMCxcbiAgICAgICAgICAgICAgcGFnZV9pbmRleDogcGFnZSB8fCAwLFxuICAgICAgICAgICAgICBwYWdlX3NpemU6IDUwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAganNvbnA6ICdjYWxsYmFjaycsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgIGl0ZW1zTnVtYmVyOiByZXMudG90YWwsXG4gICAgICAgICAgICAgICAgaXRlbXNMaXN0OiByZXMuY29udGVudHNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIF90aGlzLnNob3dOZWFyYnkoKTtcbiAgICAgICAgICAgICAgX3RoaXMubWFwXG4gICAgICAgICAgICAgICAgLmNlbnRlckFuZFpvb20oX3RoaXMucHJvcHMuYWRkcmVzc0tleXdvcmQsIDEyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsZXJ0KFwi5pyq5om+5Yiw6K+l5Yy65Z+f5L+h5oGvXCIpO1xuICAgICAgICB9XG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuY2l0eSk7XG4gIH0sXG4gIHNob3dOZWFyYnk6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgZm9yICh2YXIgayBpbiB0aGlzLnN0YXRlLml0ZW1zTGlzdCkge1xuICAgICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQodGhpcy5zdGF0ZS5pdGVtc0xpc3Rba10ubG9jYXRpb25bMF0sIHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLmxvY2F0aW9uWzFdKTtcbiAgICAgIHZhciBtYXJrZXIgPSBuZXcgQk1hcC5NYXJrZXIocG9pbnQpO1xuICAgICAgdmFyIGxhYmVsID0gbmV3IEJNYXAuTGFiZWwoU3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIHBhcnNlSW50KGspKSwge1xuICAgICAgICBvZmZzZXQ6IG5ldyBCTWFwLlNpemUoNCwgMilcbiAgICAgIH0pO1xuICAgICAgbGFiZWwuc2V0U3R5bGUoe1xuICAgICAgICBib3JkZXI6ICdub25lJyxcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICBjb2xvcjogJyNGQUZBRkEnXG4gICAgICB9KTtcbiAgICAgIG1hcmtlci5zZXRMYWJlbChsYWJlbCk7XG4gICAgICBtYXJrZXIuc2V0VGl0bGUodGhpcy5zdGF0ZS5pdGVtc0xpc3Rba10udGl0bGUpO1xuICAgICAgbWFya2VyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICBfdGhpcy5zaG93SW5mb1dpbmRvdyh0aGlzLmdldExhYmVsKCkuY29udGVudC5jaGFyQ29kZUF0KDApIC0gNjUpO1xuICAgICAgICB9KTtcbiAgICAgIHRoaXMubWFwXG4gICAgICAgIC5hZGRPdmVybGF5KG1hcmtlcik7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuaXRlbXNMaXN0Lmxlbmd0aCAmJiB0aGlzLnNob3dJbmZvV2luZG93KDApO1xuICB9LFxuICBzaG93SW5mb1dpbmRvdzogZnVuY3Rpb24oaW5kZXgpIHtcbiAgICBpZiAoaW5kZXggIT09IHRoaXMuc3RhdGUuaXRlbUFjdGl2ZSB8fCAxKSB7XG4gICAgICB2YXIgcG9pbnQgPSBuZXcgQk1hcC5Qb2ludCh0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF0ubG9jYXRpb25bMF0sIHRoaXMuc3RhdGUuaXRlbXNMaXN0W2luZGV4XS5sb2NhdGlvblsxXSk7XG4gICAgICB2YXIgaXRlbUluZm8gPSB0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF07XG4gICAgICB2YXIgdGl0bGUgPSBpdGVtSW5mby50aXRsZTtcbiAgICAgIHZhciBhZGRyZXNzID0gaXRlbUluZm8uYWRkcmVzcztcbiAgICAgIHZhciB0ZWwgPSBpdGVtSW5mby50ZWw7XG4gICAgICB2YXIgY29udGVudCA9ICc8cCBjbGFzcz1cIm1hcC1pbmZvLXdpbmRvd1wiPuWcsOWdgO+8micgKyBhZGRyZXNzICsgJzwvcD4nO1xuICAgICAgdmFyIGluZm9XaW5kb3cgPSBuZXcgQk1hcC5JbmZvV2luZG93KGNvbnRlbnQsIHtcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICB3aWR0aDogMjkwLFxuICAgICAgICBwYW5lbDogXCJwYW5lbFwiLFxuICAgICAgICBlbmFibGVBdXRvUGFuOiB0cnVlLFxuICAgICAgICBvZmZzZXQ6IG5ldyBCTWFwLlNpemUoMCwgLTI1KVxuICAgICAgfSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgaXRlbUFjdGl2ZTogKyBpbmRleFxuICAgICAgfSk7XG4gICAgICB0aGlzLm1hcFxuICAgICAgICAub3BlbkluZm9XaW5kb3coaW5mb1dpbmRvdywgcG9pbnQpO1xuICAgIH1cbiAgfSxcbiAgY2xpY2tNYXBJdGVtOiBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGVsZSA9IGUudGFyZ2V0O1xuICAgIHZhciBlbGVDbGFzcyA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgdmFyIGl0ZW1JbmRleCA9IDA7XG4gICAgaWYgKGVsZUNsYXNzID09PSBcIm1hcC1pdGVtXCIpIHtcbiAgICAgIGl0ZW1JbmRleCA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XG4gICAgfSBlbHNlIGlmIChlbGVDbGFzcyA9PT0gXCJtYXAtaXRlbS1tYXJrXCIgfHwgZWxlQ2xhc3MgPT09IFwibWFwLWl0ZW0tbWFpblwiKSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH0gZWxzZSBpZiAoIWVsZUNsYXNzKSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxuICAgICAgICAucGFyZW50Tm9kZVxuICAgICAgICAucGFyZW50Tm9kZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxuICAgICAgICAucGFyZW50Tm9kZVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xuICAgIH1cbiAgICB0aGlzLnNob3dJbmZvV2luZG93KGl0ZW1JbmRleCk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGNvbkNsYXNzTmFtZSA9IFwiYWRkcmVzcy1tYXBcIjtcbiAgICBzd2l0Y2ggKHRoaXMucHJvcHMudGhlbWUpIHtcbiAgICBjYXNlICdsaWdodCcgOlxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGFyaycgOlxuICAgICAgY29uQ2xhc3NOYW1lICs9IFwiIGRhcmtcIjtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQgOlxuXG4gICAgfVxuICAgIHZhciBtYXBJdGVtQWN0aWVTdHlsZSA9IHtcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMTgxMjExXCJcbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y29uQ2xhc3NOYW1lfSBzdHlsZT17e1xuICAgICAgICBkaXNwbGF5OiB0aGlzLnByb3BzLmFkZHJlc3NLZXl3b3JkXG4gICAgICAgICAgPyBcImJsb2NrXCJcbiAgICAgICAgICA6IFwibm9uZVwiXG4gICAgICB9fT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbmF2XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbmF2LXRpdGxlXCI+XG4gICAgICAgICAgICDpmYTov5HmnIlcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hcC1uYXYtbnVtYmVyXCI+XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLml0ZW1zTnVtYmVyfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAg5a625L2T6aqM5bqXXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm1hcC1pdGVtc1wiIGlkPVwiX2FkZHJlc3NNYXBJdGVtc1wiIG9uQ2xpY2s9e3RoaXMuY2xpY2tNYXBJdGVtfT5cbiAgICAgICAgICAgIHt0aGlzXG4gICAgICAgICAgICAgIC5zdGF0ZVxuICAgICAgICAgICAgICAuaXRlbXNMaXN0XG4gICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cIm1hcC1pdGVtXCIgZGF0YS1rZXk9e2l9IGtleT17aX0gc3R5bGU9eyhpID09PSB0aGlzLnN0YXRlLml0ZW1BY3RpdmUpXG4gICAgICAgICAgICAgICAgICA/IG1hcEl0ZW1BY3RpZVN0eWxlXG4gICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgIHt9fT5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm1hcC1pdGVtLW1hcmtcIj57U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGkpfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tbWFpblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLXRpdGxlXCI+e2l0ZW0udGl0bGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tYWRkcmVzc1wiPuWcsOWdgO+8mntpdGVtLmFkZHJlc3N9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tdGVsXCI+55S16K+d77yae2l0ZW0udGVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9saT47XG4gICAgICAgICAgICAgIH0uYmluZCh0aGlzKSl9XG4gICAgICAgICAgPC91bD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW1haW5cIiBpZD1cIl9hZGRyZXNzTWFwTWFpblwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG4iLCJcbi8qIEZpbHRlckdyb3VwICovXG5cbi8qIOavj+adoei/h+a7pOWZqOeahOavj+S4qumAiemhuSAqL1xudmFyIEZpbHRlck9wdGlvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvblZhbHVlID0gdGhpcy5wcm9wcy52YWx1ZTtcbiAgICB2YXIgc2VsZWN0ID0gdGhpcy5wcm9wcy5vblNlbGVjdC5iaW5kKG51bGwsIG9wdGlvblZhbHVlKTtcbiAgICB2YXIgb3B0aW9uRWxlbWVudDtcbiAgICB2YXIgb3B0aW9uVmFsdWVFbGVtZW50ID0gPHNwYW4+e29wdGlvblZhbHVlLnZhbHVlfTwvc3Bhbj47XG4gICAgaWYgKHRoaXMucHJvcHMuaXNNdWx0aVNlbGVjdCkge1xuICAgICAgb3B0aW9uRWxlbWVudCA9IChcbiAgICAgICAgPGxhYmVsIGhyZWY9XCIjXCIgaHRtbEZvcj17b3B0aW9uVmFsdWUubmFtZX0+XG4gICAgICAgICAgPGlucHV0IG9uQ2xpY2s9e3NlbGVjdH0gdHlwZT1cImNoZWNrYm94XCIgbmFtZT17b3B0aW9uVmFsdWUubmFtZX0gdmFsdWU9e29wdGlvblZhbHVlLnZhbHVlfSBpZD17b3B0aW9uVmFsdWUudmFsdWV9IC8+XG4gICAgICAgICAge29wdGlvblZhbHVlRWxlbWVudH1cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgICk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgb3B0aW9uRWxlbWVudCA9IChcbiAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXtzZWxlY3R9PlxuICAgICAgICAgIHtvcHRpb25WYWx1ZUVsZW1lbnR9XG4gICAgICAgIDwvYT5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBvcHRpb25FbGVtZW50O1xuICB9XG59KTtcblxuLyog5q+P5p2h6L+H5ruk5Zmo55qE6aKd5aSW5pON5L2cICovXG52YXIgRmlsdGVyQWN0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWx0ZXItYWN0aW9uXCI+XG4gICAgICAgIDxhIHN0eWxlPXt7ZGlzcGxheTogdGhpcy5wcm9wcy5tdWx0aVRvZ2dsZVN0YXR1cyA/ICdpbmxpbmUnIDogJ25vbmUnfX1cbiAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm11bHRpVG9nZ2xlfSBocmVmPVwiI1wiIGNsYXNzTmFtZT1cIm11bHRpLXRvZ2dsZVwiPuWkmumAiTwvYT5cbiAgICAgICAgPGEgb25DbGljaz17dGhpcy5wcm9wcy5leHBhbmRUb2dnbGV9IGhyZWY9XCIjXCI+XG4gICAgICAgICAge3RoaXMucHJvcHMuZXhwYW5kVG9nZ2xlU3RhdHVzID8gJ+abtOWkmicgOiAn5pS26LW3J31cbiAgICAgICAgPC9hPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIOeKtuaAgeagh+etviAqL1xudmFyIEZpbHRlclN0YXRlVGFnID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICByZW5kZXI6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGFnVmFsdWVOb2RlcztcbiAgICB2YXIgY3VyclN0YXRlVmFsdWVzID0gIEFycmF5LmlzQXJyYXkodGhpcy5wcm9wcy52YWx1ZSkgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnZhbHVlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgW3RoaXMucHJvcHMudmFsdWVdO1xuICAgIHRhZ1ZhbHVlTm9kZXMgPSBjdXJyU3RhdGVWYWx1ZXMubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgsIHZhbHVlcykge1xuICAgICAgaWYgKHRoaXMucHJvcHMudHJlZVZpZXcpIHtcbiAgICAgICAgLy8gc3RhdGUg5Li6IHRyZWVWaWV3XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPHNwYW4ga2V5PXtpbmRleH0+XG4gICAgICAgICAgICB7dmFsdWUudmFsdWV9Jm5ic3A7XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0YWctcmVtb3ZlXCI+XG4gICAgICAgICAgICAgIDxhIG9uQ2xpY2s9e3RoaXMucHJvcHMub25UYWdSZW1vdmUuYmluZChudWxsLCB2YWx1ZSl9IGhyZWY9XCIjXCI+JnRpbWVzOzwvYT5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaW5kZXggPT0gdmFsdWVzLmxlbmd0aCAtIDEgP1xuICAgICAgICAgICAgICAgIG51bGwgOlxuICAgICAgICAgICAgICAgICg8c3Bhbj4mZ3Q7PC9zcGFuPilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICAvLyBzdGF0ZSDkuI3mmK8gdHJlZVZpZXcg5L2G5Y+v6IO95Li65aSa6YCJ54q25oCBXG4gICAgICBpZiAoaW5kZXggPT0gdmFsdWVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8c3BhbiBrZXk9e2luZGV4fT5cbiAgICAgICAgICAgIHt2YWx1ZS52YWx1ZX0mbmJzcDtcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRhZy1yZW1vdmVcIj5cbiAgICAgICAgICAgICAgPGEgb25DbGljaz17dGhpcy5wcm9wcy5vblRhZ1JlbW92ZS5iaW5kKG51bGwsIHZhbHVlKX0gaHJlZj1cIiNcIj4mdGltZXM7PC9hPlxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxzcGFuIGtleT17aW5kZXh9PlxuICAgICAgICAgICAge3ZhbHVlLnZhbHVlICsgJywnfSZuYnNwO1xuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmlsdGVyLXRhZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRhZy1uYW1lXCI+e3RoaXMucHJvcHMubmFtZSArICc6J30mbmJzcDs8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YWctdmFsdWVcIj5cbiAgICAgICAgICB7dGFnVmFsdWVOb2Rlc31cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59KTtcblxuLyog54q25oCB5qCH562+5qCPICovXG52YXIgRmlsdGVyU3RhdGVCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBmaWx0ZXJTdGF0ZSA9IHRoaXMucHJvcHMuZmlsdGVyU3RhdGU7XG4gICAgdmFyIHN0YXRlVGFnTm9kZXMgPSBPYmplY3Qua2V5cyhmaWx0ZXJTdGF0ZSlcbiAgICAgIC5tYXAoZnVuY3Rpb24gKGZpZWxkLCBpbmRleCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBmaWx0ZXJTdGF0ZVtmaWVsZF07XG4gICAgICAgIHZhciBkZWYgPSB0aGlzLnByb3BzLmdldEZpbHRlckRlZihmaWVsZCk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPEZpbHRlclN0YXRlVGFnXG4gICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgbmFtZT17ZGVmLm5hbWV9XG4gICAgICAgICAgICB2YWx1ZT17c3RhdGV9XG4gICAgICAgICAgICB0cmVlVmlldz17ZGVmLnRyZWVWaWV3fVxuICAgICAgICAgICAgb25UYWdSZW1vdmU9e3RoaXMucHJvcHMub25TdGF0ZURlbGV0ZS5iaW5kKG51bGwsIGZpZWxkKX1cbiAgICAgICAgICAvPlxuICAgICAgICApO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWx0ZXItc3RhdGVcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXN0b20tY29udGVudFwiPlxuICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaWx0ZXItdGFnc1wiPlxuICAgICAgICAgIHtzdGF0ZVRhZ05vZGVzfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuXG4vKiDljZXmnaHov4fmu6TlmaggKi9cbnZhciBGaWx0ZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBpc011bHRpU2VsZWN0OiBmYWxzZSxcbiAgICAgIGlzRXhwYW5kZWQ6IGZhbHNlLFxuICAgICAgbXVsdGlTZWxlY3RlZDoge30gICAgLy8g5pqC5pe26KKr5aSa6YCJ5Lit55qE6YCJ6aG5XG4gICAgfTtcbiAgfSxcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbk11bHRpU2VsZWN0OiBmYWxzZSxcbiAgICAgIHRyZWVWaWV3OiBmYWxzZSxcbiAgICAgIG9wdGlvbnM6IFtdLFxuICAgIH07XG4gIH0sXG4gIG11bHRpU2VsZWN0VG9nZ2xlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBpc011bHRpU2VsZWN0OiAhdGhpcy5zdGF0ZS5pc011bHRpU2VsZWN0LFxuICAgICAgLy8g6Iul55Sx6Z2e5aSa6YCJ5Yiw5aSa6YCJ77yM5YiZ6Ieq5Yqo5bGV5byAXG4gICAgICBpc0V4cGFuZGVkOiB0aGlzLnN0YXRlLmlzTXVsdGlTZWxlY3QgPyBmYWxzZSA6IHRydWVcbiAgICB9KTtcbiAgfSxcbiAgZXhwYW5kVG9nZ2xlOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAvLyDoi6XnlLHlsZXlvIDliLDmlLbotbfvvIzliJnlj5bmtojlpJrpgInnirbmgIFcbiAgICAgIGlzTXVsdGlTZWxlY3Q6IHRoaXMuc3RhdGUuaXNFeHBhbmRlZCA/IGZhbHNlIDogdGhpcy5zdGF0ZS5pc011bHRpU2VsZWN0LFxuICAgICAgaXNFeHBhbmRlZDogIXRoaXMuc3RhdGUuaXNFeHBhbmRlZFxuICAgIH0pO1xuICB9LFxuICAvLyDnlKjkuo7mm7TmlrDmmoLml7booqvlpJrpgInkuK3nmoTpgInpobnnirbmgIFcbiAgdXBkYXRlTXVsdGlTZWxlY3RlZDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdmFyIG11bHRpU2VsZWN0ZWQgPSB0aGlzLnN0YXRlLm11bHRpU2VsZWN0ZWQ7XG4gICAgbXVsdGlTZWxlY3RlZFt2YWx1ZS52YWx1ZV0gP1xuICAgICAgbXVsdGlTZWxlY3RlZFt2YWx1ZS52YWx1ZV0gPSBudWxsIDpcbiAgICAgIG11bHRpU2VsZWN0ZWRbdmFsdWUudmFsdWVdID0gdmFsdWU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7bXVsdGlTZWxlY3RlZDogbXVsdGlTZWxlY3RlZH0pO1xuICB9LFxuICAvLyDnoa7orqTlpJrpgInnmoTnirbmgIFcbiAgY29uZmlybU11bHRpU2VsZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGVjdGVkT2JqID0gdGhpcy5zdGF0ZS5tdWx0aVNlbGVjdGVkO1xuICAgIHZhciBzZWxlY3RlZEFyciA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBzZWxlY3RlZE9iaikge1xuICAgICAgaWYgKHNlbGVjdGVkT2JqLmhhc093blByb3BlcnR5KGtleSkgJiYgc2VsZWN0ZWRPYmpba2V5XSkge1xuICAgICAgICBzZWxlY3RlZEFyci5wdXNoKHNlbGVjdGVkT2JqW2tleV0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnByb3BzLm9uU2VsZWN0T3B0aW9uKHNlbGVjdGVkQXJyKTtcbiAgICAvLyDmuIXnqbrlpJrpgInmmoLlrZhcbiAgICB0aGlzLnNldFN0YXRlKHttdWx0aVNlbGVjdGVkOiB7fX0pO1xuICAgIC8vIOWPlua2iOWkmumAieeKtuaAgVxuICAgIHRoaXMubXVsdGlTZWxlY3RUb2dnbGUoKTtcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhbmRsZVNlbGVjdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgaWYgKCF0aGlzLnN0YXRlLmlzTXVsdGlTZWxlY3QpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdE9wdGlvbih2YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMudXBkYXRlTXVsdGlTZWxlY3RlZCh2YWx1ZSk7XG4gICAgfS5iaW5kKHRoaXMpO1xuICAgIHZhciBvcHRpb25Ob2RlcyA9IHRoaXMucHJvcHMub3B0aW9ucy5tYXAoZnVuY3Rpb24gKG9wdGlvbiwgaW5kZXgpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaSBrZXk9e2luZGV4fSBjbGFzc05hbWU9XCJmaWx0ZXItaXRlbVwiPlxuICAgICAgICAgIDxGaWx0ZXJPcHRpb24gdmFsdWU9e29wdGlvbn0gb25TZWxlY3Q9e2hhbmRsZVNlbGVjdH0gaXNNdWx0aVNlbGVjdD17dGhpcy5zdGF0ZS5pc011bHRpU2VsZWN0fSAvPlxuICAgICAgICA8L2xpPlxuICAgICAgKTtcbiAgICB9LmJpbmQodGhpcykpO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtcImZpbHRlclwiICsgKHRoaXMuc3RhdGUuaXNFeHBhbmRlZCA/IFwiIGV4cGFuZGVkXCIgOiBcIlwiKX0+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZFwiPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmaWx0ZXItbmFtZVwiPnt0aGlzLnByb3BzLm5hbWV9PC9oND5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib2R5XCI+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImZpbHRlci1pdGVtc1wiPlxuICAgICAgICAgICAge29wdGlvbk5vZGVzfVxuICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7ZGlzcGxheTogdGhpcy5zdGF0ZS5pc011bHRpU2VsZWN0ID8gJ2Jsb2NrJyA6ICdub25lJ319XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm11bHRpLWNvbmZpcm1cIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuLWNvbmZpcm1cIiBvbkNsaWNrPXt0aGlzLmNvbmZpcm1NdWx0aVNlbGVjdH0gdHlwZT1cImJ1dHRvblwiIG5hbWU9XCJjb25maXJtXCI+56Gu5a6aPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0bi1jYW5jZWxcIiB0eXBlPVwiYnV0dG9uXCIgbmFtZT1cImNhbmNlbFwiIG9uQ2xpY2s9e3RoaXMubXVsdGlTZWxlY3RUb2dnbGV9PuWPlua2iDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvb3RcIj5cbiAgICAgICAgICA8RmlsdGVyQWN0aW9uXG4gICAgICAgICAgICBtdWx0aVRvZ2dsZVN0YXR1cz17dGhpcy5wcm9wcy5jYW5NdWx0aVNlbGVjdCAmJlxuICAgICAgICAgICAgICAhdGhpcy5zdGF0ZS5pc011bHRpU2VsZWN0fVxuICAgICAgICAgICAgZXhwYW5kVG9nZ2xlU3RhdHVzPXshdGhpcy5zdGF0ZS5pc0V4cGFuZGVkfVxuICAgICAgICAgICAgbXVsdGlUb2dnbGU9e3RoaXMubXVsdGlTZWxlY3RUb2dnbGV9XG4gICAgICAgICAgICBleHBhbmRUb2dnbGU9e3RoaXMuZXhwYW5kVG9nZ2xlfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIOi/h+a7pOWZqOe7hO+8jOacgOWkluWxgue7hOS7tiAqL1xuLyoqXG4gKiBbcHJvcHNdXG4gKiBmaWx0ZXJEZWZzXG4gKiBmaWx0ZXJWYWx1ZXNcbiAqL1xudmFyIEZpbHRlckdyb3VwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmlsdGVyVmFsdWVzOiB0aGlzLnByb3BzLmZpbHRlclZhbHVlcyxcbiAgICAgIGZpbHRlclN0YXRlOiB7fVxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB7XG4gICAgICBmaWx0ZXJWYWx1ZXM6IHt9LFxuICAgICAgb25TdGF0ZUNoYW5nZTogZnVuY3Rpb24gKCkge31cbiAgICB9O1xuICB9LFxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24gKCkge1xuICAgIHZhciBkZWZzID0gdGhpcy5wcm9wcy5maWx0ZXJEZWZzXG4gICAgICAucmVkdWNlKGZ1bmN0aW9uIChkZWZzLCBmaWx0ZXJEZWYpIHtcbiAgICAgICAgZGVmc1tmaWx0ZXJEZWYuZmllbGRdID0gZmlsdGVyRGVmO1xuICAgICAgICByZXR1cm4gZGVmcztcbiAgICAgIH0sIHt9KTtcbiAgICB0aGlzLnNldFN0YXRlKHtkZWZJbmRleDogZGVmc30pO1xuICB9LFxuICBzZXRGaWx0ZXJTdGF0ZTogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgaWYgKCF0aGlzLmlzU2FtZVN0YXRlKHRoaXMuc3RhdGUuZmlsdGVyU3RhdGUsIHN0YXRlKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7ZmlsdGVyU3RhdGU6IHN0YXRlfSk7XG4gICAgfVxuICAgIC8vIHRoaXMucHJvcHMub25TdGF0ZUNoYW5nZSh0aGlzLnN0YXRlLmZpbHRlclN0YXRlKTtcbiAgfSxcbiAgYWRkRmlsdGVyU3RhdGU6IGZ1bmN0aW9uIChmaWVsZCwgdmFsdWUpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgdmFyIGRlZnMgPSB0aGF0LnN0YXRlLmRlZkluZGV4O1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUuZmlsdGVyU3RhdGU7XG4gICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcbiAgICB2YXIgaGFzVmFsdWUgPSAhIXN0YXRlW2ZpZWxkXTtcblxuICAgIGlmIChkZWZzW2ZpZWxkXS50cmVlVmlldykge1xuICAgICAgdmFyIGluZGV4T2ZUcmVlID0gaGFzVmFsdWUgP1xuICAgICAgICB0aGF0LmZpbmRJbmRleChzdGF0ZVtmaWVsZF0sIHZhbHVlKSA6XG4gICAgICAgIC0xO1xuICAgICAgLy8g5Yik5pat5b2T5YmN54K55Ye755qE5ZKM5LiK5LiA5Liq6YCJ6aG55piv5ZCm5piv5ZCM5LiA5Liq5bGC57qnXG4gICAgICB2YXIgaXNTYW1lTGV2ZWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghaGFzVmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxlbiA9IHN0YXRlW2ZpZWxkXS5sZW5ndGg7XG4gICAgICAgIHZhciBjdXJyZW50U3RhdGUgPSB0aGF0LnByb3BzLmZpbHRlclZhbHVlc1tmaWVsZF0gfHwgW107XG4gICAgICAgIHJldHVybiB0aGF0LmZpbmRJbmRleChjdXJyZW50U3RhdGUsIHZhbHVlKSA+IC0xICYmXG4gICAgICAgICAgdGhhdC5maW5kSW5kZXgoY3VycmVudFN0YXRlLCBzdGF0ZVtmaWVsZF1bbGVuIC0gMV0pID4gLTE7XG4gICAgICB9O1xuICAgICAgLy8g5b2T5LiA5byA5aeL5rKh5pyJ5YC85oiW54K55Ye755qE5LiN5piv5pyA5ZCO5LiA5Liq5bGC57qn5pe277yM5qCH6K6w54q25oCB5Li65pS55Y+YXG4gICAgICBjaGFuZ2VkID0gIWhhc1ZhbHVlIHx8IChpbmRleE9mVHJlZSAhPSBzdGF0ZVtmaWVsZF0ubGVuZ3RoIC0gMSk7XG4gICAgICBpZiAoY2hhbmdlZCkge1xuICAgICAgICBzdGF0ZVtmaWVsZF0gPSBzdGF0ZVtmaWVsZF0gfHwgW107XG4gICAgICAgIC8vIOWmguaenOW3suacieatpOWxgue6p+eahOmAiemhue+8jOebtOaOpeWumuS9jeWIsOatpOWxgue6p1xuICAgICAgICBpZiAoaW5kZXhPZlRyZWUgPj0gMCkge1xuICAgICAgICAgIHN0YXRlW2ZpZWxkXSA9IHN0YXRlW2ZpZWxkXS5zbGljZSgwLCBpbmRleE9mVHJlZSArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIC8vIOW9k+S4i+S4gOWxgue6p+eahOmAiemhuei/mOacquWKoOi9veaXtuWPr+iDveWvueWQjOS4gOWxgue6p+eahOmAiemhueWBmuWkmuasoemAieaLqVxuICAgICAgICAgIC8vIOatpOaXtuS/neaMgeWQjOS4gOWxgue6p+mAieaLqeeahOS6kuaWpeaAp++8jOaAu+aYr+WPquiDvemAieaLqeS4gOS4qumAiemhuVxuICAgICAgICAgIGlmIChpc1NhbWVMZXZlbCgpKSB7XG4gICAgICAgICAgICBzdGF0ZVtmaWVsZF0ucG9wKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0YXRlW2ZpZWxkXS5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICAvLyDpnZ4gdHJlZVZpZXdcbiAgICAvLyDml6Dor6UgZmllbGQg5LiL55qEIHN0YXRl77yM5oiWIHZhbHVlIOWAvOS4jeebuOetie+8jOaIliB2YWx1ZSDmlbDnu4TkuI3nm7jnrYlcbiAgICBlbHNlIGlmICghaGFzVmFsdWUgfHxcbiAgICAgIHZhbHVlLnZhbHVlICE9PSBzdGF0ZVtmaWVsZF0udmFsdWUgfHxcbiAgICAgIChBcnJheS5pc0FycmF5KHZhbHVlKSAmJiAhdGhhdC5pc1NhbWVTdGF0ZSh2YWx1ZSwgc3RhdGVbZmllbGRdKSlcbiAgICApIHtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGF0LnJlbW92ZUZpbHRlclN0YXRlKGZpZWxkKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZVtmaWVsZF0gPSB2YWx1ZTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZmlyZVxuICAgIGlmIChjaGFuZ2VkKSB7XG4gICAgICB0aGF0LnNldFN0YXRlKHtmaWx0ZXJTdGF0ZTogc3RhdGV9KTtcbiAgICAgIHRoYXQucHJvcHMub25TdGF0ZUNoYW5nZSh0aGlzLnN0YXRlLmZpbHRlclN0YXRlKTtcbiAgICB9XG4gIH0sXG4gIHJlbW92ZUZpbHRlclN0YXRlOiBmdW5jdGlvbiAoZmllbGQsIHZhbHVlKSB7XG4gICAgdmFyIGRlZnMgPSB0aGlzLnN0YXRlLmRlZkluZGV4O1xuICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGUuZmlsdGVyU3RhdGU7XG4gICAgdmFyIGluZGV4T2ZUcmVlO1xuICAgIGlmIChkZWZzW2ZpZWxkXS50cmVlVmlldykge1xuICAgICAgaW5kZXhPZlRyZWUgPSB0aGlzLmZpbmRJbmRleChzdGF0ZVtmaWVsZF0sIHZhbHVlKTtcbiAgICAgIGlmIChpbmRleE9mVHJlZSA9PT0gMCkge1xuICAgICAgICBkZWxldGUgc3RhdGVbZmllbGRdO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoaW5kZXhPZlRyZWUgPiAwKSB7XG4gICAgICAgIHN0YXRlW2ZpZWxkXSA9IHN0YXRlW2ZpZWxkXS5zbGljZSgwLCBpbmRleE9mVHJlZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGVsZXRlIHN0YXRlW2ZpZWxkXTtcbiAgICB9XG5cbiAgICAvLyBmaXJlXG4gICAgdGhpcy5zZXRTdGF0ZSh7ZmlsdGVyU3RhdGU6IHN0YXRlfSk7XG4gICAgdGhpcy5wcm9wcy5vblN0YXRlQ2hhbmdlKHRoaXMuc3RhdGUuZmlsdGVyU3RhdGUpO1xuICB9LFxuICBnZXRGaWx0ZXJEZWY6IGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLmRlZkluZGV4W2ZpZWxkXTtcbiAgfSxcblxuICAvLyB1dGlsIGZuXG4gIGlzU2FtZVN0YXRlOiBmdW5jdGlvbiAobywgbikge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICBpZiAodGhhdC5pc0VtcHR5T2JqKG8pICYmICF0aGF0LmlzRW1wdHlPYmoobikgfHxcbiAgICAgICF0aGF0LmlzRW1wdHlPYmoobykgJiYgdGhhdC5pc0VtcHR5T2JqKG4pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0aGF0LmlzRW1wdHlPYmoobykgJiYgdGhhdC5pc0VtcHR5T2JqKG4pIHx8XG4gICAgICBPYmplY3Qua2V5cyhvKVxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgICAgIHJldHVybiB0aGF0LnByb3BzLmZpbHRlckRlZnMuaGFzT3duUHJvcGVydHkoZmllbGQpO1xuICAgICAgICB9KVxuICAgICAgICAuZXZlcnkoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICAgICAgaWYgKG9bZmllbGRdID09PSBuW2ZpZWxkXSB8fCBvW2ZpZWxkXS52YWx1ZSA9PT0gbltmaWVsZF0udmFsdWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9bZmllbGRdKSAmJiBBcnJheS5pc0FycmF5KG5bZmllbGRdKSkge1xuICAgICAgICAgICAgICByZXR1cm4gb1tmaWVsZF0uZXZlcnkoZnVuY3Rpb24gKG9TdGF0ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb1N0YXRlID09PSBuW2ZpZWxkXVtpbmRleF0gfHxcbiAgICAgICAgICAgICAgICAgIG9TdGF0ZS52YWx1ZSA9PT0gbltmaWVsZF1baW5kZXhdLnZhbHVlO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgfSxcbiAgaXNTYW1lVmFsdWVBcnJheTogZnVuY3Rpb24gKG9BcnIsIG5BcnIpIHtcbiAgICByZXR1cm4gb0Fyci5ldmVyeShmdW5jdGlvbiAodmFsdWUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gdmFsdWUudmFsdWUgPT09IG5BcnJbaW5kZXhdLnZhbHVlO1xuICAgIH0pO1xuICB9LFxuICBpc0VtcHR5T2JqOiBmdW5jdGlvbiAob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xuICB9LFxuICAvLyDnlKjkuo7lnKjorr7nva7kuoYgdHJlZVZpZXcg6YCJ6aG555qEIGZpbHRlciBzdGF0ZSDkuK3lr7vmib7lt7LpgInnirbmgIHkvY3nva5cbiAgZmluZEluZGV4OiBmdW5jdGlvbiAoYXJyLCB2YWx1ZSkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoYXJyW2ldLnZhbHVlID09PSB2YWx1ZS52YWx1ZSkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIHZhciBmaWx0ZXJOb2RlcyA9IHRoaXMucHJvcHMuZmlsdGVyRGVmcy5tYXAoZnVuY3Rpb24gKGRlZiwgaW5kZXgpIHtcbiAgICAgIHZhciBvcHRpb25zID0gdGhpcy5zdGF0ZS5maWx0ZXJWYWx1ZXNbZGVmLmZpZWxkXSB8fCBbXTtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxsaSBrZXk9e2luZGV4fSBzdHlsZT17e2Rpc3BsYXk6IG9wdGlvbnMubGVuZ3RoID4gMCA/ICdibG9jaycgOiAnbm9uZSd9fT5cbiAgICAgICAgICA8RmlsdGVyXG4gICAgICAgICAgICBuYW1lPXtkZWYubmFtZX1cbiAgICAgICAgICAgIGZpZWxkPXtkZWYuZmllbGR9XG4gICAgICAgICAgICBjYW5NdWx0aVNlbGVjdD17ZGVmLmNhbk11bHRpU2VsZWN0fVxuICAgICAgICAgICAgdHJlZVZpZXc9e2RlZi50cmVlVmlld31cbiAgICAgICAgICAgIG9wdGlvbnM9e29wdGlvbnN9XG4gICAgICAgICAgICBvblNlbGVjdE9wdGlvbj17dGhpcy5hZGRGaWx0ZXJTdGF0ZS5iaW5kKG51bGwsIGRlZi5maWVsZCl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9saT5cbiAgICAgICk7XG4gICAgfS5iaW5kKHRoaXMpKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LWZpbHRlci1ncm91cFwiPlxuICAgICAgICA8RmlsdGVyU3RhdGVCYXJcbiAgICAgICAgICBmaWx0ZXJTdGF0ZT17dGhpcy5zdGF0ZS5maWx0ZXJTdGF0ZX1cbiAgICAgICAgICBnZXRGaWx0ZXJEZWY9e3RoaXMuZ2V0RmlsdGVyRGVmfVxuICAgICAgICAgIG9uU3RhdGVEZWxldGU9e3RoaXMucmVtb3ZlRmlsdGVyU3RhdGV9XG4gICAgICAgID5cbiAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cbiAgICAgICAgPC9GaWx0ZXJTdGF0ZUJhcj5cbiAgICAgICAgPHVsIGNsYXNzTmFtZT1cImZpbHRlci1ncm91cFwiPlxuICAgICAgICAgIHtmaWx0ZXJOb2Rlc31cbiAgICAgICAgPC91bD5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gIENvbXBvbmVudDogUHJvZ3Jlc3NCYXJcbi8vXG4vLyAgSW5jbHVkZTogUGFnaW5hdGlvbkJ0blxuLy9cbi8vICBUT0RPOlxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qIFBhZ2luYXRpb25CdG4gKi9cbnZhciBQYWdpbmF0aW9uQnRuID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICB0ZXh0OiAxLFxuICAgICAgdHlwZTogXCJudW1cIlxuICAgIH07XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRleHQgPSAodGhpcy5wcm9wcy50eXBlID09PSAnZG90JykgPyAnLi4uJyA6IHRoaXMucHJvcHMudGV4dDtcbiAgICB2YXIgaXRlbUNsYXNzID0gdGhpcy5wcm9wcy5hY3RpdmVcbiAgICAgID8gXCJpdGVtIGFjdGl2ZVwiXG4gICAgICA6IFwiaXRlbVwiO1xuICAgIGlmKHRoaXMucHJvcHMudHlwZSAhPT0gJ251bScpIHtcbiAgICAgIGl0ZW1DbGFzcyArPSAoXCIgcGFnZSBcIiArIHRoaXMucHJvcHMudHlwZSk7XG4gICAgfVxuICAgIGlmKHRoaXMucHJvcHMuZGlzYWJsZWQpIHtcbiAgICAgIGl0ZW1DbGFzcyArPSAnIGRpc2FibGVkJztcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxsaSBjbGFzc05hbWU9e2l0ZW1DbGFzc30gb25DbGljaz17dGhpcy5wcm9wcy5jaGFuZ2VQYWdlfT5cbiAgICAgICAgPGE+e3RleHR9PC9hPlxuICAgICAgPC9saT5cbiAgICApO1xuICB9XG59KTtcblxuLyogUGFnaW5hdGlvbiBPdmVydmlldyAqL1xudmFyIFBhZ2lPdmVydmlldyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJvdmVydmlld1wiPuWFsSB7dGhpcy5wcm9wcy5wYWdlc30g6aG177yMPC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIFBhZ2luYXRpb24gUXVpY2tHbyAqL1xudmFyIFBhZ2lRdWlja0dvID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBwYWdlSW5wdXQ6IG51bGxcbiAgICB9O1xuICB9LFxuICBpbnB1dENoYW5nZTogZnVuY3Rpb24oZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgcGFnZUlucHV0OiBlLnRhcmdldC52YWx1ZVxuICAgIH0pO1xuICB9LFxuICBxdWlja0dvOiBmdW5jdGlvbigpIHtcbiAgICBpZih0aGlzLnN0YXRlLnBhZ2VJbnB1dCkge1xuICAgICAgdmFyIG5leHRQYWdlID0gK3RoaXMuc3RhdGUucGFnZUlucHV0O1xuICAgICAgbmV4dFBhZ2UgPSBuZXh0UGFnZSA8IDEgPyAxIDogbmV4dFBhZ2U7XG4gICAgICBuZXh0UGFnZSA9IG5leHRQYWdlID4gdGhpcy5wcm9wcy5wYWdlcyA/IHRoaXMucHJvcHMucGFnZXMgOiBuZXh0UGFnZTtcbiAgICAgIHRoaXMucHJvcHMuc2V0QWN0aXZlUGFnZShuZXh0UGFnZSlcbiAgICB9XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicXVpY2stZ29cIj5cbiAgICAgICAgPHNwYW4+5Yiw56ysPC9zcGFuPlxuICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiZ28tcGFnZVwiIHR5cGU9XCJudW1iZXJcIiBtaW49XCIxXCIgbWF4PXt0aGlzLnByb3BzLnBhZ2VzfSBvbkNoYW5nZT17dGhpcy5pbnB1dENoYW5nZX0gLz5cbiAgICAgICAgPHNwYW4+6aG1PC9zcGFuPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImdvLXN1Ym1pdFwiIG9uQ2xpY2s9e3RoaXMucXVpY2tHb30+56Gu6K6kPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG59KTtcblxuLyogUGFnaW5hdGlvbiBNYWluICovXG52YXIgUGFnaU1haW4gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2VJdGVtczogdGhpcy5nZXRQYWdlSXRlbXModGhpcy5wcm9wcy5hY3RpdmVQYWdlKVxuICAgIH07XG4gIH0sXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uKG5leHRQcm9wcykge1xuICAgIGlmKG5leHRQcm9wcy5hY3RpdmVQYWdlICE9PSB0aGlzLnByb3BzLmFjdGl2ZVBhZ2UpIHtcbiAgICAgIHZhciBwYWdlSXRlbXMgPSB0aGlzLmdldFBhZ2VJdGVtcyhuZXh0UHJvcHMuYWN0aXZlUGFnZSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcGFnZUl0ZW1zOiBwYWdlSXRlbXNcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wcm9wcy5zZWxlY3RlZChuZXh0UHJvcHMuYWN0aXZlUGFnZSk7XG4gICAgfVxuICB9LFxuICBoYW5kbGVJdGVtQ2xpY2s6IGZ1bmN0aW9uKHR5cGUsIHBhZ2UpIHtcbiAgICBpZiAodHlwZSA9PT0gXCJmaXJzdFwiKSB7XG4gICAgICBwYWdlID0gMTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwicHJldlwiKSB7XG4gICAgICBwYWdlID0gKHRoaXMucHJvcHMuYWN0aXZlUGFnZSA9PT0gMSkgPyAxIDogdGhpcy5wcm9wcy5hY3RpdmVQYWdlIC0gMTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibmV4dFwiKSB7XG4gICAgICBwYWdlID0gKHRoaXMucHJvcHMuYWN0aXZlUGFnZSA9PT0gdGhpcy5wcm9wcy5wYWdlcykgPyB0aGlzLnByb3BzLnBhZ2VzIDogdGhpcy5wcm9wcy5hY3RpdmVQYWdlICsgMTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFwibGFzdFwiKSB7XG4gICAgICBwYWdlID0gdGhpcy5wcm9wcy5wYWdlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcGFnZSA9IHBhZ2U7XG4gICAgfVxuICAgIGlmIChwYWdlICE9PSB0aGlzLnByb3BzLmFjdGl2ZVBhZ2UpIHtcbiAgICAgIHRoaXMucHJvcHMuc2V0QWN0aXZlUGFnZShwYWdlKTtcbiAgICB9XG4gIH0sXG4gIGdldFBhZ2VJdGVtczogZnVuY3Rpb24obikge1xuICAgIHZhciBsaXN0ID0gW107XG4gICAgdmFyIGIgPSB0aGlzLnByb3BzLmJhc2VQYWdlcztcbiAgICB2YXIgbSA9IHRoaXMucHJvcHMubWlkUGFnZXM7XG4gICAgdmFyIHAgPSB0aGlzLnByb3BzLnBhZ2VzO1xuICAgIGlmKG4gPD0gcGFyc2VJbnQobSAvIDIpICsgMSkgeyAvLyAxXG4gICAgICBsaXN0ID0gdGhpcy5fZ2V0U2VyaWVzTnVtYmVyKDEsIHAgPD0gYiArIG0gPyBwIDogbSk7XG4gICAgfSBlbHNlIGlmKChuIDw9IHBhcnNlSW50KG0gLyAyKSArIDEgKyBiKSB8fCBwIDw9IGIgKyBtKSAgeyAvLyAxJ1xuICAgICAgbGlzdCA9IHRoaXMuX2dldFNlcmllc051bWJlcigxLCBwIDw9IGIgKyBtID8gcCA6IG4gKyAyKTtcbiAgICB9IGVsc2UgaWYoKG4gPCBwIC0gcGFyc2VJbnQobSAvIDIpIC0gMSkpIHsgIC8vIDJcbiAgICAgIGxpc3QgPSB0aGlzLl9nZXRTZXJpZXNOdW1iZXIoMSwgdGhpcy5wcm9wcy5iYXNlUGFnZXMpO1xuICAgICAgbGlzdC5wdXNoKDApO1xuICAgICAgbGlzdCA9IGxpc3QuY29uY2F0KHRoaXMuX2dldFNlcmllc051bWJlcihuLTIsIG0pKTtcbiAgICAgIGlmKHAgPiBtICsgYiArIDIpIHtcbiAgICAgICAgbGlzdC5wdXNoKDApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZihuID09PSBwIC0gcGFyc2VJbnQobSAvIDIpIC0gMSkgeyAgLy8gM1xuICAgICAgbGlzdCA9IHRoaXMuX2dldFNlcmllc051bWJlcigxLCB0aGlzLnByb3BzLmJhc2VQYWdlcyk7XG4gICAgICBsaXN0LnB1c2goMCk7XG4gICAgICBsaXN0ID0gbGlzdC5jb25jYXQodGhpcy5fZ2V0U2VyaWVzTnVtYmVyKHAgLSBtLCBtICsgMSkpO1xuICAgIH0gZWxzZSB7ICAvLyA0XG4gICAgICBsaXN0ID0gdGhpcy5fZ2V0U2VyaWVzTnVtYmVyKDEsIHRoaXMucHJvcHMuYmFzZVBhZ2VzKTtcbiAgICAgIGxpc3QucHVzaCgwKTtcbiAgICAgIGxpc3QgPSBsaXN0LmNvbmNhdCh0aGlzLl9nZXRTZXJpZXNOdW1iZXIocCAtIG0gKyAxLCBtKSk7XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xuICB9LFxuICBfZ2V0U2VyaWVzTnVtYmVyOiBmdW5jdGlvbihzdGFydCwgbGVuZ3RoKSB7XG4gICAgc3RhcnQgPSBzdGFydDtcbiAgICBsZW5ndGggPSBsZW5ndGg7XG4gICAgdmFyIHNlcmllcyA9IFtdO1xuICAgIHdoaWxlKGxlbmd0aC0tKSB7XG4gICAgICBzZXJpZXMucHVzaChzdGFydCsrKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcmllcztcbiAgfSxcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc3RhcnRCbG9jayA9IFtdO1xuICAgIHZhciBlbmRCbG9jayA9IFtdO1xuICAgIGlmKHRoaXMucHJvcHMucGFnZXMgPiAwKSB7XG4gICAgICBpZih0aGlzLnByb3BzLmZpcnN0KSB7XG4gICAgICAgIHN0YXJ0QmxvY2sucHVzaCg8UGFnaW5hdGlvbkJ0biBrZXk9J2ZpcnN0JyB0ZXh0PXt0aGlzLnByb3BzLmZpcnN0fSBkaXNhYmxlZD17KHRoaXMucHJvcHMuYWN0aXZlUGFnZSA9PT0gMSkgPyB0cnVlIDogZmFsc2V9IHR5cGU9XCJwcmV2XCIgdHlwZT1cImZpcnN0XCIgY2hhbmdlUGFnZT17dGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzLCAnZmlyc3QnKX0gLz4pO1xuICAgICAgfVxuICAgICAgaWYodGhpcy5wcm9wcy5wcmV2KSB7XG4gICAgICAgIHN0YXJ0QmxvY2sucHVzaCg8UGFnaW5hdGlvbkJ0biBrZXk9J3ByZXYnIHRleHQ9e3RoaXMucHJvcHMucHJldn0gZGlzYWJsZWQ9eyh0aGlzLnByb3BzLmFjdGl2ZVBhZ2UgPT09IDEpID8gdHJ1ZSA6IGZhbHNlfSB0eXBlPVwicHJldlwiIGNoYW5nZVBhZ2U9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcywgJ3ByZXYnKX0gLz4pO1xuICAgICAgfVxuICAgICAgaWYodGhpcy5wcm9wcy5uZXh0KSB7XG4gICAgICAgIGVuZEJsb2NrLnB1c2goPFBhZ2luYXRpb25CdG4ga2V5PSduZXh0JyB0ZXh0PXt0aGlzLnByb3BzLm5leHR9IHR5cGU9XCJuZXh0XCIgZGlzYWJsZWQ9eyh0aGlzLnByb3BzLmFjdGl2ZVBhZ2UgPT09IHRoaXMucHJvcHMucGFnZXMpID8gdHJ1ZSA6IGZhbHNlfSBjaGFuZ2VQYWdlPXt0aGlzLmhhbmRsZUl0ZW1DbGljay5iaW5kKHRoaXMsICduZXh0Jyl9IC8+KTtcbiAgICAgIH1cbiAgICAgIGlmKHRoaXMucHJvcHMubGFzdCkge1xuICAgICAgICBlbmRCbG9jay5wdXNoKDxQYWdpbmF0aW9uQnRuIGtleT0nbGFzdCcgdGV4dD17dGhpcy5wcm9wcy5sYXN0fSB0eXBlPVwibGFzdFwiIGRpc2FibGVkPXsodGhpcy5wcm9wcy5hY3RpdmVQYWdlID09PSB0aGlzLnByb3BzLnBhZ2VzKSA/IHRydWUgOiBmYWxzZX0gY2hhbmdlUGFnZT17dGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzLCAnbGFzdCcpfSAvPik7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8dWwgY2xhc3NOYW1lPVwicGFnaS1tYWluXCI+XG4gICAgICAgIHtzdGFydEJsb2NrfVxuICAgICAgICB7XG4gICAgICAgICAgKHRoaXMucHJvcHMucGFnZXMgPiAwKSAmJiB0aGlzLnN0YXRlLnBhZ2VJdGVtcy5tYXAoZnVuY3Rpb24oaXRlbSwgaSkge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxQYWdpbmF0aW9uQnRuIGtleT17aX0gdGV4dD17aXRlbX0gdHlwZT17aXRlbSA/ICdudW0nIDogJ2RvdCd9IGFjdGl2ZT17KGl0ZW0gPT09IHRoaXMucHJvcHMuYWN0aXZlUGFnZSkgPyB0cnVlIDogZmFsc2V9IGNoYW5nZVBhZ2U9e2l0ZW0gPyB0aGlzLmhhbmRsZUl0ZW1DbGljay5iaW5kKHRoaXMsICdudW0nLCBpdGVtKSA6IG51bGx9IC8+XG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSlcbiAgICAgICAgfVxuICAgICAgICB7ZW5kQmxvY2t9XG4gICAgICA8L3VsPlxuICAgIClcbiAgfVxufSk7XG5cbi8qIFBhZ2luYXRpb24gKi9cbnZhciBQYWdpbmF0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xuICBwcm9wVHlwZXM6IHtcbiAgICBwYWdlczogUmVhY3QuUHJvcFR5cGVzLm51bWJlclxuICB9LFxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmVQYWdlOiB0aGlzLnByb3BzLmFjdGl2ZVBhZ2VcbiAgICB9O1xuICB9LFxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBhY3RpdmVQYWdlOiAxLCAvLyDmv4DmtLvpobXliJ3lp4vlgLxcbiAgICAgIGZpcnN0OiBudWxsLCAvLyDpppbpobUgbnVsbCB8fCBzdHJpbmdcbiAgICAgIHByZXY6IFwi5LiK5LiA6aG1XCIsIC8vIOS4iuS4gOmhtSBudWxsIHx8IHN0cmluZ1xuICAgICAgYmFzZVBhZ2VzOiAyLCAvLyBmaXJzdCBwcmV2IGJhc2UgLi4uIG1pZCAuLi4gbmV4dCBsYXN0XG4gICAgICBtaWRQYWdlczogNSwgLy8gZmlyc3QgcHJldiBiYXNlIC4uLiBtaWQgLi4uIG5leHQgbGFzdFxuICAgICAgZWxsaXBzaXM6IHRydWUsIC8vIOecgeeVpeWPtyBib29sZW5cbiAgICAgIG5leHQ6IFwi5LiL5LiA6aG1XCIsIC8vIOS4i+S4gOmhtSBudWxsIHx8IHN0cmluZ1xuICAgICAgbGFzdDogbnVsbCwgLy8g5pyr6aG1IG51bGwgfHwgc3RyaW5nXG4gICAgICB0aGVtZTogXCJsaWdodFwiLCAvLyDkuLvpophcbiAgICAgIHF1aWNrR286IGZhbHNlLCAvLyDmpoLop4jlkozlv6vpgJ/liIfmjaIgYm9vbGVuXG4gICAgICBzZWxlY3RlZDogZnVuY3Rpb24ocGFnZSkgeyAvLyDpobXnoIHliIfmjaLml7blm57osINcbiAgICAgICAgY29uc29sZS5sb2cocGFnZSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBzZXRBY3RpdmVQYWdlOiBmdW5jdGlvbihwYWdlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBhY3RpdmVQYWdlOiBwYWdlXG4gICAgfSk7XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHBhZ2lDbGFzcyA9ICh0aGlzLnByb3BzLnRoZW1lID09PSAnbGlnaHQnKSA/ICdwYWdpbmF0aW9uJyA6ICdwYWdpbmF0aW9uICcgKyB0aGlzLnByb3BzLnRoZW1lO1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17cGFnaUNsYXNzfT5cbiAgICAgICAgPFBhZ2lNYWluIHsuLi50aGlzLnByb3BzfSBhY3RpdmVQYWdlPXt0aGlzLnN0YXRlLmFjdGl2ZVBhZ2V9IHNldEFjdGl2ZVBhZ2U9e3RoaXMuc2V0QWN0aXZlUGFnZX0gLz5cbiAgICAgICAge3RoaXMucHJvcHMucXVpY2tHbyA/IDxQYWdpT3ZlcnZpZXcgcGFnZXM9e3RoaXMucHJvcHMucGFnZXN9IC8+IDogbnVsbH1cbiAgICAgICAge3RoaXMucHJvcHMucXVpY2tHbyA/IDxQYWdpUXVpY2tHbyBwYWdlcz17dGhpcy5wcm9wcy5wYWdlc30gc2V0QWN0aXZlUGFnZT17dGhpcy5zZXRBY3RpdmVQYWdlfSAvPiA6IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgKVxuICB9XG59KTtcbiIsIid1c2Ugc3RyaWN0J1xuXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vICBDb21wb25lbnQ6IFByb2dyZXNzQmFyXG4vL1xuLy8gIEluY2x1ZGU6IFNwaW5uZXJcbi8vXG4vLyAgRGVzY3JpcHRpb246IEpzeCBmb3IgUHJvZ3Jlc3NCYXJcbi8vXG4vLyAgVE9ETzogW2ZpeF0g5L+u5q2j5Yid5aeL5pe2IHRyYW5zaXRpb24g5LiN55Sf5pWI55qE6Zeu6aKYXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyogU3Bpbm5lciAqL1xudmFyIFNwaW5uZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3Utc3Bpbm5lclwiIHN0eWxlPXt7Ym9yZGVyQ29sb3I6IHRoaXMucHJvcHMuY29sb3IsYm9yZGVyTGVmdENvbG9yOiAndHJhbnNwYXJlbnQnfX0+PC9kaXY+XG4gICAgKTtcbiAgfVxufSk7XG5cbi8qIFByb2dyZXNzQmFyICovXG52YXIgUHJvZ3Jlc3NCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJhdGU6IG51bGwsXG4gICAgICBkb25lOiBmYWxzZVxuICAgIH07XG4gIH0sXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNwZWVkOiAwLjYsICAvLyDliqjnlLvpgJ/luqZcbiAgICAgIHNwaW5uZXI6IHRydWUsICAvLyDmmK/lkKbmnInlnIjlnIhcbiAgICAgIGVhc2luZzogJ2Vhc2UnLCAgLy8g5Yqo55S757yT5Yqo5puy57q/XG4gICAgICBtYXhSYXRlOiAwLjk2LCAgLy8g6L+b5bqm5p2h5pyA5aSn5a695bqmXG4gICAgICBpbmNTdGVwOiAwLjA0LCAgLy8gaW5jIOWinumVv+atpeW5hVxuICAgICAgbWluU3RlcDogMC4wMDUsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlsI/mraXluYVcbiAgICAgIG1heFN0ZXA6IDAuMDMsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlpKfmraXluYVcbiAgICAgIHRyaWNrbGU6IHRydWUsICAvLyDmmK/lkKboh6rliqjlop7plb9cbiAgICAgIHRyaWNrbGVTcGVlZDogODAwLCAgLy8g6Ieq5Yqo5aKe6ZW/55qE6Ze06ZqU5pe26Ze0XG4gICAgICBjb2xvcjogJyMwOWM0YzcnLFxuICAgICAgc2V0VHJpY2tsZTogZmFsc2UgIC8vIHNldCDlkI7mmK/lkKboh6rliqjlop7plb/vvIjmnKrlkK/nlKjvvIlcbiAgICB9O1xuICB9LFxuICBzdGFydDogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5faW5pdCgpO1xuICAgIHRoaXMuc2V0KCcwLjUlJyk7XG4gICAgdGhpcy5wcm9wcy50cmlja2xlICYmIHRoaXMuX2F1dG9JbmMoKTtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihuLCB0cmlja2xlKSB7XG4gICAgIXRyaWNrbGUgJiYgdGhpcy5faW5pdCgpO1xuICAgIG4gPSB0aGlzLl9mb3JtYXQobik7XG4gICAgaWYgKG4gPT09IDEwMCkge1xuICAgICAgLyogZG9uZSAqL1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIHJhdGU6IDEwMFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG4gPSBuID4gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXG4gICAgICAgID8gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXG4gICAgICAgIDogbjtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICByYXRlOiBuXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGluYzogZnVuY3Rpb24obikge1xuICAgIHRoaXMuX2luaXQoKTtcbiAgICB0aGlzLnByb3BzLnRyaWNrbGUgJiYgdGhpcy5fYXV0b0luYygpO1xuICAgIG4gPSBuXG4gICAgICA/IHRoaXMuX2Zvcm1hdChuKVxuICAgICAgOiB0aGlzLnByb3BzLmluY1N0ZXAgKiAxMDA7XG4gICAgdmFyIG5ld1JhdGUgPSB0aGlzLnN0YXRlLnJhdGUgKyBuO1xuICAgIHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xuICB9LFxuICBkb25lOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnNldCgnMTAwJScpO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZG9uZTogdHJ1ZVxuICAgICAgfSk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICByYXRlOiBudWxsXG4gICAgICAgIH0pO1xuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMiAqIDEwMDApO1xuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy5zcGVlZCAqIDEwMDApO1xuICB9LFxuICBfZm9ybWF0OiBmdW5jdGlvbihkYXRhKSB7ICAvLyDmoLzlvI/ljJbkuLogMC0xMDAg55qE5pW05pWwXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykgeyAgLy8gMC0xIOeahOWwj+aVsFxuICAgICAgcmV0dXJuIGRhdGEgPiAxXG4gICAgICAgID8gdGhpcy5wcm9zLm1heFJhdGUgKiAxMDBcbiAgICAgICAgOiBkYXRhICogMTAwO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7ICAvLyDnmb7liIbmr5RcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KGRhdGEpID4gMTAwXG4gICAgICAgID8gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXG4gICAgICAgIDogcGFyc2VGbG9hdChkYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfSxcbiAgX2luaXQ6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc3RhdGUuZG9uZSAmJiB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGRvbmU6IGZhbHNlXG4gICAgfSk7XG4gICAgdGhpcy50aW1lciAmJiB0aGlzLl9jbGVhckludGVydmFsKCk7XG4gIH0sXG4gIF9hdXRvSW5jOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3UmF0ZTtcbiAgICB2YXIgcmFuZG9tO1xuICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIHJhbmRvbSA9IHRoaXMuX2dldFJhZG9tU3RlcCgpO1xuICAgICAgbmV3UmF0ZSA9IHRoaXMuc3RhdGUucmF0ZSArIHJhbmRvbTtcbiAgICAgIGNvbnNvbGUubG9nKHJhbmRvbSk7XG4gICAgICBpZiAobmV3UmF0ZSA+IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMCkge1xuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApO1xuICAgICAgICB0aGlzLl9jbGVhckludGVydmFsKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKG5ld1JhdGUpO1xuICAgICAgdGhpcy5zZXQobmV3UmF0ZSArICclJywgdHJ1ZSk7XG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnRyaWNrbGVTcGVlZCk7XG4gIH0sXG4gIF9jbGVhckludGVydmFsOiBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnRpbWVyICYmIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gIH0sXG4gIF9nZXRSYWRvbVN0ZXA6IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgbWluID0gbWluIHx8IHRoaXMucHJvcHMubWluU3RlcCAqIDEwMDtcbiAgICBtYXggPSBtYXggfHwgdGhpcy5wcm9wcy5tYXhTdGVwICogMTAwO1xuICAgIHJldHVybiBNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW47XG4gIH0sXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByb2dyZXNzU3R5bGUgPSB7XG4gICAgICAvL2Rpc3BsYXk6ICghdGhpcy5zdGF0ZS5yYXRlICYmIHR5cGVvZiB0aGlzLnN0YXRlLnJhdGUgPT09ICdvYmplY3QnKSA/ICdub25lJyA6ICdibG9jaycsXG4gICAgICBvcGFjaXR5OiB0aGlzLnN0YXRlLmRvbmVcbiAgICAgICAgPyAwXG4gICAgICAgIDogMSxcbiAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5ICcgKyB0aGlzLnByb3BzLnNwZWVkICsgJ3MgJyArIHRoaXMucHJvcHMuZWFzaW5nXG4gICAgfTtcbiAgICB2YXIgYmFyU3R5bGUgPSB7XG4gICAgICB3aWR0aDogIXRoaXMuc3RhdGUucmF0ZVxuICAgICAgICA/IDBcbiAgICAgICAgOiB0aGlzLnN0YXRlLnJhdGUgKyAnJScsXG4gICAgICB0cmFuc2l0aW9uOiAnd2lkdGggJyArIHRoaXMucHJvcHMuc3BlZWQgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmcsXG4gICAgICBiYWNrZ3JvdW5kQ29sb3I6IHRoaXMucHJvcHMuY29sb3IsXG4gICAgICBib3hTaGFkb3dDb2xvcjogdGhpcy5wcm9wcy5jb2xvclxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucmF0ZVxuICAgICAgPyAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3NcIiBzdHlsZT17cHJvZ3Jlc3NTdHlsZX0+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1wcm9ncmVzcy1iYXJcIiBzdHlsZT17YmFyU3R5bGV9PjwvZGl2PlxuICAgICAgICAgIHt0aGlzLnByb3BzLnNwaW5uZXJcbiAgICAgICAgICAgID8gPFNwaW5uZXIgY29sb3I9e3RoaXMucHJvcHMuY29sb3J9IC8+XG4gICAgICAgICAgICA6IG51bGx9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKVxuICAgICAgOiBudWxsO1xuICB9XG59KTtcbiIsInZhciBUb29sVGlwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0aXA6IFwidGlwXCIsXHJcbiAgICAgICAgICAgIHRyaWdnZXI6ICdob3ZlcicsXHJcbiAgICAgICAgICAgIGRlbGF5OiAwLFxyXG4gICAgICAgICAgICBob3ZlcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJ0aXBcIixcclxuICAgICAgICAgICAgd2lkdGg6IFwiMjAwcHhcIixcclxuICAgICAgICAgICAgdHlwZTogJ3NwYW4nLFxyXG4gICAgICAgICAgICBhSHJlZjogXCIjXCJcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMucG9zaXRpb24sXHJcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNPblRpcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHRpcEhlaWdodDogXCJcIlxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImhvdmVyXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiaG92ZXJcIikge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5pc09uVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSAsIHRoaXMucHJvcHMuZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJjbGlja1wiKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoIXRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlVGlwTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy5ob3ZlcmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNPblRpcDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVUaXBNb3VzZU91dDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuaG92ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzT25UaXA6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0VGlwUG9zaXRpb24oKTtcclxuICAgIH0sXHJcbiAgICBzZXRUaXBQb3NpdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRpcCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpO1xyXG4gICAgICAgIHZhciBjb250ID0gdGhpcy5yZWZzLmNvbnQuZ2V0RE9NTm9kZSgpO1xyXG4gICAgICAgIGlmKCF0aGlzLmZsYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS50aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmZsYWcgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aXAub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIHRpcEhlaWdodCA9IHRpcC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGNvbnRXaWR0aCA9IGNvbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIGNvbnRIZWlnaHQgPSBjb250Lm9mZnNldEhlaWdodDtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjp0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aCsyMCkrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOnRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwidG9wXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5ib3R0b20gPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS50b3AgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiB0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoKzIwKStcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRpcC5zdHlsZS5oZWlnaHQgPSB0aGlzLnN0YXRlLnRpcEhlaWdodC0yMCtcInB4XCI7XHJcbiAgICAgICAgdGhpcy5wcmV2ZXJ0VGlwT3ZlcmZsb3coKTtcclxuICAgIH0sXHJcbiAgICBwcmV2ZXJ0VGlwT3ZlcmZsb3c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0aXBYID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgICB2YXIgdGlwWSA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgdGlwSGVpZ2h0ID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHZhciBhdmFpbFdpZHRoID0gcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7XHJcbiAgICAgICAgaWYodGlwWCA8IDAgJiYgdGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRpcFggPCAwKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInRvcFwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJ0b3BcIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwiYm90dG9tXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInJpZ2h0XCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInJpZ2h0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImJvdHRvbVwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJib3R0b21cIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwidG9wXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImxlZnRcIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgZ2V0VGlwU3R5bGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuc3RhdGUuaXNBY3RpdmU/XCJibG9ja1wiOlwibm9uZVwiLFxyXG4gICAgICAgICAgICBjb2xvcjogXCJwaW5rXCIsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzXCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwic3BhblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widG9vbHRpcCBcIit0aGlzLnN0YXRlLnBvc2l0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50eXBlPT1cImFcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5hSHJlZn0gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJidXR0b25cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZVRpcE1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVUaXBNb3VzZU91dH0gY2xhc3NOYW1lPVwidGlwXCIgcmVmPVwidGlwXCIgc3R5bGU9e3RoaXMuZ2V0VGlwU3R5bGUoKX0+e3RoaXMucHJvcHMudGlwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==