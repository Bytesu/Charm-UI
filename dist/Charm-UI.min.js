var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:this.props.localAddress,isWrapShow:!1,isSecondShow:!1}},getDefaultProps:function(){return{localAddress:"西安"}},secondAddressData:{},handleBtnClick:function(){this.state.isWrapShow?this.setState({isWrapShow:!1}):(this.setState({isWrapShow:!0}),this.setState({isSecondShow:!1}))},handleSelectAddress:function(t,e,s){if(this.setState({nowAddress:t}),e){var a=this.props.addressData[e],i=a[s],r=0;for(var n in i)r++;return r?(this.setState({isSecondShow:!0}),void(this.secondAddressData=i)):void this.setState({isWrapShow:!1})}this.setState({isWrapShow:!1})},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress,secondAddressData:this.secondAddressData,isSecondShow:this.state.isSecondShow}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return this.props.isSecondShow?React.createElement("div",{className:"AddressWrap"},React.createElement(AddressSecondWrap,{secondAddressData:this.props.secondAddressData})):React.createElement("div",{className:"AddressWrap"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}))}}),AddressLocation=React.createClass({displayName:"AddressLocation",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",null,"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleSearch:function(t){var e=t.target.value;console.log(e)},render:function(){return React.createElement("div",{className:"AddressSearch"},"搜索：",React.createElement("input",{onChange:this.handleSearch}))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){var t=this.props.addressData,e=this.props.handleSelectAddress,s=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement(AddressListRow,{keyData:i,data:t[i],handleSelectAddress:e}),a++;return s}(t);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",getInitialState:function(){return{}},getDefaultProps:function(){return{}},handleClick:function(t){var e=this.props.keyData,s=t.target.getAttribute("data"),a=t.target.innerHTML;this.props.handleSelectAddress(a,e,s)},render:function(){var t=this.handleClick,e=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement("span",null,React.createElement("span",{data:i,key:a,onClick:t},i)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},e))}}),AddressSecondWrap=React.createClass({displayName:"AddressSecondWrap",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){var t=this.props.secondAddressData,e=function(t){var e=[],s=0;for(var a in t)e[s]=React.createElement(AddressSecondRow,{keyData:a,data:t[a]}),s++;return e}(t);return React.createElement("div",{className:"AddressSecondWrap"},e)}}),AddressSecondRow=React.createClass({displayName:"AddressSecondRow",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){var t=function(t){var e=[],s=0;for(var a in t)e[s]=React.createElement("span",null,React.createElement("a",{data:a,key:s,href:t[a]},a)),s++;return e}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},t))}}),ScrollBar=React.createClass({displayName:"ScrollBar",getInitialState:function(){return{}},getDefaultProps:function(){return{}},render:function(){return React.createElement("div",null)}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"西安",address:null}},getDefaultProps:function(){return{}},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){var t=this.state.address?this.props.addressPickerActiveStyle:{};return console.log(t),React.createElement("div",{className:"address-picker",style:t},React.createElement(AddressList,{localAddress:this.state.city}),React.createElement(AddressInput,{city:this.state.city,searchSubmitHandler:this.setAddress}),this.state.address?React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}):null)}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"西安"}},setAddress:function(t){this.setState({address:t})},render:function(){({width:this.props.searchInput});return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,{city:this.props.city,inputTip:this.props.inputTip,inputWidth:this.props.inputWidth,searchBtnText:this.props.searchBtnText,searchSubmitHandler:this.setAddress}),this.state.address?React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}):null)}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"西安"}},searchSubmit:function(){this.props.searchSubmitHandler(this.state.keyword)},keywordChange:function(t){this.setState({keyword:t.target.value})},checkEnter:function(t){13===t.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var t={width:this.props.inputWidth};return React.createElement("div",{className:"address-input"},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onChange:this.keywordChange,onKeyUp:this.checkEnter,placeholder:this.props.inputTip,style:t}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0}},getDefaultProps:function(){return{}},componentDidMount:function(){var t=new BMap.Map("_addressMapMain");t.centerAndZoom(this.props.city);var e=new BMap.LocalSearch(t,{renderOptions:{map:t,panel:"_addressMapItems"},onSearchComplete:function(t){console.log(t.getNumPois())}.bind(this)});this.setState({mapLocalObj:e})},render:function(){return this.state.mapLocalObj&&this.state.mapLocalObj.search(this.props.addressKeyword),React.createElement("div",{className:"address-map"},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"找到",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("div",{className:"map-items",id:"_addressMapItems"})),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(t,e){!e&&this._init(),t=this._format(t),100===t?this.setState({rate:100}):(t=t>100*this.props.maxRate?100*this.props.maxRate:t,this.setState({rate:t}))},inc:function(t){this._init(),this.props.trickle&&this._autoInc(),t=t?this._format(t):100*this.props.incStep;var e=this.state.rate+t;this.set(e+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(t){return"number"==typeof t?t>1?100*this.pros.maxRate:100*t:"string"==typeof t?parseFloat(t)>100?100*this.props.maxRate:parseFloat(t):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var t,e;this.timer=setInterval(function(){return e=this._getRadomStep(),t=this.state.rate+e,console.log(e),t>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(t),void this.set(t+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(t,e){return t=t||100*this.props.minStep,e=e||100*this.props.maxStep,Math.random()*(e-t)+t},render:function(){var t={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},e={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:t},React.createElement("div",{className:"cu-progress-bar",style:e}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(t){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(t){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(t){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(t){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(t){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var t=this.refs.tip.getDOMNode(),e=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=t.offsetHeight,this.flag=1);var s=t.offsetWidth,a=t.offsetHeight,i=e.offsetWidth,r=e.offsetHeight;switch(this.state.position){case"left":t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px";break;case"right":t.style.top=-(a-r)/2+"px",t.style.left="100%";break;case"top":t.style.left=-(s-i)/2+"px",t.style.bottom="100%";break;case"bottom":t.style.left=-(s-i)/2+"px",t.style.top="100%";break;default:t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px"}t.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var t=this.refs.tip.getDOMNode().getBoundingClientRect().left,e=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>t&&t+e>s)return!0;if(0>t){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(t+e>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NQaWNrZXIvQWRkcmVzc1BpY2tlci5qc3giLCJBZGRyZXNzU2VhcmNoL0FkZHJlc3NTZWFyY2guanN4IiwiUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIuanN4IiwiVG9vbHRpcC9Ub29sdGlwLmpzeCJdLCJuYW1lcyI6WyJBZGRyZXNzTGlzdCIsIlJlYWN0IiwiY3JlYXRlQ2xhc3MiLCJkaXNwbGF5TmFtZSIsImdldEluaXRpYWxTdGF0ZSIsIm5vd0FkZHJlc3MiLCJ0aGlzIiwicHJvcHMiLCJsb2NhbEFkZHJlc3MiLCJpc1dyYXBTaG93IiwiaXNTZWNvbmRTaG93IiwiZ2V0RGVmYXVsdFByb3BzIiwic2Vjb25kQWRkcmVzc0RhdGEiLCJoYW5kbGVCdG5DbGljayIsInN0YXRlIiwic2V0U3RhdGUiLCJoYW5kbGVTZWxlY3RBZGRyZXNzIiwic2VsZWN0QWRkcmVzcyIsImtleSIsIm5hbWUiLCJkYXRhIiwiYWRkcmVzc0RhdGEiLCJzZWNvbmREYXRhIiwianNsZW5ndGgiLCJqczIiLCJyZW5kZXIiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiQWRkcmVzc0Ryb3BCdXR0b24iLCJ0cmlhbmdsZVN0YXRlIiwib25DbGljayIsIkFkZHJlc3NXcmFwIiwiaGFuZGxlQ2xpY2siLCJjaGlsZHJlbiIsIkFkZHJlc3NTZWNvbmRXcmFwIiwiQWRkcmVzc0xvY2F0aW9uIiwiQWRkcmVzc1NlYXJjaElucHV0IiwiQWRkcmVzc0xpc3RXcmFwIiwiaGFuZGxlU2VhcmNoIiwiZXZlbnQiLCJjb250IiwidGFyZ2V0IiwidmFsdWUiLCJjb25zb2xlIiwibG9nIiwib25DaGFuZ2UiLCJyb3dOb2RlcyIsImkiLCJBZGRyZXNzTGlzdFJvdyIsImtleURhdGEiLCJlIiwiZ2V0QXR0cmlidXRlIiwiaW5uZXJIVE1MIiwiZGF0YU5vZGVzIiwiQWRkcmVzc1NlY29uZFJvdyIsImhyZWYiLCJTY3JvbGxCYXIiLCJBZGRyZXNzUGlja2VyIiwiY2l0eSIsImFkZHJlc3MiLCJzZXRBZGRyZXNzIiwiYWQiLCJzZXRDaXR5IiwiY3QiLCJhZGRyZXNzUGlja2VyQWN0aXZlU3R5bGUiLCJzdHlsZSIsIkFkZHJlc3NJbnB1dCIsInNlYXJjaFN1Ym1pdEhhbmRsZXIiLCJBZGRyZXNzTWFwIiwiYWRkcmVzc0tleXdvcmQiLCJBZGRyZXNzU2VhcmNoIiwiaW5wdXRXaWR0aCIsImlucHV0VGlwIiwic2VhcmNoQnRuVGV4dCIsIndpZHRoIiwic2VhcmNoSW5wdXQiLCJrZXl3b3JkIiwic2VhcmNoU3VibWl0Iiwia2V5d29yZENoYW5nZSIsImNoZWNrRW50ZXIiLCJrZXlDb2RlIiwiY29tcG9uZW50RGlkTW91bnQiLCJCTWFwIiwiQXV0b2NvbXBsZXRlIiwiaW5wdXQiLCJsb2NhdGlvbiIsImtleXdvcmRTdHlsZSIsImlkIiwib25LZXlVcCIsInBsYWNlaG9sZGVyIiwibWFwTG9jYWxPYmoiLCJpdGVtc051bWJlciIsIm1hcCIsIk1hcCIsImNlbnRlckFuZFpvb20iLCJMb2NhbFNlYXJjaCIsInJlbmRlck9wdGlvbnMiLCJwYW5lbCIsIm9uU2VhcmNoQ29tcGxldGUiLCJnZXROdW1Qb2lzIiwiYmluZCIsInNlYXJjaCIsIlNwaW5uZXIiLCJQcm9ncmVzc0JhciIsInJhdGUiLCJkb25lIiwic3BlZWQiLCJzcGlubmVyIiwiZWFzaW5nIiwibWF4UmF0ZSIsImluY1N0ZXAiLCJtaW5TdGVwIiwibWF4U3RlcCIsInRyaWNrbGUiLCJ0cmlja2xlU3BlZWQiLCJzZXRUcmlja2xlIiwic3RhcnQiLCJfaW5pdCIsInNldCIsIl9hdXRvSW5jIiwibiIsIl9mb3JtYXQiLCJpbmMiLCJuZXdSYXRlIiwic2V0VGltZW91dCIsInByb3MiLCJwYXJzZUZsb2F0IiwidGltZXIiLCJfY2xlYXJJbnRlcnZhbCIsInJhbmRvbSIsInNldEludGVydmFsIiwiX2dldFJhZG9tU3RlcCIsImNsZWFySW50ZXJ2YWwiLCJtaW4iLCJtYXgiLCJNYXRoIiwicHJvZ3Jlc3NTdHlsZSIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwiYmFyU3R5bGUiLCJUb29sVGlwIiwidGlwIiwidHJpZ2dlciIsImRlbGF5IiwiaG92ZXJhYmxlIiwicG9zaXRpb24iLCJ0eXBlIiwiYUhyZWYiLCJpc0FjdGl2ZSIsImlzT25UaXAiLCJ0aXBIZWlnaHQiLCJoYW5kbGVNb3VzZU92ZXIiLCJoYW5kbGVNb3VzZU91dCIsImhhbmRsZVRpcE1vdXNlT3ZlciIsImhhbmRsZVRpcE1vdXNlT3V0IiwiY29tcG9uZW50RGlkVXBkYXRlIiwic2V0VGlwUG9zaXRpb24iLCJyZWZzIiwiZ2V0RE9NTm9kZSIsImZsYWciLCJvZmZzZXRIZWlnaHQiLCJ0aXBXaWR0aCIsIm9mZnNldFdpZHRoIiwiY29udFdpZHRoIiwiY29udEhlaWdodCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJoZWlnaHQiLCJwcmV2ZXJ0VGlwT3ZlcmZsb3ciLCJ0aXBYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYXZhaWxXaWR0aCIsInBhcnNlSW50IiwiZG9jdW1lbnQiLCJib2R5IiwiY2xpZW50V2lkdGgiLCJnZXRUaXBTdHlsZSIsImRpc3BsYXkiLCJjb2xvciIsImJhY2tncm91bmRDb2xvciIsInJlZiIsIm9uTW91c2VPdmVyIiwib25Nb3VzZU91dCJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBSUEsYUFBQUMsTUFBQUMsYUFBaUNDLFlBQUEsY0FDakNDLGdCQUFpQixXQUNiLE9BQ0lDLFdBQVlDLEtBQUtDLE1BQU1DLGFBQ3ZCQyxZQUFZLEVBQ1pDLGNBQWMsSUFHdEJDLGdCQUFpQixXQUNiLE9BQ0lILGFBQWMsT0FHdEJJLHFCQUdBQyxlQUFnQixXQUNSUCxLQUFLUSxNQUFNTCxXQUlYSCxLQUFLUyxVQUFVTixZQUFZLEtBSDNCSCxLQUFLUyxVQUFVTixZQUFZLElBQzNCSCxLQUFLUyxVQUFVTCxjQUFjLE1BS3JDTSxvQkFBcUIsU0FBU0MsRUFBZ0JDLEVBQU1DLEdBRWhELEdBREFiLEtBQUtTLFVBQVVWLFdBQVlZLElBQ3hCQyxFQUFL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L0gsVUFBbUIsTUFBVTBKLElBQUEsTUFBU3BILE1BQUMzRCxLQUFNMkssZUFBWTNLLEtBQVdDLE1BQUtzSSxNQUk3SCxVQUFqQnZJLEtBQUtDLE1BQU0ySSxLQUVOakosTUFBQXlCLGNBQUEsUUFBS0MsVUFBQyxXQUFXckIsS0FBV1EsTUFBS21JLFVBQzdCaEosTUFBQXlCLGNBQUEsVUFBTzJKLElBQUMsT0FBSUMsWUFBT2hMLEtBQWFpSixnQkFBS2dDLFdBQWlCakwsS0FBVWtKLGVBQU8xSCxRQUFnQnhCLEtBQUEwQixhQUFjMUIsS0FBYUMsTUFBQzBCLFVBQ25IaEMsTUFBQXlCLGNBQUEsT0FBSTRKLFlBQUNoTCxLQUFhbUosbUJBQXVCOEIsV0FBRWpMLEtBQVlvSixrQkFBSy9ILFVBQW1CLE1BQVUwSixJQUFBLE1BQVNwSCxNQUFDM0QsS0FBTTJLLGVBQVkzSyxLQUFXQyxNQUFLc0ksTUFKakoiLCJmaWxlIjoiQ2hhcm0tVUkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDmlbTkvZPnu4Tku7ZcclxudmFyIEFkZHJlc3NMaXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBub3dBZGRyZXNzOiB0aGlzLnByb3BzLmxvY2FsQWRkcmVzcyxcclxuICAgICAgICAgICAgaXNXcmFwU2hvdzogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzU2Vjb25kU2hvdzogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbG9jYWxBZGRyZXNzOiBcIuilv+WuiVwiLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgc2Vjb25kQWRkcmVzc0RhdGE6IHtcclxuXHJcbiAgICB9LFxyXG4gICAgaGFuZGxlQnRuQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmKCF0aGlzLnN0YXRlLmlzV3JhcFNob3cpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNXcmFwU2hvdzogdHJ1ZX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1NlY29uZFNob3c6IGZhbHNlfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNXcmFwU2hvdzogZmFsc2V9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlU2VsZWN0QWRkcmVzczogZnVuY3Rpb24oc2VsZWN0QWRkcmVzcyAsIGtleSAsIG5hbWUpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtub3dBZGRyZXNzOiBzZWxlY3RBZGRyZXNzfSk7XHJcbiAgICAgICAgaWYoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5wcm9wcy5hZGRyZXNzRGF0YVtrZXldO1xyXG4gICAgICAgICAgICB2YXIgc2Vjb25kRGF0YSA9IGRhdGFbbmFtZV07XHJcbiAgICAgICAgICAgIHZhciBqc2xlbmd0aD0wO1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBqczIgaW4gc2Vjb25kRGF0YSl7XHJcbiAgICAgICAgICAgICAgICBqc2xlbmd0aCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKCFqc2xlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNXcmFwU2hvdzogZmFsc2V9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNTZWNvbmRTaG93OiB0cnVlfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2Vjb25kQWRkcmVzc0RhdGEgPSBzZWNvbmREYXRhO1xyXG4gICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1dyYXBTaG93OiBmYWxzZX0pO1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgPEFkZHJlc3NEcm9wQnV0dG9uIHRyaWFuZ2xlU3RhdGU9e3RoaXMuc3RhdGUuaXNXcmFwU2hvd30gb25DbGljaz17dGhpcy5oYW5kbGVCdG5DbGlja30+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubm93QWRkcmVzc31cclxuICAgICAgICAgICAgICAgIDwvQWRkcmVzc0Ryb3BCdXR0b24+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pc1dyYXBTaG93P1xyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzV3JhcCBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0gbG9jYWxBZGRyZXNzPXt0aGlzLnByb3BzLmxvY2FsQWRkcmVzc30gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSBzZWNvbmRBZGRyZXNzRGF0YT17dGhpcy5zZWNvbmRBZGRyZXNzRGF0YX0gaXNTZWNvbmRTaG93PXt0aGlzLnN0YXRlLmlzU2Vjb25kU2hvd30vPlxyXG4gICAgICAgICAgICAgICAgICAgIDpudWxsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5LiL5ouJ5oyJ6ZKuXHJcbnZhciBBZGRyZXNzRHJvcEJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfSxcclxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfSxcclxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ2xpY2soKTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiQWRkcmVzc0Ryb3BCdXR0b25cIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRyaWFuZ2xlIFwiK3RoaXMucHJvcHMudHJpYW5nbGVTdGF0ZX0+PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOWcsOWdgOaTjeS9nOahhuWuueWZqFxyXG52YXIgQWRkcmVzc1dyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH0sXHJcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7fTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuaXNTZWNvbmRTaG93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NXcmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NTZWNvbmRXcmFwIHNlY29uZEFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLnNlY29uZEFkZHJlc3NEYXRhfS8+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzV3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgPEFkZHJlc3NMb2NhdGlvbiBsb2NhbEFkZHJlc3M9e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IC8+XHJcbiAgICAgICAgICAgICAgICA8QWRkcmVzc1NlYXJjaElucHV0IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cclxuICAgICAgICAgICAgICAgIDxBZGRyZXNzTGlzdFdyYXAgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlrprkvY3lvZPliY3lnLDlnYBcclxudmFyIEFkZHJlc3NMb2NhdGlvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcyh0aGlzLnByb3BzLmxvY2FsQWRkcmVzcyk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAg54yc5L2g5Zyo77yaPHNwYW4gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDmkJzntKJcclxudmFyIEFkZHJlc3NTZWFyY2hJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfSxcclxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICB2YXIgY29udCA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgICAgICBjb25zb2xlLmxvZyhjb250KTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc1NlYXJjaFwiPlxyXG4gICAgICAgICAgICAgICAg5pCc57Si77yaXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgb25DaGFuZ2U9e3RoaXMuaGFuZGxlU2VhcmNofSAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOWcsOWdgOWIl+ihqOWuueWZqFxyXG52YXIgQWRkcmVzc0xpc3RXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9LFxyXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgYWRkcmVzc0RhdGEgPSB0aGlzLnByb3BzLmFkZHJlc3NEYXRhO1xyXG4gICAgICAgIHZhciBoYW5kbGVTZWxlY3RBZGRyZXNzID0gdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzO1xyXG4gICAgICAgIHZhciByb3dOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb250W2ldICA9IDxBZGRyZXNzTGlzdFJvdyBrZXlEYXRhPXtrZXl9IGRhdGE9e2RhdGFba2V5XX0gaGFuZGxlU2VsZWN0QWRkcmVzcz17aGFuZGxlU2VsZWN0QWRkcmVzc30gLz47XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XHJcbiAgICAgICAgfShhZGRyZXNzRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFdyYXBcIj5cclxuICAgICAgICAgICAgICAgIHtyb3dOb2Rlc31cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDliJfooajooYxcclxudmFyIEFkZHJlc3NMaXN0Um93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciBrZXlEYXRhID0gdGhpcy5wcm9wcy5rZXlEYXRhO1xyXG4gICAgICAgIHZhciBpID0gZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdkYXRhJyk7XHJcbiAgICAgICAgdmFyIG5hbWUgPSBlLnRhcmdldC5pbm5lckhUTUw7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzKG5hbWUgLCBrZXlEYXRhICwgaSk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrO1xyXG4gICAgICAgIHZhciBkYXRhTm9kZXMgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ID0gW107XHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29udFtpXSAgPSA8c3Bhbj48c3BhbiBkYXRhPXtrZXl9IGtleT17aX0gIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfSA+e2tleX08L3NwYW4+PC9zcGFuPjtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29udDtcclxuICAgICAgICB9KHRoaXMucHJvcHMuZGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFJvd1wiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwia2V5RGF0YVwiPnt0aGlzLnByb3BzLmtleURhdGF9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZGF0YVdyYXBcIj57ZGF0YU5vZGVzfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDkuoznuqflnLDlnYDliJfooajlrrnlmahcclxudmFyIEFkZHJlc3NTZWNvbmRXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9LFxyXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge307XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgc2Vjb25kQWRkcmVzc0RhdGEgPSB0aGlzLnByb3BzLnNlY29uZEFkZHJlc3NEYXRhO1xyXG4gICAgICAgIC8vIHZhciBoYW5kbGVTZWxlY3RBZGRyZXNzID0gdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzO1xyXG4gICAgICAgIHZhciByb3dOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb250W2ldICA9IDxBZGRyZXNzU2Vjb25kUm93IGtleURhdGE9e2tleX0gZGF0YT17ZGF0YVtrZXldfSAvPjtcclxuICAgICAgICAgICAgICAgIGkrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29udDtcclxuICAgICAgICB9KHNlY29uZEFkZHJlc3NEYXRhKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NTZWNvbmRXcmFwXCI+XHJcbiAgICAgICAgICAgICAgICB7cm93Tm9kZXN9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5LqM57qn5Zyw5Z2A5YiX6KGo6KGMXHJcbnZhciBBZGRyZXNzU2Vjb25kUm93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4geyB9O1xyXG4gICAgfSxcclxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9O1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIGRhdGFOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb250W2ldICA9IDxzcGFuPjxhIGRhdGE9e2tleX0ga2V5PXtpfSBocmVmPXtkYXRhW2tleV19ID57a2V5fTwvYT48L3NwYW4+O1xyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb250O1xyXG4gICAgICAgIH0odGhpcy5wcm9wcy5kYXRhKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0Um93XCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJrZXlEYXRhXCI+e3RoaXMucHJvcHMua2V5RGF0YX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkYXRhV3JhcFwiPntkYXRhTm9kZXN9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOa7muWKqOadoee7hOS7tlxyXG52YXIgU2Nyb2xsQmFyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXY+PC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xyXG5cclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICBDb21wb25lbnQ6IEFkZHJlc3NQaWNrZXJcclxuLy9cclxuLy8gIEluY2x1ZGU6IEFkZHJlc3NMaXN0IEFkZHJlc3NTZWFyY2hcclxuLy9cclxuLy8gIERlc2NyaXB0aW9uOiAgSnN4IGZvciBBZGRyZXNzUGlja2VyXHJcbi8vXHJcbi8vICBUT0RPOlxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbnZhciBBZGRyZXNzUGlja2VyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjaXR5OiBcIuilv+WuiVwiLFxyXG4gICAgICBhZGRyZXNzOiBudWxsXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcblxyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2V0QWRkcmVzczogZnVuY3Rpb24oYWQpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBhZGRyZXNzOiBhZFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBzZXRDaXR5OiBmdW5jdGlvbihjdCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGNpdHk6IGN0XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlID0gdGhpcy5zdGF0ZS5hZGRyZXNzID8gdGhpcy5wcm9wcy5hZGRyZXNzUGlja2VyQWN0aXZlU3R5bGUgOiB7fTtcclxuICAgIGNvbnNvbGUubG9nKGFkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZSk7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtcGlja2VyXCIgc3R5bGU9e2FkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZX0+XHJcbiAgICAgICAgPEFkZHJlc3NMaXN0IGxvY2FsQWRkcmVzcz17dGhpcy5zdGF0ZS5jaXR5fS8+XHJcbiAgICAgICAgPEFkZHJlc3NJbnB1dCBjaXR5PXt0aGlzLnN0YXRlLmNpdHl9IHNlYXJjaFN1Ym1pdEhhbmRsZXI9e3RoaXMuc2V0QWRkcmVzc30gLz5cclxuICAgICAgICB7dGhpcy5zdGF0ZS5hZGRyZXNzXHJcbiAgICAgICAgICA/IDxBZGRyZXNzTWFwIGFkZHJlc3NLZXl3b3JkPXt0aGlzLnN0YXRlLmFkZHJlc3N9IGNpdHk9e3RoaXMucHJvcHMuY2l0eX0vPlxyXG4gICAgICAgICAgOiBudWxsfVxyXG4gICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xyXG5cclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICBDb21wb25lbnQ6IEFkZHJlc3NTZWFyY2hcclxuLy9cclxuLy8gIEluY2x1ZGU6IEFkZHJlc3NJbnB1dCBBZGRyZXNzTWFwXHJcbi8vXHJcbi8vICBEZXNjcmlwdGlvbjogIEpzeCBmb3IgQWRkcmVzc1NlYXJjaFxyXG4vL1xyXG4vLyAgVE9ETzogW2FkZF0g5aKe5Yqg5pi+56S65pCc57Si57uT5p6c5pWw55uuXHJcbi8vICAgICAgICBbdXBkYXRlXSDmlLnnlKggQmFpZHUgTEJT5LqRIOaOpeWPoyhbY29uZGl0aW9uXSDlkI7nq6/kuIrkvKDkv6Hmga8pXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyogQWRkcmVzc1NlYXJjaCAqL1xyXG52YXIgQWRkcmVzc1NlYXJjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYWRkcmVzczogbnVsbFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXHJcbiAgICAgIGlucHV0VGlwOiBcIui+k+WFpeaDs+imgeaQnOe0oueahOWcsOWdgFwiLFxyXG4gICAgICBzZWFyY2hCdG5UZXh0OiBcIuaQnOe0olwiLFxyXG4gICAgICBjaXR5OiBcIuilv+WuiVwiXHJcbiAgICB9XHJcbiAgfSxcclxuICBzZXRBZGRyZXNzOiBmdW5jdGlvbihhZCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFkZHJlc3M6IGFkXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIga2V5d29yZFN0eWxlID0ge1xyXG4gICAgICB3aWR0aDogdGhpcy5wcm9wcy5zZWFyY2hJbnB1dFxyXG4gICAgfVxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZGRyZXNzLXNlYXJjaFwiPlxyXG4gICAgICAgIDxBZGRyZXNzSW5wdXQgY2l0eT17dGhpcy5wcm9wcy5jaXR5fSBpbnB1dFRpcD17dGhpcy5wcm9wcy5pbnB1dFRpcH0gaW5wdXRXaWR0aD17dGhpcy5wcm9wcy5pbnB1dFdpZHRofSBzZWFyY2hCdG5UZXh0PXt0aGlzLnByb3BzLnNlYXJjaEJ0blRleHR9IHNlYXJjaFN1Ym1pdEhhbmRsZXI9e3RoaXMuc2V0QWRkcmVzc30vPlxyXG4gICAgICAgIHt0aGlzLnN0YXRlLmFkZHJlc3NcclxuICAgICAgICAgID8gPEFkZHJlc3NNYXAgYWRkcmVzc0tleXdvcmQ9e3RoaXMuc3RhdGUuYWRkcmVzc30gY2l0eT17dGhpcy5wcm9wcy5jaXR5fS8+XHJcbiAgICAgICAgICA6IG51bGx9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyogQWRkcmVzc0lucHV0ICovXHJcbnZhciBBZGRyZXNzSW5wdXQgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGtleXdvcmQ6IG51bGxcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaW5wdXRXaWR0aDogNDAwLFxyXG4gICAgICBpbnB1dFRpcDogXCLovpPlhaXmg7PopoHmkJzntKLnmoTlnLDlnYBcIixcclxuICAgICAgc2VhcmNoQnRuVGV4dDogXCLmkJzntKJcIixcclxuICAgICAgY2l0eTogXCLopb/lrolcIlxyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2VhcmNoU3VibWl0OiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMucHJvcHNcclxuICAgICAgLnNlYXJjaFN1Ym1pdEhhbmRsZXIodGhpcy5zdGF0ZS5rZXl3b3JkKTtcclxuICB9LFxyXG4gIGtleXdvcmRDaGFuZ2U6IGZ1bmN0aW9uKGUpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBrZXl3b3JkOiBlLnRhcmdldC52YWx1ZVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICBjaGVja0VudGVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAoZS5rZXlDb2RlID09PSAxMykgJiYgdGhpcy5zZWFyY2hTdWJtaXQoKTtcclxuICB9LFxyXG4gIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBtYXBBdXRvQ29tcGxldGUgPSBuZXcgQk1hcC5BdXRvY29tcGxldGUoe1xyXG4gICAgICBcImlucHV0XCI6IFwiX2FkZHJlc3NTZWFyY2hLZXl3b3JkXCIsXHJcbiAgICAgIFwibG9jYXRpb25cIjogdGhpcy5wcm9wcy5jaXR5XHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIga2V5d29yZFN0eWxlID0ge1xyXG4gICAgICB3aWR0aDogdGhpcy5wcm9wcy5pbnB1dFdpZHRoXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZGRyZXNzLWlucHV0XCI+XHJcbiAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cImlucHV0LWtleXdvcmRcIiBpZD1cIl9hZGRyZXNzU2VhcmNoS2V5d29yZFwiIG9uQ2hhbmdlPXt0aGlzLmtleXdvcmRDaGFuZ2V9IG9uS2V5VXA9e3RoaXMuY2hlY2tFbnRlcn0gcGxhY2Vob2xkZXI9e3RoaXMucHJvcHMuaW5wdXRUaXB9IHN0eWxlPXtrZXl3b3JkU3R5bGV9PjwvaW5wdXQ+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzc05hbWU9XCJpbnB1dC1jb21taXRcIiBvbkNsaWNrPXt0aGlzLnNlYXJjaFN1Ym1pdH0+e3RoaXMucHJvcHMuc2VhcmNoQnRuVGV4dH08L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKiBBZGRyZXNzTWFwICovXHJcbnZhciBBZGRyZXNzTWFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBtYXBMb2NhbE9iajogbnVsbCxcclxuICAgICAgaXRlbXNOdW1iZXI6IDBcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHt9XHJcbiAgfSxcclxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbWFwID0gbmV3IEJNYXAuTWFwKFwiX2FkZHJlc3NNYXBNYWluXCIpO1xyXG4gICAgbWFwLmNlbnRlckFuZFpvb20odGhpcy5wcm9wcy5jaXR5KTtcclxuICAgIHZhciBtYXBMb2NhbE9iaiA9IG5ldyBCTWFwLkxvY2FsU2VhcmNoKG1hcCwge1xyXG4gICAgICByZW5kZXJPcHRpb25zOiB7XHJcbiAgICAgICAgbWFwOiBtYXAsXHJcbiAgICAgICAgcGFuZWw6IFwiX2FkZHJlc3NNYXBJdGVtc1wiXHJcbiAgICAgIH0sXHJcbiAgICAgIG9uU2VhcmNoQ29tcGxldGU6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAvLyB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAvLyAgIGl0ZW1zTnVtYmVyOiBlLmdldE51bVBvaXMoKVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGUuZ2V0TnVtUG9pcygpKTtcclxuICAgICAgfS5iaW5kKHRoaXMpXHJcbiAgICB9KTtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBtYXBMb2NhbE9iajogbWFwTG9jYWxPYmpcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuc3RhdGUubWFwTG9jYWxPYmogJiYgdGhpcy5zdGF0ZVxyXG4gICAgICAubWFwTG9jYWxPYmpcclxuICAgICAgLnNlYXJjaCh0aGlzLnByb3BzLmFkZHJlc3NLZXl3b3JkKTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1tYXBcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1uYXZcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdi10aXRsZVwiPlxyXG4gICAgICAgICAgICDmib7liLBcclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWFwLW5hdi1udW1iZXJcIj5cclxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pdGVtc051bWJlcn1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICDlrrbkvZPpqozlupdcclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtaXRlbXNcIiBpZD1cIl9hZGRyZXNzTWFwSXRlbXNcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1tYWluXCIgaWQ9XCJfYWRkcmVzc01hcE1haW5cIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xyXG5cclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICBDb21wb25lbnQ6IFByb2dyZXNzQmFyXHJcbi8vXHJcbi8vICBJbmNsdWRlOiBTcGlubmVyXHJcbi8vXHJcbi8vICBEZXNjcmlwdGlvbjogSnN4IGZvciBQcm9ncmVzc0JhclxyXG4vL1xyXG4vLyAgVE9ETzogW2ZpeF0g5L+u5q2j5Yid5aeL5pe2IHRyYW5zaXRpb24g5LiN55Sf5pWI55qE6Zeu6aKYXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyogU3Bpbm5lciAqL1xyXG52YXIgU3Bpbm5lciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1zcGlubmVyXCI+PC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKiBQcm9ncmVzc0JhciAqL1xyXG52YXIgUHJvZ3Jlc3NCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJhdGU6IG51bGwsXHJcbiAgICAgIGRvbmU6IGZhbHNlXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNwZWVkOiAwLjYsICAvLyDliqjnlLvpgJ/luqZcclxuICAgICAgc3Bpbm5lcjogdHJ1ZSwgIC8vIOaYr+WQpuacieWciOWciFxyXG4gICAgICBlYXNpbmc6ICdlYXNlJywgIC8vIOWKqOeUu+e8k+WKqOabsue6v1xyXG4gICAgICBtYXhSYXRlOiAwLjk2LCAgLy8g6L+b5bqm5p2h5pyA5aSn5a695bqmXHJcbiAgICAgIGluY1N0ZXA6IDAuMDQsICAvLyBpbmMg5aKe6ZW/5q2l5bmFXHJcbiAgICAgIG1pblN0ZXA6IDAuMDA1LCAgLy8g6ZqP5py65aKe6ZW/55qE5pyA5bCP5q2l5bmFXHJcbiAgICAgIG1heFN0ZXA6IDAuMDMsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlpKfmraXluYVcclxuICAgICAgdHJpY2tsZTogdHJ1ZSwgIC8vIOaYr+WQpuiHquWKqOWinumVv1xyXG4gICAgICB0cmlja2xlU3BlZWQ6IDgwMCwgIC8vIOiHquWKqOWinumVv+eahOmXtOmalOaXtumXtFxyXG4gICAgICBzZXRUcmlja2xlOiBmYWxzZSAgLy8gc2V0IOWQjuaYr+WQpuiHquWKqOWinumVv++8iOacquWQr+eUqO+8iVxyXG4gICAgfTtcclxuICB9LFxyXG4gIHN0YXJ0OiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuX2luaXQoKTtcclxuICAgIHRoaXMuc2V0KCcwLjUlJyk7XHJcbiAgICB0aGlzLnByb3BzLnRyaWNrbGUgJiYgdGhpcy5fYXV0b0luYygpO1xyXG4gIH0sXHJcbiAgc2V0OiBmdW5jdGlvbihuLCB0cmlja2xlKSB7XHJcbiAgICAhdHJpY2tsZSAmJiB0aGlzLl9pbml0KCk7XHJcbiAgICBuID0gdGhpcy5fZm9ybWF0KG4pO1xyXG4gICAgaWYgKG4gPT09IDEwMCkge1xyXG4gICAgICAvKiBkb25lICovXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHJhdGU6IDEwMFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4gPSBuID4gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXHJcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IG47XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHJhdGU6IG5cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBpbmM6IGZ1bmN0aW9uKG4pIHtcclxuICAgIHRoaXMuX2luaXQoKTtcclxuICAgIHRoaXMucHJvcHMudHJpY2tsZSAmJiB0aGlzLl9hdXRvSW5jKCk7XHJcbiAgICBuID0gblxyXG4gICAgICA/IHRoaXMuX2Zvcm1hdChuKVxyXG4gICAgICA6IHRoaXMucHJvcHMuaW5jU3RlcCAqIDEwMDtcclxuICAgIHZhciBuZXdSYXRlID0gdGhpcy5zdGF0ZS5yYXRlICsgbjtcclxuICAgIHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xyXG4gIH0sXHJcbiAgZG9uZTogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnNldCgnMTAwJScpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgZG9uZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHJhdGU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMiAqIDEwMDApO1xyXG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMTAwMCk7XHJcbiAgfSxcclxuICBfZm9ybWF0OiBmdW5jdGlvbihkYXRhKSB7ICAvLyDmoLzlvI/ljJbkuLogMC0xMDAg55qE5pW05pWwXHJcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7ICAvLyAwLTEg55qE5bCP5pWwXHJcbiAgICAgIHJldHVybiBkYXRhID4gMVxyXG4gICAgICAgID8gdGhpcy5wcm9zLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IGRhdGEgKiAxMDA7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgeyAgLy8g55m+5YiG5q+UXHJcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KGRhdGEpID4gMTAwXHJcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IHBhcnNlRmxvYXQoZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfSxcclxuICBfaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnN0YXRlLmRvbmUgJiYgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRvbmU6IGZhbHNlXHJcbiAgICB9KTtcclxuICAgIHRoaXMudGltZXIgJiYgdGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xyXG4gIH0sXHJcbiAgX2F1dG9JbmM6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG5ld1JhdGU7XHJcbiAgICB2YXIgcmFuZG9tO1xyXG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICByYW5kb20gPSB0aGlzLl9nZXRSYWRvbVN0ZXAoKTtcclxuICAgICAgbmV3UmF0ZSA9IHRoaXMuc3RhdGUucmF0ZSArIHJhbmRvbTtcclxuICAgICAgY29uc29sZS5sb2cocmFuZG9tKTtcclxuICAgICAgaWYgKG5ld1JhdGUgPiB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApO1xyXG4gICAgICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc29sZS5sb2cobmV3UmF0ZSk7XHJcbiAgICAgIHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xyXG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnRyaWNrbGVTcGVlZCk7XHJcbiAgfSxcclxuICBfY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnRpbWVyICYmIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XHJcbiAgfSxcclxuICBfZ2V0UmFkb21TdGVwOiBmdW5jdGlvbihtaW4sIG1heCkge1xyXG4gICAgbWluID0gbWluIHx8IHRoaXMucHJvcHMubWluU3RlcCAqIDEwMDtcclxuICAgIG1heCA9IG1heCB8fCB0aGlzLnByb3BzLm1heFN0ZXAgKiAxMDA7XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBwcm9ncmVzc1N0eWxlID0ge1xyXG4gICAgICAvL2Rpc3BsYXk6ICghdGhpcy5zdGF0ZS5yYXRlICYmIHR5cGVvZiB0aGlzLnN0YXRlLnJhdGUgPT09ICdvYmplY3QnKSA/ICdub25lJyA6ICdibG9jaycsXHJcbiAgICAgIG9wYWNpdHk6IHRoaXMuc3RhdGUuZG9uZVxyXG4gICAgICAgID8gMFxyXG4gICAgICAgIDogMSxcclxuICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgJyArIHRoaXMucHJvcHMuc3BlZWQgKiAyICsgJ3MgJyArIHRoaXMucHJvcHMuZWFzaW5nXHJcbiAgICB9O1xyXG4gICAgdmFyIGJhclN0eWxlID0ge1xyXG4gICAgICB3aWR0aDogIXRoaXMuc3RhdGUucmF0ZVxyXG4gICAgICAgID8gMFxyXG4gICAgICAgIDogdGhpcy5zdGF0ZS5yYXRlICsgJyUnLFxyXG4gICAgICB0cmFuc2l0aW9uOiAnd2lkdGggJyArIHRoaXMucHJvcHMuc3BlZWQgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmdcclxuICAgIH07XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5yYXRlXHJcbiAgICAgID8gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3NcIiBzdHlsZT17cHJvZ3Jlc3NTdHlsZX0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXByb2dyZXNzLWJhclwiIHN0eWxlPXtiYXJTdHlsZX0+PC9kaXY+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5zcGlubmVyXHJcbiAgICAgICAgICAgID8gPFNwaW5uZXIvPlxyXG4gICAgICAgICAgICA6IG51bGx9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgICAgOiBudWxsO1xyXG4gIH1cclxufSk7XHJcbiIsInZhciBUb29sVGlwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0aXA6IFwidGlwXCIsXHJcbiAgICAgICAgICAgIHRyaWdnZXI6ICdob3ZlcicsXHJcbiAgICAgICAgICAgIGRlbGF5OiAwLFxyXG4gICAgICAgICAgICBob3ZlcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJ0aXBcIixcclxuICAgICAgICAgICAgd2lkdGg6IFwiMjAwcHhcIixcclxuICAgICAgICAgICAgdHlwZTogJ3NwYW4nLFxyXG4gICAgICAgICAgICBhSHJlZjogXCIjXCJcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMucG9zaXRpb24sXHJcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNPblRpcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHRpcEhlaWdodDogXCJcIlxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImhvdmVyXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiaG92ZXJcIikge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5pc09uVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSAsIHRoaXMucHJvcHMuZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJjbGlja1wiKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoIXRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlVGlwTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy5ob3ZlcmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNPblRpcDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVUaXBNb3VzZU91dDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuaG92ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzT25UaXA6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0VGlwUG9zaXRpb24oKTtcclxuICAgIH0sXHJcbiAgICBzZXRUaXBQb3NpdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRpcCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpO1xyXG4gICAgICAgIHZhciBjb250ID0gdGhpcy5yZWZzLmNvbnQuZ2V0RE9NTm9kZSgpO1xyXG4gICAgICAgIGlmKCF0aGlzLmZsYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS50aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmZsYWcgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aXAub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIHRpcEhlaWdodCA9IHRpcC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGNvbnRXaWR0aCA9IGNvbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIGNvbnRIZWlnaHQgPSBjb250Lm9mZnNldEhlaWdodDtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjp0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aCsyMCkrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOnRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwidG9wXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5ib3R0b20gPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS50b3AgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiB0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoKzIwKStcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRpcC5zdHlsZS5oZWlnaHQgPSB0aGlzLnN0YXRlLnRpcEhlaWdodC0yMCtcInB4XCI7XHJcbiAgICAgICAgdGhpcy5wcmV2ZXJ0VGlwT3ZlcmZsb3coKTtcclxuICAgIH0sXHJcbiAgICBwcmV2ZXJ0VGlwT3ZlcmZsb3c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0aXBYID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgICB2YXIgdGlwWSA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgdGlwSGVpZ2h0ID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHZhciBhdmFpbFdpZHRoID0gcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7XHJcbiAgICAgICAgaWYodGlwWCA8IDAgJiYgdGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRpcFggPCAwKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInRvcFwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJ0b3BcIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwiYm90dG9tXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInJpZ2h0XCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInJpZ2h0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImJvdHRvbVwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJib3R0b21cIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwidG9wXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImxlZnRcIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgZ2V0VGlwU3R5bGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuc3RhdGUuaXNBY3RpdmU/XCJibG9ja1wiOlwibm9uZVwiLFxyXG4gICAgICAgICAgICBjb2xvcjogXCJwaW5rXCIsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzXCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwic3BhblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widG9vbHRpcCBcIit0aGlzLnN0YXRlLnBvc2l0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50eXBlPT1cImFcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5hSHJlZn0gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJidXR0b25cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZVRpcE1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVUaXBNb3VzZU91dH0gY2xhc3NOYW1lPVwidGlwXCIgcmVmPVwidGlwXCIgc3R5bGU9e3RoaXMuZ2V0VGlwU3R5bGUoKX0+e3RoaXMucHJvcHMudGlwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==