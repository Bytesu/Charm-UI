var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:null,isWrapShow:!1}},handleBtnClick:function(){this.setState({isWrapShow:!this.state.isWrapShow})},handleSelectAddress:function(t){this.setState({nowAddress:t,isWrapShow:!1}),this.props.setCity&&this.props.setCity(t)},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress?this.state.nowAddress:this.props.localAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",render:function(){return React.createElement("div",{className:"AddressWrap"},React.createElement("div",{className:"AddressCont"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress})))}}),AddressLocation=React.createClass({displayName:"AddressLocation",handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",{className:"AddressLocation"},"当前定位：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{result:[]}},handleResultClick:function(t){var e=t.target.getAttribute("data");this.props.handleSelectAddress(e)},handleSearch:function(t){var e=t.target.value,s=e.length,a=this.props.addressData,i=/^[\u4E00-\u9FA5]+$/;if(i.test(e)){var r=[],n=0;for(var o in a)for(var c in a[o])a[o][c].city.substring(0,s)==e&&(r[n]=a[o][c].city,n++);return void this.setState({result:r})}var d=e.substring(0,1).toLocaleUpperCase(),p=a[d],l=[],h=0;for(var u in p)u.substring(0,s)==e.toLocaleLowerCase()&&(l[h]=p[u].city),h++;this.setState({result:l})},render:function(){var t=this.handleResultClick,e=this.state.result.map(function(e){return React.createElement("li",{data:e,onClick:t},e)});return React.createElement("div",{className:"AddressSearch"},"搜索：",React.createElement("input",{onChange:this.handleSearch}),React.createElement("ul",{className:"AddressSearchResult"},e))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",render:function(){var t=this.props.addressData,e=this.props.handleSelectAddress,s=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement(AddressListRow,{key:i,keyData:i,data:t[i],handleSelectAddress:e}),a++;return s}(t);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",handleClick:function(t){var e=t.target.getAttribute("data");this.props.handleSelectAddress(e)},render:function(){var t=this.handleClick,e=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement("span",{key:"p"+i},React.createElement("span",{data:e[i].city,key:a,onClick:t},e[i].city)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},e))}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"北京",currentCity:null,address:null}},getDefaultProps:function(){return{}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setState({currentCity:e})}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){var t=this.state.address?this.props.addressPickerActiveStyle:{};return React.createElement("div",{className:"address-picker",style:t},React.createElement(AddressList,{setCity:this.setCity,localAddress:this.state.currentCity,addressData:this.props.addressData}),React.createElement(AddressInput,{city:this.state.city,searchSubmitHandler:this.setAddress}),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京"}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setCity(e)}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,{city:this.props.city,inputTip:this.props.inputTip,inputWidth:this.props.inputWidth,searchBtnText:this.props.searchBtnText,searchSubmitHandler:this.setAddress}),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}))}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京"}},searchSubmit:function(){var t=this.getDOMNode().children[0].value;this.props.searchSubmitHandler(t)},checkEnter:function(t){13===t.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var t={width:this.props.inputWidth};return React.createElement("div",{className:"address-input"},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onKeyUp:this.checkEnter,placeholder:this.props.inputTip,style:t}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0,itemsList:[],itemActive:0}},getDefaultProps:function(){return{mapSearchgeotableId:121763,mapSearchTags:"",mapSearchFilter:""}},componentDidMount:function(){this.map=new BMap.Map("_addressMapMain",{enableMapClick:!1}),this.map.centerAndZoom(this.props.city,12)},componentWillReceiveProps:function(t){t.addressKeyword&&this.getNearby(t.addressKeyword)},getNearby:function(t,e){var s=new BMap.Geocoder,a=this;s.getPoint(t,function(t){t?reqwest({url:"http://api.map.baidu.com/geosearch/v3/nearby",type:"jsonp",data:{ak:"sdp9qCbToS7E23nDRxaAAwbh",geotable_id:121763,location:t.lng+","+t.lat,radius:1e4,page_index:e||0,page_size:50},jsonpCallback:"callback",success:function(t){a.setState({itemsNumber:t.total,itemsList:t.contents}),a.showNearby(),a.map.centerAndZoom(a.props.addressKeyword,12)}}):alert("未找到该区域信息")}.bind(this),this.props.city)},showNearby:function(){var t=this;for(var e in this.state.itemsList){var s=new BMap.Point(this.state.itemsList[e].location[0],this.state.itemsList[e].location[1]),a=new BMap.Marker(s),i=new BMap.Label(String.fromCharCode(65+parseInt(e)),{offset:new BMap.Size(4,2)});i.setStyle({border:"none",backgroundColor:"transparent",color:"#FAFAFA"}),a.setLabel(i),a.setTitle(this.state.itemsList[e].title),a.addEventListener("click",function(e){t.showInfoWindow(this.getLabel().content.charCodeAt(0)-65)}),this.map.addOverlay(a)}this.state.itemsList.length&&this.showInfoWindow(0)},showInfoWindow:function(t){if(t!==this.state.itemActive,!0){var e=new BMap.Point(this.state.itemsList[t].location[0],this.state.itemsList[t].location[1]),s=this.state.itemsList[t],a=s.title,i=s.address,r=(s.tel,'<p class="map-info-window">地址：'+i+'<button class="map-info-btn">进入体验店</button></p>'),n=new BMap.InfoWindow(r,{title:a,width:290,panel:"panel",enableAutoPan:!0,offset:new BMap.Size(0,-25)});this.setState({itemActive:+t}),this.map.openInfoWindow(n,e)}},clickMapItem:function(t){var e=t.target,s=e.getAttribute("class"),a=0;a="map-item"===s?e.getAttribute("data-key"):"map-item-mark"===s||"map-item-main"===s?e.parentNode.getAttribute("data-key"):s?e.parentNode.parentNode.getAttribute("data-key"):e.parentNode.parentNode.parentNode.getAttribute("data-key"),this.showInfoWindow(a)},render:function(){var t={backgroundColor:"#F0F0F0"};return React.createElement("div",{className:"address-map",style:{display:this.props.addressKeyword?"block":"none"}},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"附近有",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("ul",{className:"map-items",id:"_addressMapItems",onClick:this.clickMapItem},this.state.itemsList.map(function(e,s){return React.createElement("li",{className:"map-item","data-key":s,key:s,style:s===this.state.itemActive?t:{}},React.createElement("span",{className:"map-item-mark",style:s===this.state.itemActive?{backgroundColor:"#1bbc9b"}:{}},String.fromCharCode(65+s)),React.createElement("div",{className:"map-item-main"},React.createElement("div",{className:"map-item-title"},e.title),React.createElement("div",{className:"map-item-address"},"地址：",e.address),React.createElement("div",{className:"map-item-tel"},"电话：",e.tel)))}.bind(this)))),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(t,e){!e&&this._init(),t=this._format(t),100===t?this.setState({rate:100}):(t=t>100*this.props.maxRate?100*this.props.maxRate:t,this.setState({rate:t}))},inc:function(t){this._init(),this.props.trickle&&this._autoInc(),t=t?this._format(t):100*this.props.incStep;var e=this.state.rate+t;this.set(e+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(t){return"number"==typeof t?t>1?100*this.pros.maxRate:100*t:"string"==typeof t?parseFloat(t)>100?100*this.props.maxRate:parseFloat(t):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var t,e;this.timer=setInterval(function(){return e=this._getRadomStep(),t=this.state.rate+e,console.log(e),t>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(t),void this.set(t+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(t,e){return t=t||100*this.props.minStep,e=e||100*this.props.maxStep,Math.random()*(e-t)+t},render:function(){var t={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},e={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:t},React.createElement("div",{className:"cu-progress-bar",style:e}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(t){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(t){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(t){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(t){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(t){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var t=this.refs.tip.getDOMNode(),e=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=t.offsetHeight,this.flag=1);var s=t.offsetWidth,a=t.offsetHeight,i=e.offsetWidth,r=e.offsetHeight;switch(this.state.position){case"left":t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px";break;case"right":t.style.top=-(a-r)/2+"px",t.style.left="100%";break;case"top":t.style.left=-(s-i)/2+"px",t.style.bottom="100%";break;case"bottom":t.style.left=-(s-i)/2+"px",t.style.top="100%";break;default:t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px"}t.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var t=this.refs.tip.getDOMNode().getBoundingClientRect().left,e=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>t&&t+e>s)return!0;if(0>t){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(t+e>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NQaWNrZXIvQWRkcmVzc1BpY2tlci5qc3giLCJBZGRyZXNzU2VhcmNoL0FkZHJlc3NTZWFyY2guanN4IiwiUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIuanN4IiwiVG9vbHRpcC9Ub29sdGlwLmpzeCJdLCJuYW1lcyI6WyJBZGRyZXNzTGlzdCIsIlJlYWN0IiwiY3JlYXRlQ2xhc3MiLCJkaXNwbGF5TmFtZSIsImdldEluaXRpYWxTdGF0ZSIsIm5vd0FkZHJlc3MiLCJpc1dyYXBTaG93IiwiaGFuZGxlQnRuQ2xpY2siLCJ0aGlzIiwic2V0U3RhdGUiLCJzdGF0ZSIsImhhbmRsZVNlbGVjdEFkZHJlc3MiLCJzZWxlY3RDdCIsInByb3BzIiwic2V0Q2l0eSIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJBZGRyZXNzRHJvcEJ1dHRvbiIsInRyaWFuZ2xlU3RhdGUiLCJvbkNsaWNrIiwibG9jYWxBZGRyZXNzIiwiQWRkcmVzc1dyYXAiLCJhZGRyZXNzRGF0YSIsImhhbmRsZUNsaWNrIiwiY2hpbGRyZW4iLCJBZGRyZXNzTG9jYXRpb24iLCJBZGRyZXNzU2VhcmNoSW5wdXQiLCJBZGRyZXNzTGlzdFdyYXAiLCJyZXN1bHQiLCJoYW5kbGVSZXN1bHRDbGljayIsImUiLCJhZGRyZXNzIiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwiaGFuZGxlU2VhcmNoIiwiZXZlbnQiLCJjb250IiwidmFsdWUiLCJsZW4iLCJsZW5ndGgiLCJyZWciLCJ0ZXN0IiwiX3Jlc3VsdEgiLCJqIiwia2V5SCIsImtleUhTIiwiY2l0eSIsInN1YnN0cmluZyIsIkZMIiwidG9Mb2NhbGVVcHBlckNhc2UiLCJyZXN1bHRGTCIsIl9yZXN1bHQiLCJpIiwia2V5IiwidG9Mb2NhbGVMb3dlckNhc2UiLCJfaGFuZGxlUmVzdWx0Q2xpY2siLCJyZXN1bHROb2RlcyIsIm1hcCIsImRhdGEiLCJvbkNoYW5nZSIsInJvd05vZGVzIiwiQWRkcmVzc0xpc3RSb3ciLCJrZXlEYXRhIiwiZGF0YU5vZGVzIiwiQWRkcmVzc1BpY2tlciIsImN1cnJlbnRDaXR5IiwiZ2V0RGVmYXVsdFByb3BzIiwiY29tcG9uZW50V2lsbE1vdW50IiwibXlDaXR5IiwiQk1hcCIsIkxvY2FsQ2l0eSIsImdldCIsInJlcyIsIm5hbWUiLCJiaW5kIiwic2V0QWRkcmVzcyIsImFkIiwiY3QiLCJhZGRyZXNzUGlja2VyQWN0aXZlU3R5bGUiLCJzdHlsZSIsIkFkZHJlc3NJbnB1dCIsInNlYXJjaFN1Ym1pdEhhbmRsZXIiLCJBZGRyZXNzTWFwIiwiYWRkcmVzc0tleXdvcmQiLCJBZGRyZXNzU2VhcmNoIiwiaW5wdXRXaWR0aCIsImlucHV0VGlwIiwic2VhcmNoQnRuVGV4dCIsImtleXdvcmQiLCJzZWFyY2hTdWJtaXQiLCJnZXRET01Ob2RlIiwiY2hlY2tFbnRlciIsImtleUNvZGUiLCJjb21wb25lbnREaWRNb3VudCIsIkF1dG9jb21wbGV0ZSIsImlucHV0IiwibG9jYXRpb24iLCJrZXl3b3JkU3R5bGUiLCJ3aWR0aCIsImlkIiwib25LZXlVcCIsInBsYWNlaG9sZGVyIiwibWFwTG9jYWxPYmoiLCJpdGVtc051bWJlciIsIml0ZW1zTGlzdCIsIml0ZW1BY3RpdmUiLCJtYXBTZWFyY2hnZW90YWJsZUlkIiwibWFwU2VhcmNoVGFncyIsIm1hcFNlYXJjaEZpbHRlciIsIk1hcCIsImVuYWJsZU1hcENsaWNrIiwiY2VudGVyQW5kWm9vbSIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJnZXROZWFyYnkiLCJwYWdlIiwibXlHZW8iLCJHZW9jb2RlciIsIl90aGlzIiwiZ2V0UG9pbnQiLCJwb2ludCIsInJlcXdlc3QiLCJ1cmwiLCJ0eXBlIiwiYWsiLCJnZW90YWJsZV9pZCIsImxuZyIsImxhdCIsInJhZGl1cyIsInBhZ2VfaW5kZXgiLCJwYWdlX3NpemUiLCJqc29ucENhbGxiYWNrIiwic3VjY2VzcyIsInRvdGFsIiwiY29udGVudHMiLCJzaG93TmVhcmJ5IiwiYWxlcnQiLCJrIiwiUG9pbnQiLCJtYXJrZXIiLCJNYXJrZXIiLCJsYWJlbCIsIkxhYmVsIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwicGFyc2VJbnQiLCJvZmZzZXQiLCJTaXplIiwic2V0U3R5bGUiLCJib3JkZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsInNldExhYmVsIiwic2V0VGl0bGUiLCJ0aXRsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaG93SW5mb1dpbmRvdyIsImdldExhYmVsIiwiY29udGVudCIsImNoYXJDb2RlQXQiLCJhZGRPdmVybGF5IiwiaW5kZXgiLCJpdGVtSW5mbyIsInRlbCIsImluZm9XaW5kb3ciLCJJbmZvV2luZG93IiwicGFuZWwiLCJlbmFibGVBdXRvUGFuIiwib3BlbkluZm9XaW5kb3ciLCJjbGlja01hcEl0ZW0iLCJlbGUiLCJlbGVDbGFzcyIsIml0ZW1JbmRleCIsInBhcmVudE5vZGUiLCJtYXBJdGVtQWN0aWVTdHlsZSIsImRpc3BsYXkiLCJpdGVtIiwiZGF0YS1rZXkiLCJTcGlubmVyIiwiUHJvZ3Jlc3NCYXIiLCJyYXRlIiwiZG9uZSIsInNwZWVkIiwic3Bpbm5lciIsImVhc2luZyIsIm1heFJhdGUiLCJpbmNTdGVwIiwibWluU3RlcCIsIm1heFN0ZXAiLCJ0cmlja2xlIiwidHJpY2tsZVNwZWVkIiwic2V0VHJpY2tsZSIsInN0YXJ0IiwiX2luaXQiLCJzZXQiLCJfYXV0b0luYyIsIm4iLCJfZm9ybWF0IiwiaW5jIiwibmV3UmF0ZSIsInNldFRpbWVvdXQiLCJwcm9zIiwicGFyc2VGbG9hdCIsInRpbWVyIiwiX2NsZWFySW50ZXJ2YWwiLCJyYW5kb20iLCJzZXRJbnRlcnZhbCIsIl9nZXRSYWRvbVN0ZXAiLCJjb25zb2xlIiwibG9nIiwiY2xlYXJJbnRlcnZhbCIsIm1pbiIsIm1heCIsIk1hdGgiLCJwcm9ncmVzc1N0eWxlIiwib3BhY2l0eSIsInRyYW5zaXRpb24iLCJiYXJTdHlsZSIsIlRvb2xUaXAiLCJ0aXAiLCJ0cmlnZ2VyIiwiZGVsYXkiLCJob3ZlcmFibGUiLCJwb3NpdGlvbiIsImFIcmVmIiwiaXNBY3RpdmUiLCJpc09uVGlwIiwidGlwSGVpZ2h0IiwiaGFuZGxlTW91c2VPdmVyIiwiaGFuZGxlTW91c2VPdXQiLCJoYW5kbGVUaXBNb3VzZU92ZXIiLCJoYW5kbGVUaXBNb3VzZU91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNldFRpcFBvc2l0aW9uIiwicmVmcyIsImZsYWciLCJvZmZzZXRIZWlnaHQiLCJ0aXBXaWR0aCIsIm9mZnNldFdpZHRoIiwiY29udFdpZHRoIiwiY29udEhlaWdodCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJoZWlnaHQiLCJwcmV2ZXJ0VGlwT3ZlcmZsb3ciLCJ0aXBYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYXZhaWxXaWR0aCIsImRvY3VtZW50IiwiYm9keSIsImNsaWVudFdpZHRoIiwiZ2V0VGlwU3R5bGUiLCJyZWYiLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VPdXQiLCJocmVmIl0sIm1hcHBpbmdzIjoiQUFDQSxHQUFJQSxhQUFBQyxNQUFBQyxhQUFpQ0MsWUFBQSxjQUNqQ0MsZ0JBQWlCLFdBQ2IsT0FDSUMsV0FBWSxLQUNaQyxZQUFZLElBR3BCQyxlQUFnQixXQUNaQyxLQUFLQyxVQUFVSCxZQUFhRSxLQUFLRSxNQUFNSixjQUUzQ0ssb0JBQXFCLFNBQVNDLEdBQzFCSixLQUFLQyxVQUFVSixXQUFZTyxFQUFTTixZQUFZLElBQzdDRSxLQUFLSyxNQUFNQyxTQUNWTixLQUFLSyxNQUFNQyxRQUFRRixJQUczQkcsT0FBUSxXQUNKLE1BQ0lkLE9BQUFlLGNBQUEsT0FBSUMsVUFBQyxlQUNEaEIsTUFBQWUsY0FBQ0UsbUJBQWlCQyxjQUFDWCxLQUFlRSxNQUFLSixXQUFnQmMsUUFBRVosS0FBU0QsZ0JBQzdEQyxLQUFLRSxNQUFNTCxXQUFXRyxLQUFLRSxNQUFNTCxXQUFXRyxLQUFLSyxNQUFNUSxjQUUzRGIsS0FBS0UsTUFBTUosV0FDUkwsTUFBQWUsY0FBQ00sYUFBV0Ms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LEtBQVU4TixlQUFPbE4sUUFBZ0JaLEtBQUFnQixhQUFjaEIsS0FBYUssTUFBQ1ksVUFDbkh4QixNQUFBZSxjQUFBLE9BQUkrTyxZQUFDdlAsS0FBYStOLG1CQUF1QnlCLFdBQUV4UCxLQUFZZ08sa0JBQUt2TixVQUFtQixNQUFVNk8sSUFBQSxNQUFTOUssTUFBQ3hFLEtBQU1xUCxlQUFZclAsS0FBV0ssTUFBSytNLE1BSmpKIiwiZmlsZSI6IkNoYXJtLVVJLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8g5pW05L2T57uE5Lu2XHJcbnZhciBBZGRyZXNzTGlzdCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbm93QWRkcmVzczogbnVsbCxcclxuICAgICAgICAgICAgaXNXcmFwU2hvdzogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGhhbmRsZUJ0bkNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtpc1dyYXBTaG93OiAhdGhpcy5zdGF0ZS5pc1dyYXBTaG93fSk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlU2VsZWN0QWRkcmVzczogZnVuY3Rpb24oc2VsZWN0Q3QpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtub3dBZGRyZXNzOiBzZWxlY3RDdCxpc1dyYXBTaG93OiBmYWxzZX0pO1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuc2V0Q2l0eSkge1xyXG4gICAgICAgICAgICB0aGlzLnByb3BzLnNldENpdHkoc2VsZWN0Q3QpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RcIj5cclxuICAgICAgICAgICAgICAgIDxBZGRyZXNzRHJvcEJ1dHRvbiB0cmlhbmdsZVN0YXRlPXt0aGlzLnN0YXRlLmlzV3JhcFNob3d9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQnRuQ2xpY2t9PlxyXG4gICAgICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLm5vd0FkZHJlc3M/dGhpcy5zdGF0ZS5ub3dBZGRyZXNzOnRoaXMucHJvcHMubG9jYWxBZGRyZXNzfVxyXG4gICAgICAgICAgICAgICAgPC9BZGRyZXNzRHJvcEJ1dHRvbj5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLmlzV3JhcFNob3c/XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NXcmFwIGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfSBsb2NhbEFkZHJlc3M9e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLmhhbmRsZVNlbGVjdEFkZHJlc3N9Lz5cclxuICAgICAgICAgICAgICAgICAgICA6bnVsbFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOS4i+aLieaMiemSrlxyXG52YXIgQWRkcmVzc0Ryb3BCdXR0b24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNsaWNrKCk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cIkFkZHJlc3NEcm9wQnV0dG9uXCIgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+XHJcbiAgICAgICAgICAgICAgICB7dGhpcy5wcm9wcy5jaGlsZHJlbn1cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0cmlhbmdsZSBcIit0aGlzLnByb3BzLnRyaWFuZ2xlU3RhdGV9Pjwvc3Bhbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDmk43kvZzmoYblrrnlmahcclxudmFyIEFkZHJlc3NXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NXcmFwXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NDb250XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NMb2NhdGlvbiBsb2NhbEFkZHJlc3M9e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NTZWFyY2hJbnB1dCBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBZGRyZXNzTGlzdFdyYXAgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOWumuS9jeW9k+WJjeWcsOWdgFxyXG52YXIgQWRkcmVzc0xvY2F0aW9uID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcyh0aGlzLnByb3BzLmxvY2FsQWRkcmVzcyk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMb2NhdGlvblwiPlxyXG4gICAgICAgICAgICAgICAg5b2T5YmN5a6a5L2N77yaPHNwYW4gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMubG9jYWxBZGRyZXNzfTwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDmkJzntKJcclxudmFyIEFkZHJlc3NTZWFyY2hJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdWx0OiBbXSxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGhhbmRsZVJlc3VsdENsaWNrOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIGFkZHJlc3MgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEnKTtcclxuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3MoYWRkcmVzcyk7XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlU2VhcmNoOiBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIHZhciBjb250ID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgICAgIHZhciBsZW4gPSBjb250Lmxlbmd0aDtcclxuICAgICAgICB2YXIgYWRkcmVzc0RhdGEgPSB0aGlzLnByb3BzLmFkZHJlc3NEYXRhO1xyXG4gICAgICAgIC8vIOWIpOaWreaYr+axieWtl+i/mOaYr+aLvOmfs1xyXG4gICAgICAgIHZhciByZWc9L15bXFx1NEUwMC1cXHU5RkE1XSskLztcclxuICAgICAgICBpZihyZWcudGVzdChjb250KSkge1xyXG4gICAgICAgICAgICAvLyDmmK/msYnlrZflpITnkIZcclxuICAgICAgICAgICAgdmFyIF9yZXN1bHRIID0gW107XHJcbiAgICAgICAgICAgIHZhciBqID0gMDtcclxuICAgICAgICAgICAgZm9yKHZhciBrZXlIIGluIGFkZHJlc3NEYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGtleUhTIGluIGFkZHJlc3NEYXRhW2tleUhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYWRkcmVzc0RhdGFba2V5SF1ba2V5SFNdLmNpdHkuc3Vic3RyaW5nKDAsbGVuKSA9PSBjb250KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXN1bHRIW2pdICA9IGFkZHJlc3NEYXRhW2tleUhdW2tleUhTXS5jaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBqKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Jlc3VsdDogX3Jlc3VsdEh9KTtcclxuICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g5piv5ou86Z+zXHJcbiAgICAgICAgdmFyIEZMID0gY29udC5zdWJzdHJpbmcoMCwxKS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xyXG4gICAgICAgIHZhciByZXN1bHRGTCA9IGFkZHJlc3NEYXRhW0ZMXTtcclxuICAgICAgICB2YXIgX3Jlc3VsdCA9IFtdO1xyXG4gICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICBmb3IodmFyIGtleSBpbiByZXN1bHRGTCkge1xyXG4gICAgICAgICAgICBpZihrZXkuc3Vic3RyaW5nKDAsbGVuKSA9PSBjb250LnRvTG9jYWxlTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgIF9yZXN1bHRbaV0gID0gcmVzdWx0Rkxba2V5XS5jaXR5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGkrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cmVzdWx0OiBfcmVzdWx0fSk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgX2hhbmRsZVJlc3VsdENsaWNrID0gdGhpcy5oYW5kbGVSZXN1bHRDbGljaztcclxuICAgICAgICB2YXIgcmVzdWx0Tm9kZXMgPSB0aGlzLnN0YXRlLnJlc3VsdC5tYXAoZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGxpIGRhdGE9e3Jlc3VsdH0gb25DbGljaz17X2hhbmRsZVJlc3VsdENsaWNrfT57cmVzdWx0fTwvbGk+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzU2VhcmNoXCI+XHJcbiAgICAgICAgICAgICAgICDmkJzntKLvvJpcclxuICAgICAgICAgICAgICAgIDxpbnB1dCBvbkNoYW5nZT17dGhpcy5oYW5kbGVTZWFyY2h9IC8+XHJcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwiQWRkcmVzc1NlYXJjaFJlc3VsdFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIHtyZXN1bHROb2Rlc31cclxuICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5YiX6KGo5a655ZmoXHJcbnZhciBBZGRyZXNzTGlzdFdyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBhZGRyZXNzRGF0YSA9IHRoaXMucHJvcHMuYWRkcmVzc0RhdGE7XHJcbiAgICAgICAgdmFyIGhhbmRsZVNlbGVjdEFkZHJlc3MgPSB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3M7XHJcbiAgICAgICAgdmFyIHJvd05vZGVzID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgY29udCA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgaSA9IDA7XHJcbiAgICAgICAgICAgIGZvcih2YXIga2V5IGluIGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRbaV0gID0gPEFkZHJlc3NMaXN0Um93IGtleT17a2V5fSBrZXlEYXRhPXtrZXl9IGRhdGE9e2RhdGFba2V5XX0gaGFuZGxlU2VsZWN0QWRkcmVzcz17aGFuZGxlU2VsZWN0QWRkcmVzc30gLz47XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XHJcbiAgICAgICAgfShhZGRyZXNzRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFdyYXBcIj5cclxuICAgICAgICAgICAgICAgIHtyb3dOb2Rlc31cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyDlnLDlnYDliJfooajooYxcclxudmFyIEFkZHJlc3NMaXN0Um93ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgYWRkcmVzcyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YScpO1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcyhhZGRyZXNzKTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBoYW5kbGVDbGljayA9IHRoaXMuaGFuZGxlQ2xpY2s7XHJcbiAgICAgICAgdmFyIGRhdGFOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb250W2ldICA9IDxzcGFuIGtleT17XCJwXCIra2V5fT48c3BhbiBkYXRhPXtkYXRhW2tleV0uY2l0eX0ga2V5PXtpfSAgb25DbGljaz17aGFuZGxlQ2xpY2t9ID57ZGF0YVtrZXldLmNpdHl9PC9zcGFuPjwvc3Bhbj47XHJcbiAgICAgICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnQ7XHJcbiAgICAgICAgfSh0aGlzLnByb3BzLmRhdGEpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RSb3dcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImtleURhdGFcIj57dGhpcy5wcm9wcy5rZXlEYXRhfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImRhdGFXcmFwXCI+e2RhdGFOb2Rlc308L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG4iLCIndXNlIHN0cmljdCdcclxuXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyAgQ29tcG9uZW50OiBBZGRyZXNzUGlja2VyXHJcbi8vXHJcbi8vICBJbmNsdWRlOiBBZGRyZXNzTGlzdCBBZGRyZXNzU2VhcmNoXHJcbi8vXHJcbi8vICBEZXBlbmRlbmNlOiByZXF3ZXN0LmpzXHJcbi8vXHJcbi8vICBEZXNjcmlwdGlvbjogIEpzeCBmb3IgQWRkcmVzc1BpY2tlclxyXG4vL1xyXG4vLyAgVE9ETzogW0BUb25nY2hlbmdRaXVdIEFkZHJlc3NMaXN0IOabtOaNouWfjuW4guWQjuiwg+eUqCBzZXRDaXR5IOiuvue9ruWfjuW4glxyXG4vLyAgICAgICAgICDkvaDlj6/ku6XmoLnmja4gQWRkcmVzc1BpY2tlciDnmoQgc3RhdGUuYWRkcmVzcyDliKTmlq3mmK/lkKblt7Lnu4/ov5vooYzkuobmkJzntKJcclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG52YXIgQWRkcmVzc1BpY2tlciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY2l0eTogXCLljJfkuqxcIixcclxuICAgICAgY3VycmVudENpdHk6IG51bGwsXHJcbiAgICAgIGFkZHJlc3M6IG51bGxcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHt9O1xyXG4gIH0sXHJcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBteUNpdHkgPSBuZXcgQk1hcC5Mb2NhbENpdHkoKTtcclxuICAgIG15Q2l0eVxyXG4gICAgICAuZ2V0KGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgIHZhciBjdXJyZW50Q2l0eSA9IHJlcy5uYW1lO1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICBjdXJyZW50Q2l0eTogY3VycmVudENpdHlcclxuICAgICAgICB9KTtcclxuICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICB9LFxyXG4gIHNldEFkZHJlc3M6IGZ1bmN0aW9uKGFkKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYWRkcmVzczogYWRcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgc2V0Q2l0eTogZnVuY3Rpb24oY3QpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjaXR5OiBjdFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGFkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZSA9IHRoaXMuc3RhdGUuYWRkcmVzc1xyXG4gICAgICA/IHRoaXMucHJvcHMuYWRkcmVzc1BpY2tlckFjdGl2ZVN0eWxlXHJcbiAgICAgIDoge307XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtcGlja2VyXCIgc3R5bGU9e2FkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZX0+XHJcbiAgICAgICAgPEFkZHJlc3NMaXN0IHNldENpdHk9e3RoaXMuc2V0Q2l0eX0gbG9jYWxBZGRyZXNzPXt0aGlzLnN0YXRlLmN1cnJlbnRDaXR5fSBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0vPlxyXG4gICAgICAgIDxBZGRyZXNzSW5wdXQgY2l0eT17dGhpcy5zdGF0ZS5jaXR5fSBzZWFyY2hTdWJtaXRIYW5kbGVyPXt0aGlzLnNldEFkZHJlc3N9Lz5cclxuICAgICAgICA8QWRkcmVzc01hcCBhZGRyZXNzS2V5d29yZD17dGhpcy5zdGF0ZS5hZGRyZXNzfSBjaXR5PXt0aGlzLnByb3BzLmNpdHl9Lz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xyXG5cclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICBDb21wb25lbnQ6IEFkZHJlc3NTZWFyY2hcclxuLy9cclxuLy8gIEluY2x1ZGU6IEFkZHJlc3NJbnB1dCBBZGRyZXNzTWFwXHJcbi8vXHJcbi8vICBEZXBlbmRlbmNlOiByZXF3ZXN0LmpzXHJcbi8vXHJcbi8vICBEZXNjcmlwdGlvbjogIEpzeCBmb3IgQWRkcmVzc1NlYXJjaFxyXG4vL1xyXG4vLyAgVE9ETzogW2FkZF0g5aKe5Yqg5ZCE6aG55Y+C5pWwXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyogQWRkcmVzc1NlYXJjaCAqL1xyXG52YXIgQWRkcmVzc1NlYXJjaCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgYWRkcmVzczogbnVsbFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXHJcbiAgICAgIGlucHV0VGlwOiBcIui+k+WFpeaDs+imgeaQnOe0oueahOWcsOWdgFwiLFxyXG4gICAgICBzZWFyY2hCdG5UZXh0OiBcIuaQnOe0olwiLFxyXG4gICAgICBjaXR5OiBcIuWMl+S6rFwiXHJcbiAgICB9XHJcbiAgfSxcclxuICBjb21wb25lbnRXaWxsTW91bnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG15Q2l0eSA9IG5ldyBCTWFwLkxvY2FsQ2l0eSgpO1xyXG4gICAgbXlDaXR5XHJcbiAgICAgIC5nZXQoZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRDaXR5ID0gcmVzLm5hbWU7XHJcbiAgICAgICAgdGhpcy5zZXRDaXR5KGN1cnJlbnRDaXR5KTtcclxuICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICB9LFxyXG4gIHNldEFkZHJlc3M6IGZ1bmN0aW9uKGFkKSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgYWRkcmVzczogYWRcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgc2V0Q2l0eTogZnVuY3Rpb24oY3QpIHtcclxuICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBjaXR5OiBjdFxyXG4gICAgfSk7XHJcbiAgfSxcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZGRyZXNzLXNlYXJjaFwiPlxyXG4gICAgICAgIDxBZGRyZXNzSW5wdXQgY2l0eT17dGhpcy5wcm9wcy5jaXR5fSBpbnB1dFRpcD17dGhpcy5wcm9wcy5pbnB1dFRpcH0gaW5wdXRXaWR0aD17dGhpcy5wcm9wcy5pbnB1dFdpZHRofSBzZWFyY2hCdG5UZXh0PXt0aGlzLnByb3BzLnNlYXJjaEJ0blRleHR9IHNlYXJjaFN1Ym1pdEhhbmRsZXI9e3RoaXMuc2V0QWRkcmVzc30vPlxyXG4gICAgICAgIDxBZGRyZXNzTWFwIGFkZHJlc3NLZXl3b3JkPXt0aGlzLnN0YXRlLmFkZHJlc3N9IGNpdHk9e3RoaXMucHJvcHMuY2l0eX0vPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qIEFkZHJlc3NJbnB1dCAqL1xyXG52YXIgQWRkcmVzc0lucHV0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBrZXl3b3JkOiBudWxsXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGlucHV0V2lkdGg6IDQwMCxcclxuICAgICAgaW5wdXRUaXA6IFwi6L6T5YWl5oOz6KaB5pCc57Si55qE5Zyw5Z2AXCIsXHJcbiAgICAgIHNlYXJjaEJ0blRleHQ6IFwi5pCc57SiXCIsXHJcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCJcclxuICAgIH1cclxuICB9LFxyXG4gIHNlYXJjaFN1Ym1pdDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIga2V5d29yZCA9IHRoaXMuZ2V0RE9NTm9kZSgpXHJcbiAgICAgIC5jaGlsZHJlblswXVxyXG4gICAgICAudmFsdWU7XHJcbiAgICB0aGlzLnByb3BzXHJcbiAgICAgIC5zZWFyY2hTdWJtaXRIYW5kbGVyKGtleXdvcmQpO1xyXG4gIH0sXHJcbiAgY2hlY2tFbnRlcjogZnVuY3Rpb24oZSkge1xyXG4gICAgKGUua2V5Q29kZSA9PT0gMTMpICYmIHRoaXMuc2VhcmNoU3VibWl0KCk7XHJcbiAgfSxcclxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbWFwQXV0b0NvbXBsZXRlID0gbmV3IEJNYXAuQXV0b2NvbXBsZXRlKHtcclxuICAgICAgXCJpbnB1dFwiOiBcIl9hZGRyZXNzU2VhcmNoS2V5d29yZFwiLFxyXG4gICAgICBcImxvY2F0aW9uXCI6IHRoaXMucHJvcHMuY2l0eVxyXG4gICAgfSk7XHJcbiAgfSxcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGtleXdvcmRTdHlsZSA9IHtcclxuICAgICAgd2lkdGg6IHRoaXMucHJvcHMuaW5wdXRXaWR0aFxyXG4gICAgfTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1pbnB1dFwiPlxyXG4gICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJpbnB1dC1rZXl3b3JkXCIgaWQ9XCJfYWRkcmVzc1NlYXJjaEtleXdvcmRcIiBvbktleVVwPXt0aGlzLmNoZWNrRW50ZXJ9IHBsYWNlaG9sZGVyPXt0aGlzLnByb3BzLmlucHV0VGlwfSBzdHlsZT17a2V5d29yZFN0eWxlfT48L2lucHV0PlxyXG4gICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiaW5wdXQtY29tbWl0XCIgb25DbGljaz17dGhpcy5zZWFyY2hTdWJtaXR9Pnt0aGlzLnByb3BzLnNlYXJjaEJ0blRleHR9PC9idXR0b24+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyogQWRkcmVzc01hcCAqL1xyXG52YXIgQWRkcmVzc01hcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbWFwTG9jYWxPYmo6IG51bGwsXHJcbiAgICAgIGl0ZW1zTnVtYmVyOiAwLFxyXG4gICAgICBpdGVtc0xpc3Q6IFtdLFxyXG4gICAgICBpdGVtQWN0aXZlOiAwXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1hcFNlYXJjaGdlb3RhYmxlSWQ6IDEyMTc2MyxcclxuICAgICAgbWFwU2VhcmNoVGFnczogXCJcIixcclxuICAgICAgbWFwU2VhcmNoRmlsdGVyOiBcIlwiXHJcbiAgICB9XHJcbiAgfSxcclxuICBjb21wb25lbnREaWRNb3VudDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLm1hcCA9IG5ldyBCTWFwLk1hcChcIl9hZGRyZXNzTWFwTWFpblwiLCB7XHJcbiAgICAgIGVuYWJsZU1hcENsaWNrOiBmYWxzZVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLm1hcFxyXG4gICAgICAuY2VudGVyQW5kWm9vbSh0aGlzLnByb3BzLmNpdHksIDEyKTtcclxuICB9LFxyXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6IGZ1bmN0aW9uKG5leHRQcm9wcykge1xyXG4gICAgbmV4dFByb3BzLmFkZHJlc3NLZXl3b3JkICYmIHRoaXMuZ2V0TmVhcmJ5KG5leHRQcm9wcy5hZGRyZXNzS2V5d29yZCk7XHJcbiAgfSxcclxuICBnZXROZWFyYnk6IGZ1bmN0aW9uKGtleXdvcmQsIHBhZ2UpIHtcclxuICAgIC8vIOWcsOWdgOino+aekOiOt+WPlue7j+e6rOW6plxyXG4gICAgdmFyIG15R2VvID0gbmV3IEJNYXAuR2VvY29kZXIoKTtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICBteUdlb1xyXG4gICAgICAuZ2V0UG9pbnQoa2V5d29yZCwgZnVuY3Rpb24ocG9pbnQpIHsgLy8g6Kej5p6Q5oiQ5Yqf5ZCO55qE5Zue6LCDIOaQnOe0ouS/oeaBr1xyXG4gICAgICAgIGlmIChwb2ludCkge1xyXG4gICAgICAgICAgcmVxd2VzdCh7XHJcbiAgICAgICAgICAgIHVybDogJ2h0dHA6Ly9hcGkubWFwLmJhaWR1LmNvbS9nZW9zZWFyY2gvdjMvbmVhcmJ5JyxcclxuICAgICAgICAgICAgdHlwZTogJ2pzb25wJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIGFrOiAnc2RwOXFDYlRvUzdFMjNuRFJ4YUFBd2JoJyxcclxuICAgICAgICAgICAgICBnZW90YWJsZV9pZDogMTIxNzYzLFxyXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiBwb2ludC5sbmcgKyAnLCcgKyBwb2ludC5sYXQsXHJcbiAgICAgICAgICAgICAgcmFkaXVzOiAxMDAwMCxcclxuICAgICAgICAgICAgICBwYWdlX2luZGV4OiBwYWdlIHx8IDAsXHJcbiAgICAgICAgICAgICAgcGFnZV9zaXplOiA1MFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBqc29ucENhbGxiYWNrOiAnY2FsbGJhY2snLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBpdGVtc051bWJlcjogcmVzLnRvdGFsLFxyXG4gICAgICAgICAgICAgICAgaXRlbXNMaXN0OiByZXMuY29udGVudHNcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBfdGhpcy5zaG93TmVhcmJ5KCk7XHJcbiAgICAgICAgICAgICAgX3RoaXMubWFwXHJcbiAgICAgICAgICAgICAgICAuY2VudGVyQW5kWm9vbShfdGhpcy5wcm9wcy5hZGRyZXNzS2V5d29yZCwgMTIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhbGVydChcIuacquaJvuWIsOivpeWMuuWfn+S/oeaBr1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy5jaXR5KTtcclxuICB9LFxyXG4gIHNob3dOZWFyYnk6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgIGZvciAodmFyIGsgaW4gdGhpcy5zdGF0ZS5pdGVtc0xpc3QpIHtcclxuICAgICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQodGhpcy5zdGF0ZS5pdGVtc0xpc3Rba10ubG9jYXRpb25bMF0sIHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLmxvY2F0aW9uWzFdKTtcclxuICAgICAgdmFyIG1hcmtlciA9IG5ldyBCTWFwLk1hcmtlcihwb2ludCk7XHJcbiAgICAgIHZhciBsYWJlbCA9IG5ldyBCTWFwLkxhYmVsKFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgKyBwYXJzZUludChrKSksIHtcclxuICAgICAgICBvZmZzZXQ6IG5ldyBCTWFwLlNpemUoNCwgMilcclxuICAgICAgfSk7XHJcbiAgICAgIGxhYmVsLnNldFN0eWxlKHtcclxuICAgICAgICBib3JkZXI6ICdub25lJyxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXHJcbiAgICAgICAgY29sb3I6ICcjRkFGQUZBJ1xyXG4gICAgICB9KTtcclxuICAgICAgbWFya2VyLnNldExhYmVsKGxhYmVsKTtcclxuICAgICAgbWFya2VyLnNldFRpdGxlKHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLnRpdGxlKTtcclxuICAgICAgbWFya2VyXHJcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgX3RoaXMuc2hvd0luZm9XaW5kb3codGhpcy5nZXRMYWJlbCgpLmNvbnRlbnQuY2hhckNvZGVBdCgwKSAtIDY1KTtcclxuICAgICAgICB9KTtcclxuICAgICAgdGhpcy5tYXBcclxuICAgICAgICAuYWRkT3ZlcmxheShtYXJrZXIpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zdGF0ZS5pdGVtc0xpc3QubGVuZ3RoICYmIHRoaXMuc2hvd0luZm9XaW5kb3coMCk7XHJcbiAgfSxcclxuICBzaG93SW5mb1dpbmRvdzogZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgIGlmIChpbmRleCAhPT0gdGhpcy5zdGF0ZS5pdGVtQWN0aXZlIHx8IDEpIHtcclxuICAgICAgdmFyIHBvaW50ID0gbmV3IEJNYXAuUG9pbnQodGhpcy5zdGF0ZS5pdGVtc0xpc3RbaW5kZXhdLmxvY2F0aW9uWzBdLCB0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF0ubG9jYXRpb25bMV0pO1xyXG4gICAgICB2YXIgaXRlbUluZm8gPSB0aGlzLnN0YXRlLml0ZW1zTGlzdFtpbmRleF07XHJcbiAgICAgIHZhciB0aXRsZSA9IGl0ZW1JbmZvLnRpdGxlO1xyXG4gICAgICB2YXIgYWRkcmVzcyA9IGl0ZW1JbmZvLmFkZHJlc3M7XHJcbiAgICAgIHZhciB0ZWwgPSBpdGVtSW5mby50ZWw7XHJcbiAgICAgIHZhciBjb250ZW50ID0gJzxwIGNsYXNzPVwibWFwLWluZm8td2luZG93XCI+5Zyw5Z2A77yaJyArIGFkZHJlc3MgKyAnPGJ1dHRvbiBjbGFzcz1cIm1hcC1pbmZvLWJ0blwiPui/m+WFpeS9k+mqjOW6lzwvYnV0dG9uPicgKyAnPC9wPic7XHJcbiAgICAgIHZhciBpbmZvV2luZG93ID0gbmV3IEJNYXAuSW5mb1dpbmRvdyhjb250ZW50LCB7XHJcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxyXG4gICAgICAgIHdpZHRoOiAyOTAsXHJcbiAgICAgICAgcGFuZWw6IFwicGFuZWxcIixcclxuICAgICAgICBlbmFibGVBdXRvUGFuOiB0cnVlLFxyXG4gICAgICAgIG9mZnNldDogbmV3IEJNYXAuU2l6ZSgwLCAtMjUpXHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICBpdGVtQWN0aXZlOiArIGluZGV4XHJcbiAgICAgIH0pO1xyXG4gICAgICB0aGlzLm1hcFxyXG4gICAgICAgIC5vcGVuSW5mb1dpbmRvdyhpbmZvV2luZG93LCBwb2ludCk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBjbGlja01hcEl0ZW06IGZ1bmN0aW9uKGUpIHtcclxuICAgIHZhciBlbGUgPSBlLnRhcmdldDtcclxuICAgIHZhciBlbGVDbGFzcyA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJyk7XHJcbiAgICB2YXIgaXRlbUluZGV4ID0gMDtcclxuICAgIGlmIChlbGVDbGFzcyA9PT0gXCJtYXAtaXRlbVwiKSB7XHJcbiAgICAgIGl0ZW1JbmRleCA9IGVsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgICB9IGVsc2UgaWYgKGVsZUNsYXNzID09PSBcIm1hcC1pdGVtLW1hcmtcIiB8fCBlbGVDbGFzcyA9PT0gXCJtYXAtaXRlbS1tYWluXCIpIHtcclxuICAgICAgaXRlbUluZGV4ID0gZWxlLnBhcmVudE5vZGVcclxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xyXG4gICAgfSBlbHNlIGlmICghZWxlQ2xhc3MpIHtcclxuICAgICAgaXRlbUluZGV4ID0gZWxlLnBhcmVudE5vZGVcclxuICAgICAgICAucGFyZW50Tm9kZVxyXG4gICAgICAgIC5wYXJlbnROb2RlXHJcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGl0ZW1JbmRleCA9IGVsZS5wYXJlbnROb2RlXHJcbiAgICAgICAgLnBhcmVudE5vZGVcclxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5zaG93SW5mb1dpbmRvdyhpdGVtSW5kZXgpO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBtYXBJdGVtQWN0aWVTdHlsZSA9IHtcclxuICAgICAgYmFja2dyb3VuZENvbG9yOiBcIiNGMEYwRjBcIlxyXG4gICAgfTtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1tYXBcIiBzdHlsZT17e1xyXG4gICAgICAgIGRpc3BsYXk6IHRoaXMucHJvcHMuYWRkcmVzc0tleXdvcmRcclxuICAgICAgICAgID8gXCJibG9ja1wiXHJcbiAgICAgICAgICA6IFwibm9uZVwiXHJcbiAgICAgIH19PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdlwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbmF2LXRpdGxlXCI+XHJcbiAgICAgICAgICAgIOmZhOi/keaciVxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXAtbmF2LW51bWJlclwiPlxyXG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLml0ZW1zTnVtYmVyfVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIOWutuS9k+mqjOW6l1xyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwibWFwLWl0ZW1zXCIgaWQ9XCJfYWRkcmVzc01hcEl0ZW1zXCIgb25DbGljaz17dGhpcy5jbGlja01hcEl0ZW19PlxyXG4gICAgICAgICAgICB7dGhpc1xyXG4gICAgICAgICAgICAgIC5zdGF0ZVxyXG4gICAgICAgICAgICAgIC5pdGVtc0xpc3RcclxuICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChpdGVtLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gPGxpIGNsYXNzTmFtZT1cIm1hcC1pdGVtXCIgZGF0YS1rZXk9e2l9IGtleT17aX0gc3R5bGU9eyhpID09PSB0aGlzLnN0YXRlLml0ZW1BY3RpdmUpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBtYXBJdGVtQWN0aWVTdHlsZVxyXG4gICAgICAgICAgICAgICAgICAgIDpcclxuICAgICAgICAgICAgICAgICAgICAgIHt9fT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtYXAtaXRlbS1tYXJrXCIgc3R5bGU9eyhpID09PSB0aGlzLnN0YXRlLml0ZW1BY3RpdmUpID8ge2JhY2tncm91bmRDb2xvcjogXCIjMWJiYzliXCJ9IDoge319PntTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgaSl9PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tbWFpblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtaXRlbS10aXRsZVwiPntpdGVtLnRpdGxlfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtaXRlbS1hZGRyZXNzXCI+5Zyw5Z2A77yae2l0ZW0uYWRkcmVzc308L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tdGVsXCI+55S16K+d77yae2l0ZW0udGVsfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICA8L2xpPjtcclxuICAgICAgICAgICAgICB9LmJpbmQodGhpcykpfVxyXG4gICAgICAgICAgPC91bD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1tYWluXCIgaWQ9XCJfYWRkcmVzc01hcE1haW5cIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcbiIsIid1c2Ugc3RyaWN0J1xyXG5cclxuLy8gID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vICBDb21wb25lbnQ6IFByb2dyZXNzQmFyXHJcbi8vXHJcbi8vICBJbmNsdWRlOiBTcGlubmVyXHJcbi8vXHJcbi8vICBEZXNjcmlwdGlvbjogSnN4IGZvciBQcm9ncmVzc0JhclxyXG4vL1xyXG4vLyAgVE9ETzogW2ZpeF0g5L+u5q2j5Yid5aeL5pe2IHRyYW5zaXRpb24g5LiN55Sf5pWI55qE6Zeu6aKYXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyogU3Bpbm5lciAqL1xyXG52YXIgU3Bpbm5lciA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1zcGlubmVyXCI+PC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKiBQcm9ncmVzc0JhciAqL1xyXG52YXIgUHJvZ3Jlc3NCYXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJhdGU6IG51bGwsXHJcbiAgICAgIGRvbmU6IGZhbHNlXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHNwZWVkOiAwLjYsICAvLyDliqjnlLvpgJ/luqZcclxuICAgICAgc3Bpbm5lcjogdHJ1ZSwgIC8vIOaYr+WQpuacieWciOWciFxyXG4gICAgICBlYXNpbmc6ICdlYXNlJywgIC8vIOWKqOeUu+e8k+WKqOabsue6v1xyXG4gICAgICBtYXhSYXRlOiAwLjk2LCAgLy8g6L+b5bqm5p2h5pyA5aSn5a695bqmXHJcbiAgICAgIGluY1N0ZXA6IDAuMDQsICAvLyBpbmMg5aKe6ZW/5q2l5bmFXHJcbiAgICAgIG1pblN0ZXA6IDAuMDA1LCAgLy8g6ZqP5py65aKe6ZW/55qE5pyA5bCP5q2l5bmFXHJcbiAgICAgIG1heFN0ZXA6IDAuMDMsICAvLyDpmo/mnLrlop7plb/nmoTmnIDlpKfmraXluYVcclxuICAgICAgdHJpY2tsZTogdHJ1ZSwgIC8vIOaYr+WQpuiHquWKqOWinumVv1xyXG4gICAgICB0cmlja2xlU3BlZWQ6IDgwMCwgIC8vIOiHquWKqOWinumVv+eahOmXtOmalOaXtumXtFxyXG4gICAgICBzZXRUcmlja2xlOiBmYWxzZSAgLy8gc2V0IOWQjuaYr+WQpuiHquWKqOWinumVv++8iOacquWQr+eUqO+8iVxyXG4gICAgfTtcclxuICB9LFxyXG4gIHN0YXJ0OiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuX2luaXQoKTtcclxuICAgIHRoaXMuc2V0KCcwLjUlJyk7XHJcbiAgICB0aGlzLnByb3BzLnRyaWNrbGUgJiYgdGhpcy5fYXV0b0luYygpO1xyXG4gIH0sXHJcbiAgc2V0OiBmdW5jdGlvbihuLCB0cmlja2xlKSB7XHJcbiAgICAhdHJpY2tsZSAmJiB0aGlzLl9pbml0KCk7XHJcbiAgICBuID0gdGhpcy5fZm9ybWF0KG4pO1xyXG4gICAgaWYgKG4gPT09IDEwMCkge1xyXG4gICAgICAvKiBkb25lICovXHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHJhdGU6IDEwMFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG4gPSBuID4gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXHJcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IG47XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIHJhdGU6IG5cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBpbmM6IGZ1bmN0aW9uKG4pIHtcclxuICAgIHRoaXMuX2luaXQoKTtcclxuICAgIHRoaXMucHJvcHMudHJpY2tsZSAmJiB0aGlzLl9hdXRvSW5jKCk7XHJcbiAgICBuID0gblxyXG4gICAgICA/IHRoaXMuX2Zvcm1hdChuKVxyXG4gICAgICA6IHRoaXMucHJvcHMuaW5jU3RlcCAqIDEwMDtcclxuICAgIHZhciBuZXdSYXRlID0gdGhpcy5zdGF0ZS5yYXRlICsgbjtcclxuICAgIHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xyXG4gIH0sXHJcbiAgZG9uZTogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnNldCgnMTAwJScpO1xyXG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgZG9uZTogdHJ1ZVxyXG4gICAgICB9KTtcclxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgIHJhdGU6IG51bGxcclxuICAgICAgICB9KTtcclxuICAgICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMiAqIDEwMDApO1xyXG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnNwZWVkICogMTAwMCk7XHJcbiAgfSxcclxuICBfZm9ybWF0OiBmdW5jdGlvbihkYXRhKSB7ICAvLyDmoLzlvI/ljJbkuLogMC0xMDAg55qE5pW05pWwXHJcbiAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdudW1iZXInKSB7ICAvLyAwLTEg55qE5bCP5pWwXHJcbiAgICAgIHJldHVybiBkYXRhID4gMVxyXG4gICAgICAgID8gdGhpcy5wcm9zLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IGRhdGEgKiAxMDA7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykgeyAgLy8g55m+5YiG5q+UXHJcbiAgICAgIHJldHVybiBwYXJzZUZsb2F0KGRhdGEpID4gMTAwXHJcbiAgICAgICAgPyB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDBcclxuICAgICAgICA6IHBhcnNlRmxvYXQoZGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgfSxcclxuICBfaW5pdDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnN0YXRlLmRvbmUgJiYgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGRvbmU6IGZhbHNlXHJcbiAgICB9KTtcclxuICAgIHRoaXMudGltZXIgJiYgdGhpcy5fY2xlYXJJbnRlcnZhbCgpO1xyXG4gIH0sXHJcbiAgX2F1dG9JbmM6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG5ld1JhdGU7XHJcbiAgICB2YXIgcmFuZG9tO1xyXG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICByYW5kb20gPSB0aGlzLl9nZXRSYWRvbVN0ZXAoKTtcclxuICAgICAgbmV3UmF0ZSA9IHRoaXMuc3RhdGUucmF0ZSArIHJhbmRvbTtcclxuICAgICAgY29uc29sZS5sb2cocmFuZG9tKTtcclxuICAgICAgaWYgKG5ld1JhdGUgPiB0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnByb3BzLm1heFJhdGUgKiAxMDApO1xyXG4gICAgICAgIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uc29sZS5sb2cobmV3UmF0ZSk7XHJcbiAgICAgIHRoaXMuc2V0KG5ld1JhdGUgKyAnJScsIHRydWUpO1xyXG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnByb3BzLnRyaWNrbGVTcGVlZCk7XHJcbiAgfSxcclxuICBfY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLnRpbWVyICYmIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XHJcbiAgfSxcclxuICBfZ2V0UmFkb21TdGVwOiBmdW5jdGlvbihtaW4sIG1heCkge1xyXG4gICAgbWluID0gbWluIHx8IHRoaXMucHJvcHMubWluU3RlcCAqIDEwMDtcclxuICAgIG1heCA9IG1heCB8fCB0aGlzLnByb3BzLm1heFN0ZXAgKiAxMDA7XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBwcm9ncmVzc1N0eWxlID0ge1xyXG4gICAgICAvL2Rpc3BsYXk6ICghdGhpcy5zdGF0ZS5yYXRlICYmIHR5cGVvZiB0aGlzLnN0YXRlLnJhdGUgPT09ICdvYmplY3QnKSA/ICdub25lJyA6ICdibG9jaycsXHJcbiAgICAgIG9wYWNpdHk6IHRoaXMuc3RhdGUuZG9uZVxyXG4gICAgICAgID8gMFxyXG4gICAgICAgIDogMSxcclxuICAgICAgdHJhbnNpdGlvbjogJ29wYWNpdHkgJyArIHRoaXMucHJvcHMuc3BlZWQgKiAyICsgJ3MgJyArIHRoaXMucHJvcHMuZWFzaW5nXHJcbiAgICB9O1xyXG4gICAgdmFyIGJhclN0eWxlID0ge1xyXG4gICAgICB3aWR0aDogIXRoaXMuc3RhdGUucmF0ZVxyXG4gICAgICAgID8gMFxyXG4gICAgICAgIDogdGhpcy5zdGF0ZS5yYXRlICsgJyUnLFxyXG4gICAgICB0cmFuc2l0aW9uOiAnd2lkdGggJyArIHRoaXMucHJvcHMuc3BlZWQgKyAncyAnICsgdGhpcy5wcm9wcy5lYXNpbmdcclxuICAgIH07XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5yYXRlXHJcbiAgICAgID8gKFxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3UtcHJvZ3Jlc3NcIiBzdHlsZT17cHJvZ3Jlc3NTdHlsZX0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXByb2dyZXNzLWJhclwiIHN0eWxlPXtiYXJTdHlsZX0+PC9kaXY+XHJcbiAgICAgICAgICB7dGhpcy5wcm9wcy5zcGlubmVyXHJcbiAgICAgICAgICAgID8gPFNwaW5uZXIvPlxyXG4gICAgICAgICAgICA6IG51bGx9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIClcclxuICAgICAgOiBudWxsO1xyXG4gIH1cclxufSk7XHJcbiIsInZhciBUb29sVGlwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0aXA6IFwidGlwXCIsXHJcbiAgICAgICAgICAgIHRyaWdnZXI6ICdob3ZlcicsXHJcbiAgICAgICAgICAgIGRlbGF5OiAwLFxyXG4gICAgICAgICAgICBob3ZlcmFibGU6IGZhbHNlLFxyXG4gICAgICAgICAgICBwb3NpdGlvbjogXCJ0aXBcIixcclxuICAgICAgICAgICAgd2lkdGg6IFwiMjAwcHhcIixcclxuICAgICAgICAgICAgdHlwZTogJ3NwYW4nLFxyXG4gICAgICAgICAgICBhSHJlZjogXCIjXCJcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcG9zaXRpb246IHRoaXMucHJvcHMucG9zaXRpb24sXHJcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgaXNPblRpcDogZmFsc2UsXHJcbiAgICAgICAgICAgIHRpcEhlaWdodDogXCJcIlxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImhvdmVyXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiaG92ZXJcIikge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5pc09uVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSAsIHRoaXMucHJvcHMuZGVsYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJjbGlja1wiKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYoIXRoaXMuc3RhdGUuaXNBY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlVGlwTW91c2VPdmVyOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy5ob3ZlcmFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNPblRpcDogdHJ1ZX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoYW5kbGVUaXBNb3VzZU91dDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuaG92ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzT25UaXA6IGZhbHNlfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb21wb25lbnREaWRVcGRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0VGlwUG9zaXRpb24oKTtcclxuICAgIH0sXHJcbiAgICBzZXRUaXBQb3NpdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIHRpcCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpO1xyXG4gICAgICAgIHZhciBjb250ID0gdGhpcy5yZWZzLmNvbnQuZ2V0RE9NTm9kZSgpO1xyXG4gICAgICAgIGlmKCF0aGlzLmZsYWcpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZS50aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmZsYWcgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aXAub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIHRpcEhlaWdodCA9IHRpcC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgdmFyIGNvbnRXaWR0aCA9IGNvbnQub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIGNvbnRIZWlnaHQgPSBjb250Lm9mZnNldEhlaWdodDtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUucG9zaXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBcImxlZnRcIjp0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aCsyMCkrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJyaWdodFwiOnRpcC5zdHlsZS50b3AgPSAtKHRpcEhlaWdodC1jb250SGVpZ2h0KS8yK1wicHhcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwidG9wXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5ib3R0b20gPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6dGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoLWNvbnRXaWR0aCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS50b3AgPSBcIjEwMCVcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiB0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGlwLnN0eWxlLmxlZnQgPSAtKHRpcFdpZHRoKzIwKStcInB4XCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRpcC5zdHlsZS5oZWlnaHQgPSB0aGlzLnN0YXRlLnRpcEhlaWdodC0yMCtcInB4XCI7XHJcbiAgICAgICAgdGhpcy5wcmV2ZXJ0VGlwT3ZlcmZsb3coKTtcclxuICAgIH0sXHJcbiAgICBwcmV2ZXJ0VGlwT3ZlcmZsb3c6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0aXBYID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuICAgICAgICB2YXIgdGlwWSA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgICB2YXIgdGlwV2lkdGggPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5vZmZzZXRXaWR0aDtcclxuICAgICAgICB2YXIgdGlwSGVpZ2h0ID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHZhciBhdmFpbFdpZHRoID0gcGFyc2VJbnQoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCk7XHJcbiAgICAgICAgaWYodGlwWCA8IDAgJiYgdGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRpcFggPCAwKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJsZWZ0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInRvcFwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJ0b3BcIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwiYm90dG9tXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcInJpZ2h0XCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGlwWCt0aXBXaWR0aCA+IGF2YWlsV2lkdGgpIHtcclxuICAgICAgICAgICAgaWYodGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInJpZ2h0XCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImJvdHRvbVwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJib3R0b21cIiB8fCB0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwidG9wXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe3Bvc2l0aW9uOiBcImxlZnRcIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgZ2V0VGlwU3R5bGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IHRoaXMuc3RhdGUuaXNBY3RpdmU/XCJibG9ja1wiOlwibm9uZVwiLFxyXG4gICAgICAgICAgICBjb2xvcjogXCJwaW5rXCIsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjMzMzXCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLndpZHRoLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwic3BhblwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e1widG9vbHRpcCBcIit0aGlzLnN0YXRlLnBvc2l0aW9ufT5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50eXBlPT1cImFcIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj17dGhpcy5wcm9wcy5hSHJlZn0gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9hPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJidXR0b25cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiByZWY9XCJjb250XCIgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZU1vdXNlT3V0fSBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5jaGlsZHJlbn08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZVRpcE1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVUaXBNb3VzZU91dH0gY2xhc3NOYW1lPVwidGlwXCIgcmVmPVwidGlwXCIgc3R5bGU9e3RoaXMuZ2V0VGlwU3R5bGUoKX0+e3RoaXMucHJvcHMudGlwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==