var AddressList=React.createClass({displayName:"AddressList",getInitialState:function(){return{nowAddress:null,isWrapShow:!1}},handleBtnClick:function(){this.setState({isWrapShow:!this.state.isWrapShow})},handleSelectAddress:function(t){this.setState({nowAddress:t,isWrapShow:!1}),this.props.setCity&&this.props.setCity(t)},render:function(){return React.createElement("div",{className:"AddressList"},React.createElement(AddressDropButton,{triangleState:this.state.isWrapShow,onClick:this.handleBtnClick},this.state.nowAddress?this.state.nowAddress:this.props.localAddress),this.state.isWrapShow?React.createElement(AddressWrap,{addressData:this.props.addressData,localAddress:this.props.localAddress,handleSelectAddress:this.handleSelectAddress}):null)}}),AddressDropButton=React.createClass({displayName:"AddressDropButton",handleClick:function(){this.props.onClick()},render:function(){return React.createElement("button",{className:"AddressDropButton",onClick:this.handleClick},this.props.children,React.createElement("span",{className:"triangle "+this.props.triangleState}))}}),AddressWrap=React.createClass({displayName:"AddressWrap",render:function(){return React.createElement("div",{className:"AddressWrap"},React.createElement("div",{className:"AddressCont"},React.createElement(AddressLocation,{localAddress:this.props.localAddress,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressSearchInput,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress}),React.createElement(AddressListWrap,{addressData:this.props.addressData,handleSelectAddress:this.props.handleSelectAddress})))}}),AddressLocation=React.createClass({displayName:"AddressLocation",handleClick:function(){this.props.handleSelectAddress(this.props.localAddress)},render:function(){return React.createElement("div",{className:"AddressLocation"},"猜你在：",React.createElement("span",{onClick:this.handleClick},this.props.localAddress))}}),AddressSearchInput=React.createClass({displayName:"AddressSearchInput",getInitialState:function(){return{result:[]}},handleResultClick:function(t){var e=t.target.getAttribute("data");this.props.handleSelectAddress(e)},handleSearch:function(t){var e=t.target.value,s=e.length,a=this.props.addressData,i=/^[\u4E00-\u9FA5]+$/;if(i.test(e)){var r=[],n=0;for(var o in a)for(var c in a[o])a[o][c].city.substring(0,s)==e&&(r[n]=a[o][c].city,n++);return void this.setState({result:r})}var d=e.substring(0,1).toLocaleUpperCase(),p=a[d],l=[],h=0;for(var u in p)u.substring(0,s)==e.toLocaleLowerCase()&&(l[h]=p[u].city),h++;this.setState({result:l})},render:function(){var t=this.handleResultClick,e=this.state.result.map(function(e){return React.createElement("li",{data:e,onClick:t},e)});return React.createElement("div",{className:"AddressSearch"},"直接搜索",React.createElement("input",{onChange:this.handleSearch,placeholder:"请输入城市名"}),React.createElement("ul",{className:"AddressSearchResult"},e))}}),AddressListWrap=React.createClass({displayName:"AddressListWrap",render:function(){var t=this.props.addressData,e=this.props.handleSelectAddress,s=function(t){var s=[],a=0;for(var i in t)s[a]=React.createElement(AddressListRow,{key:i,keyData:i,data:t[i],handleSelectAddress:e}),a++;return s}(t);return React.createElement("div",{className:"AddressListWrap"},s)}}),AddressListRow=React.createClass({displayName:"AddressListRow",handleClick:function(t){var e=t.target.getAttribute("data");this.props.handleSelectAddress(e)},render:function(){var t=this.handleClick,e=function(e){var s=[],a=0;for(var i in e)s[a]=React.createElement("span",{key:"p"+i},React.createElement("span",{data:e[i].city,key:a,onClick:t},e[i].city)),a++;return s}(this.props.data);return React.createElement("div",{className:"AddressListRow"},React.createElement("span",{className:"keyData"},this.props.keyData),React.createElement("span",{className:"dataWrap"},e))}}),AddressPicker=React.createClass({displayName:"AddressPicker",getInitialState:function(){return{city:"北京",currentCity:null,address:null}},getDefaultProps:function(){return{}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setState({currentCity:e})}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){var t=this.state.address?this.props.addressPickerActiveStyle:{};return React.createElement("div",{className:"address-picker",style:t},React.createElement(AddressList,{setCity:this.setCity,localAddress:this.state.currentCity,addressData:this.props.addressData}),React.createElement(AddressInput,{city:this.state.city,searchSubmitHandler:this.setAddress}),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}))}}),AddressSearch=React.createClass({displayName:"AddressSearch",getInitialState:function(){return{address:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京"}},componentWillMount:function(){var t=new BMap.LocalCity;t.get(function(t){var e=t.name;this.setCity(e)}.bind(this))},setAddress:function(t){this.setState({address:t})},setCity:function(t){this.setState({city:t})},render:function(){return React.createElement("div",{className:"address-search"},React.createElement(AddressInput,{city:this.props.city,inputTip:this.props.inputTip,inputWidth:this.props.inputWidth,searchBtnText:this.props.searchBtnText,searchSubmitHandler:this.setAddress}),React.createElement(AddressMap,{addressKeyword:this.state.address,city:this.props.city}))}}),AddressInput=React.createClass({displayName:"AddressInput",getInitialState:function(){return{keyword:null}},getDefaultProps:function(){return{inputWidth:400,inputTip:"输入想要搜索的地址",searchBtnText:"搜索",city:"北京"}},searchSubmit:function(){var t=this.getDOMNode().children[0].value;this.props.searchSubmitHandler(t)},checkEnter:function(t){13===t.keyCode&&this.searchSubmit()},componentDidMount:function(){new BMap.Autocomplete({input:"_addressSearchKeyword",location:this.props.city})},render:function(){var t={width:this.props.inputWidth};return React.createElement("div",{className:"address-input"},React.createElement("input",{className:"input-keyword",id:"_addressSearchKeyword",onKeyUp:this.checkEnter,placeholder:this.props.inputTip,style:t}),React.createElement("button",{className:"input-commit",onClick:this.searchSubmit},this.props.searchBtnText))}}),AddressMap=React.createClass({displayName:"AddressMap",getInitialState:function(){return{mapLocalObj:null,itemsNumber:0,itemsList:[],itemActive:0}},getDefaultProps:function(){return{mapSearchgeotableId:121763,mapSearchTags:"",mapSearchFilter:""}},componentDidMount:function(){this.map=new BMap.Map("_addressMapMain",{enableMapClick:!1}),this.map.centerAndZoom(this.props.city,12)},componentWillReceiveProps:function(t){t.addressKeyword&&this.getNearby(t.addressKeyword)},getNearby:function(t,e){var s=new BMap.Geocoder,a=this;s.getPoint(t,function(t){t?reqwest({url:"http://api.map.baidu.com/geosearch/v3/nearby",type:"jsonp",data:{ak:"sdp9qCbToS7E23nDRxaAAwbh",geotable_id:121763,location:t.lng+","+t.lat,radius:1e4,page_index:e||0,page_size:50},jsonpCallback:"callback",success:function(t){a.setState({itemsNumber:t.total,itemsList:t.contents}),a.showNearby(),a.map.centerAndZoom(a.props.addressKeyword,12)}}):alert("未找到该区域信息")}.bind(this),this.props.city)},showNearby:function(){var t=this;for(var e in this.state.itemsList){var s=new BMap.Point(this.state.itemsList[e].location[0],this.state.itemsList[e].location[1]),a=new BMap.Marker(s),i=new BMap.Label(String.fromCharCode(65+parseInt(e)),{offset:new BMap.Size(4,2)});i.setStyle({border:"none",backgroundColor:"transparent",color:"#FAFAFA"}),a.setLabel(i),a.setTitle(this.state.itemsList[e].title),a.addEventListener("click",function(e){t.showInfoWindow(this.getLabel().content.charCodeAt(0)-65)}),this.map.addOverlay(a)}this.state.itemsList.length&&this.showInfoWindow(0)},showInfoWindow:function(t){if(t!==this.state.itemActive,!0){var e=new BMap.Point(this.state.itemsList[t].location[0],this.state.itemsList[t].location[1]),s=this.state.itemsList[t],a=s.title,i=s.address,r=(s.tel,'<p class="map-info-window">地址：'+i+'<button class="map-info-btn">进入体验店</button></p>'),n=new BMap.InfoWindow(r,{title:a,width:290,panel:"panel",enableAutoPan:!0,offset:new BMap.Size(0,-25)});this.setState({itemActive:+t}),this.map.openInfoWindow(n,e)}},clickMapItem:function(t){var e=t.target,s=e.getAttribute("class"),a=0;a="map-item"===s?e.getAttribute("data-key"):"map-item-mark"===s||"map-item-main"===s?e.parentNode.getAttribute("data-key"):s?e.parentNode.parentNode.getAttribute("data-key"):e.parentNode.parentNode.parentNode.getAttribute("data-key"),this.showInfoWindow(a)},render:function(){var t={backgroundColor:"#F0F0F0"};return React.createElement("div",{className:"address-map",style:{display:this.props.addressKeyword?"block":"none"}},React.createElement("div",{className:"map-nav"},React.createElement("div",{className:"map-nav-title"},"附近有",React.createElement("span",{className:"map-nav-number"},this.state.itemsNumber),"家体验店"),React.createElement("ul",{className:"map-items",id:"_addressMapItems",onClick:this.clickMapItem},this.state.itemsList.map(function(e,s){return React.createElement("li",{className:"map-item","data-key":s,key:s,style:s===this.state.itemActive?t:{}},React.createElement("span",{className:"map-item-mark",style:s===this.state.itemActive?{backgroundColor:"#1bbc9b"}:{}},String.fromCharCode(65+s)),React.createElement("div",{className:"map-item-main"},React.createElement("div",{className:"map-item-title"},e.title),React.createElement("div",{className:"map-item-address"},"地址：",e.address),React.createElement("div",{className:"map-item-tel"},"电话：",e.tel)))}.bind(this)))),React.createElement("div",{className:"map-main",id:"_addressMapMain"}))}}),Spinner=React.createClass({displayName:"Spinner",render:function(){return React.createElement("div",{className:"cu-spinner"})}}),ProgressBar=React.createClass({displayName:"ProgressBar",getInitialState:function(){return{rate:null,done:!1}},getDefaultProps:function(){return{speed:.6,spinner:!0,easing:"ease",maxRate:.96,incStep:.04,minStep:.005,maxStep:.03,trickle:!0,trickleSpeed:800,setTrickle:!1}},start:function(){this._init(),this.set("0.5%"),this.props.trickle&&this._autoInc()},set:function(t,e){!e&&this._init(),t=this._format(t),100===t?this.setState({rate:100}):(t=t>100*this.props.maxRate?100*this.props.maxRate:t,this.setState({rate:t}))},inc:function(t){this._init(),this.props.trickle&&this._autoInc(),t=t?this._format(t):100*this.props.incStep;var e=this.state.rate+t;this.set(e+"%",!0)},done:function(){this.set("100%"),setTimeout(function(){this.setState({done:!0}),setTimeout(function(){this.setState({rate:null})}.bind(this),2*this.props.speed*1e3)}.bind(this),1e3*this.props.speed)},_format:function(t){return"number"==typeof t?t>1?100*this.pros.maxRate:100*t:"string"==typeof t?parseFloat(t)>100?100*this.props.maxRate:parseFloat(t):void 0},_init:function(){this.state.done&&this.setState({done:!1}),this.timer&&this._clearInterval()},_autoInc:function(){var t,e;this.timer=setInterval(function(){return e=this._getRadomStep(),t=this.state.rate+e,console.log(e),t>100*this.props.maxRate?(console.log(100*this.props.maxRate),void this._clearInterval()):(console.log(t),void this.set(t+"%",!0))}.bind(this),this.props.trickleSpeed)},_clearInterval:function(){this.timer&&clearInterval(this.timer)},_getRadomStep:function(t,e){return t=t||100*this.props.minStep,e=e||100*this.props.maxStep,Math.random()*(e-t)+t},render:function(){var t={opacity:this.state.done?0:1,transition:"opacity "+2*this.props.speed+"s "+this.props.easing},e={width:this.state.rate?this.state.rate+"%":0,transition:"width "+this.props.speed+"s "+this.props.easing};return this.state.rate?React.createElement("div",{className:"cu-progress",style:t},React.createElement("div",{className:"cu-progress-bar",style:e}),this.props.spinner?React.createElement(Spinner,null):null):null}}),ToolTip=React.createClass({displayName:"ToolTip",getDefaultProps:function(){return{tip:"tip",trigger:"hover",delay:0,hoverable:!1,position:"tip",width:"200px",type:"span",aHref:"#"}},getInitialState:function(){return{position:this.props.position,isActive:!1,isOnTip:!1,tipHeight:""}},handleMouseOver:function(t){"hover"==this.props.trigger&&this.setState({isActive:!0})},handleMouseOut:function(t){"hover"==this.props.trigger&&setTimeout(function(){return this.state.isOnTip?!1:void this.setState({isActive:!1})}.bind(this),this.props.delay)},handleClick:function(t){"click"==this.props.trigger&&(this.state.isActive?this.setState({isActive:!1}):this.state.isActive||this.setState({isActive:!0}))},handleTipMouseOver:function(t){this.props.hoverable&&(this.setState({isOnTip:!0}),this.setState({isActive:!0}))},handleTipMouseOut:function(t){this.props.hoverable&&(this.setState({isOnTip:!1}),this.setState({isActive:!1}))},componentDidUpdate:function(){this.setTipPosition()},setTipPosition:function(){var t=this.refs.tip.getDOMNode(),e=this.refs.cont.getDOMNode();this.flag||(this.state.tipHeight=t.offsetHeight,this.flag=1);var s=t.offsetWidth,a=t.offsetHeight,i=e.offsetWidth,r=e.offsetHeight;switch(this.state.position){case"left":t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px";break;case"right":t.style.top=-(a-r)/2+"px",t.style.left="100%";break;case"top":t.style.left=-(s-i)/2+"px",t.style.bottom="100%";break;case"bottom":t.style.left=-(s-i)/2+"px",t.style.top="100%";break;default:t.style.top=-(a-r)/2+"px",t.style.left=-(s+20)+"px"}t.style.height=this.state.tipHeight-20+"px",this.prevertTipOverflow()},prevertTipOverflow:function(){var t=this.refs.tip.getDOMNode().getBoundingClientRect().left,e=(this.refs.tip.getDOMNode().getBoundingClientRect().top,this.refs.tip.getDOMNode().offsetWidth),s=(this.refs.tip.getDOMNode().offsetHeight,parseInt(document.body.clientWidth));if(0>t&&t+e>s)return!0;if(0>t){if("left"==this.state.position)return void this.setState({position:"top"});if("top"==this.state.position||"bottom"==this.state.position)return void this.setState({position:"right"})}if(t+e>s){if("right"==this.state.position)return void this.setState({position:"bottom"});if("bottom"==this.state.position||"top"==this.state.position)return void this.setState({position:"left"})}},getTipStyle:function(){return{display:this.state.isActive?"block":"none",color:"pink",backgroundColor:"#333",width:this.props.width}},render:function(){return"span"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("span",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"a"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("a",{href:this.props.aHref,ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):"button"==this.props.type?React.createElement("span",{className:"tooltip "+this.state.position},React.createElement("button",{ref:"cont",onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:this.handleClick},this.props.children),React.createElement("div",{onMouseOver:this.handleTipMouseOver,onMouseOut:this.handleTipMouseOut,className:"tip",ref:"tip",style:this.getTipStyle()},this.props.tip)):void 0}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkFkZHJlc3NMaXN0L0FkZHJlc3NMaXN0LmpzeCIsIkFkZHJlc3NQaWNrZXIvQWRkcmVzc1BpY2tlci5qc3giLCJBZGRyZXNzU2VhcmNoL0FkZHJlc3NTZWFyY2guanN4IiwiUHJvZ3Jlc3NCYXIvUHJvZ3Jlc3NCYXIuanN4IiwiVG9vbHRpcC9Ub29sdGlwLmpzeCJdLCJuYW1lcyI6WyJBZGRyZXNzTGlzdCIsIlJlYWN0IiwiY3JlYXRlQ2xhc3MiLCJkaXNwbGF5TmFtZSIsImdldEluaXRpYWxTdGF0ZSIsIm5vd0FkZHJlc3MiLCJpc1dyYXBTaG93IiwiaGFuZGxlQnRuQ2xpY2siLCJ0aGlzIiwic2V0U3RhdGUiLCJzdGF0ZSIsImhhbmRsZVNlbGVjdEFkZHJlc3MiLCJzZWxlY3RDdCIsInByb3BzIiwic2V0Q2l0eSIsInJlbmRlciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJBZGRyZXNzRHJvcEJ1dHRvbiIsInRyaWFuZ2xlU3RhdGUiLCJvbkNsaWNrIiwibG9jYWxBZGRyZXNzIiwiQWRkcmVzc1dyYXAiLCJhZGRyZXNzRGF0YSIsImhhbmRsZUNsaWNrIiwiY2hpbGRyZW4iLCJBZGRyZXNzTG9jYXRpb24iLCJBZGRyZXNzU2VhcmNoSW5wdXQiLCJBZGRyZXNzTGlzdFdyYXAiLCJyZXN1bHQiLCJoYW5kbGVSZXN1bHRDbGljayIsImUiLCJhZGRyZXNzIiwidGFyZ2V0IiwiZ2V0QXR0cmlidXRlIiwiaGFuZGxlU2VhcmNoIiwiZXZlbnQiLCJjb250IiwidmFsdWUiLCJsZW4iLCJsZW5ndGgiLCJyZWciLCJ0ZXN0IiwiX3Jlc3VsdEgiLCJqIiwia2V5SCIsImtleUhTIiwiY2l0eSIsInN1YnN0cmluZyIsIkZMIiwidG9Mb2NhbGVVcHBlckNhc2UiLCJyZXN1bHRGTCIsIl9yZXN1bHQiLCJpIiwia2V5IiwidG9Mb2NhbGVMb3dlckNhc2UiLCJfaGFuZGxlUmVzdWx0Q2xpY2siLCJyZXN1bHROb2RlcyIsIm1hcCIsImRhdGEiLCJvbkNoYW5nZSIsInBsYWNlaG9sZGVyIiwicm93Tm9kZXMiLCJBZGRyZXNzTGlzdFJvdyIsImtleURhdGEiLCJkYXRhTm9kZXMiLCJBZGRyZXNzUGlja2VyIiwiY3VycmVudENpdHkiLCJnZXREZWZhdWx0UHJvcHMiLCJjb21wb25lbnRXaWxsTW91bnQiLCJteUNpdHkiLCJCTWFwIiwiTG9jYWxDaXR5IiwiZ2V0IiwicmVzIiwibmFtZSIsImJpbmQiLCJzZXRBZGRyZXNzIiwiYWQiLCJjdCIsImFkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZSIsInN0eWxlIiwiQWRkcmVzc0lucHV0Iiwic2VhcmNoU3VibWl0SGFuZGxlciIsIkFkZHJlc3NNYXAiLCJhZGRyZXNzS2V5d29yZCIsIkFkZHJlc3NTZWFyY2giLCJpbnB1dFdpZHRoIiwiaW5wdXRUaXAiLCJzZWFyY2hCdG5UZXh0Iiwia2V5d29yZCIsInNlYXJjaFN1Ym1pdCIsImdldERPTU5vZGUiLCJjaGVja0VudGVyIiwia2V5Q29kZSIsImNvbXBvbmVudERpZE1vdW50IiwiQXV0b2NvbXBsZXRlIiwiaW5wdXQiLCJsb2NhdGlvbiIsImtleXdvcmRTdHlsZSIsIndpZHRoIiwiaWQiLCJvbktleVVwIiwibWFwTG9jYWxPYmoiLCJpdGVtc051bWJlciIsIml0ZW1zTGlzdCIsIml0ZW1BY3RpdmUiLCJtYXBTZWFyY2hnZW90YWJsZUlkIiwibWFwU2VhcmNoVGFncyIsIm1hcFNlYXJjaEZpbHRlciIsIk1hcCIsImVuYWJsZU1hcENsaWNrIiwiY2VudGVyQW5kWm9vbSIsImNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMiLCJuZXh0UHJvcHMiLCJnZXROZWFyYnkiLCJwYWdlIiwibXlHZW8iLCJHZW9jb2RlciIsIl90aGlzIiwiZ2V0UG9pbnQiLCJwb2ludCIsInJlcXdlc3QiLCJ1cmwiLCJ0eXBlIiwiYWsiLCJnZW90YWJsZV9pZCIsImxuZyIsImxhdCIsInJhZGl1cyIsInBhZ2VfaW5kZXgiLCJwYWdlX3NpemUiLCJqc29ucENhbGxiYWNrIiwic3VjY2VzcyIsInRvdGFsIiwiY29udGVudHMiLCJzaG93TmVhcmJ5IiwiYWxlcnQiLCJrIiwiUG9pbnQiLCJtYXJrZXIiLCJNYXJrZXIiLCJsYWJlbCIsIkxhYmVsIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwicGFyc2VJbnQiLCJvZmZzZXQiLCJTaXplIiwic2V0U3R5bGUiLCJib3JkZXIiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsInNldExhYmVsIiwic2V0VGl0bGUiLCJ0aXRsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaG93SW5mb1dpbmRvdyIsImdldExhYmVsIiwiY29udGVudCIsImNoYXJDb2RlQXQiLCJhZGRPdmVybGF5IiwiaW5kZXgiLCJpdGVtSW5mbyIsInRlbCIsImluZm9XaW5kb3ciLCJJbmZvV2luZG93IiwicGFuZWwiLCJlbmFibGVBdXRvUGFuIiwib3BlbkluZm9XaW5kb3ciLCJjbGlja01hcEl0ZW0iLCJlbGUiLCJlbGVDbGFzcyIsIml0ZW1JbmRleCIsInBhcmVudE5vZGUiLCJtYXBJdGVtQWN0aWVTdHlsZSIsImRpc3BsYXkiLCJpdGVtIiwiZGF0YS1rZXkiLCJTcGlubmVyIiwiUHJvZ3Jlc3NCYXIiLCJyYXRlIiwiZG9uZSIsInNwZWVkIiwic3Bpbm5lciIsImVhc2luZyIsIm1heFJhdGUiLCJpbmNTdGVwIiwibWluU3RlcCIsIm1heFN0ZXAiLCJ0cmlja2xlIiwidHJpY2tsZVNwZWVkIiwic2V0VHJpY2tsZSIsInN0YXJ0IiwiX2luaXQiLCJzZXQiLCJfYXV0b0luYyIsIm4iLCJfZm9ybWF0IiwiaW5jIiwibmV3UmF0ZSIsInNldFRpbWVvdXQiLCJwcm9zIiwicGFyc2VGbG9hdCIsInRpbWVyIiwiX2NsZWFySW50ZXJ2YWwiLCJyYW5kb20iLCJzZXRJbnRlcnZhbCIsIl9nZXRSYWRvbVN0ZXAiLCJjb25zb2xlIiwibG9nIiwiY2xlYXJJbnRlcnZhbCIsIm1pbiIsIm1heCIsIk1hdGgiLCJwcm9ncmVzc1N0eWxlIiwib3BhY2l0eSIsInRyYW5zaXRpb24iLCJiYXJTdHlsZSIsIlRvb2xUaXAiLCJ0aXAiLCJ0cmlnZ2VyIiwiZGVsYXkiLCJob3ZlcmFibGUiLCJwb3NpdGlvbiIsImFIcmVmIiwiaXNBY3RpdmUiLCJpc09uVGlwIiwidGlwSGVpZ2h0IiwiaGFuZGxlTW91c2VPdmVyIiwiaGFuZGxlTW91c2VPdXQiLCJoYW5kbGVUaXBNb3VzZU92ZXIiLCJoYW5kbGVUaXBNb3VzZU91dCIsImNvbXBvbmVudERpZFVwZGF0ZSIsInNldFRpcFBvc2l0aW9uIiwicmVmcyIsImZsYWciLCJvZmZzZXRIZWlnaHQiLCJ0aXBXaWR0aCIsIm9mZnNldFdpZHRoIiwiY29udFdpZHRoIiwiY29udEhlaWdodCIsInRvcCIsImxlZnQiLCJib3R0b20iLCJoZWlnaHQiLCJwcmV2ZXJ0VGlwT3ZlcmZsb3ciLCJ0aXBYIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYXZhaWxXaWR0aCIsImRvY3VtZW50IiwiYm9keSIsImNsaWVudFdpZHRoIiwiZ2V0VGlwU3R5bGUiLCJyZWYiLCJvbk1vdXNlT3ZlciIsIm9uTW91c2VPdXQiLCJocmVmIl0sIm1hcHBpbmdzIjoiQUFDQSxHQUFJQSxhQUFBQyxNQUFBQyxhQUFpQ0MsWUFBQSxjQUNqQ0MsZ0JBQWlCLFdBQ2IsT0FDSUMsV0FBWSxLQUNaQyxZQUFZLElBR3BCQyxlQUFnQixXQUNaQyxLQUFLQyxVQUFVSCxZQUFhRSxLQUFLRSxNQUFNSixjQUUzQ0ssb0JBQXFCLFNBQVNDLEdBQzFCSixLQUFLQyxVQUFVSixXQUFZTyxFQUFTTixZQUFZLElBQzdDRSxLQUFLSyxNQUFNQyxTQUNWTixLQUFLSyxNQUFNQyxRQUFRRixJQUczQkcsT0FBUSxXQUNKLE1BQ0lkLE9BQUFlLGNBQUEsT0FBSUMsVUFBQyxlQUNEaEIsTUFBQWUsY0FBQ0UsbUJBQWlCQyxjQUFDWCxLQUFlRSxNQUFLSixXQUFnQmMsUUFBRVosS0FBU0QsZ0JBQzdEQyxLQUFLRSxNQUFNTCxXQUFXRyxLQUFLRSxNQUFNTCxXQUFXRyxLQUFLSyxNQUFNUSxjQUUzRGIsS0FBS0UsTUFBTUosV0FDUkwsTUFBQWUsY0FBQ00sYUFBV0Ms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QkFBSzJCLFdBQWlCeFAsS0FBVThOLGVBQU9sTixRQUFnQlosS0FBQWdCLGFBQWNoQixLQUFhSyxNQUFDWSxVQUNuSHhCLE1BQUFlLGNBQUEsT0FBSStPLFlBQUN2UCxLQUFhK04sbUJBQXVCeUIsV0FBRXhQLEtBQVlnTyxrQkFBS3ZOLFVBQW1CLE1BQVU2TyxJQUFBLE1BQVM3SyxNQUFDekUsS0FBTXFQLGVBQVlyUCxLQUFXSyxNQUFLK00sTUFKakoiLCJmaWxlIjoiQ2hhcm0tVUkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyDmlbTkvZPnu4Tku7ZcclxudmFyIEFkZHJlc3NMaXN0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBub3dBZGRyZXNzOiBudWxsLFxyXG4gICAgICAgICAgICBpc1dyYXBTaG93OiBmYWxzZVxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlQnRuQ2xpY2s6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzV3JhcFNob3c6ICF0aGlzLnN0YXRlLmlzV3JhcFNob3d9KTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVTZWxlY3RBZGRyZXNzOiBmdW5jdGlvbihzZWxlY3RDdCkge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe25vd0FkZHJlc3M6IHNlbGVjdEN0LGlzV3JhcFNob3c6IGZhbHNlfSk7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy5zZXRDaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucHJvcHMuc2V0Q2l0eShzZWxlY3RDdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJBZGRyZXNzTGlzdFwiPlxyXG4gICAgICAgICAgICAgICAgPEFkZHJlc3NEcm9wQnV0dG9uIHRyaWFuZ2xlU3RhdGU9e3RoaXMuc3RhdGUuaXNXcmFwU2hvd30gb25DbGljaz17dGhpcy5oYW5kbGVCdG5DbGlja30+XHJcbiAgICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUubm93QWRkcmVzcz90aGlzLnN0YXRlLm5vd0FkZHJlc3M6dGhpcy5wcm9wcy5sb2NhbEFkZHJlc3N9XHJcbiAgICAgICAgICAgICAgICA8L0FkZHJlc3NEcm9wQnV0dG9uPlxyXG4gICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuaXNXcmFwU2hvdz9cclxuICAgICAgICAgICAgICAgICAgICA8QWRkcmVzc1dyYXAgYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9IGxvY2FsQWRkcmVzcz17dGhpcy5wcm9wcy5sb2NhbEFkZHJlc3N9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMuaGFuZGxlU2VsZWN0QWRkcmVzc30vPlxyXG4gICAgICAgICAgICAgICAgICAgIDpudWxsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5LiL5ouJ5oyJ6ZKuXHJcbnZhciBBZGRyZXNzRHJvcEJ1dHRvbiA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnByb3BzLm9uQ2xpY2soKTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiQWRkcmVzc0Ryb3BCdXR0b25cIiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT5cclxuICAgICAgICAgICAgICAgIHt0aGlzLnByb3BzLmNoaWxkcmVufVxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRyaWFuZ2xlIFwiK3RoaXMucHJvcHMudHJpYW5nbGVTdGF0ZX0+PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOWcsOWdgOaTjeS9nOahhuWuueWZqFxyXG52YXIgQWRkcmVzc1dyYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc1dyYXBcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0NvbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8QWRkcmVzc0xvY2F0aW9uIGxvY2FsQWRkcmVzcz17dGhpcy5wcm9wcy5sb2NhbEFkZHJlc3N9IGhhbmRsZVNlbGVjdEFkZHJlc3M9e3RoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzc30gLz5cclxuICAgICAgICAgICAgICAgICAgICA8QWRkcmVzc1NlYXJjaElucHV0IGFkZHJlc3NEYXRhPXt0aGlzLnByb3BzLmFkZHJlc3NEYXRhfSBoYW5kbGVTZWxlY3RBZGRyZXNzPXt0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3N9IC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPEFkZHJlc3NMaXN0V3JhcCBhZGRyZXNzRGF0YT17dGhpcy5wcm9wcy5hZGRyZXNzRGF0YX0gaGFuZGxlU2VsZWN0QWRkcmVzcz17dGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzfSAvPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5a6a5L2N5b2T5YmN5Zyw5Z2AXHJcbnZhciBBZGRyZXNzTG9jYXRpb24gPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzKHRoaXMucHJvcHMubG9jYWxBZGRyZXNzKTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xvY2F0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICDnjJzkvaDlnKjvvJo8c3BhbiBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrfT57dGhpcy5wcm9wcy5sb2NhbEFkZHJlc3N9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOWcsOWdgOaQnOe0olxyXG52YXIgQWRkcmVzc1NlYXJjaElucHV0ID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN1bHQ6IFtdLFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlUmVzdWx0Q2xpY2s6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgYWRkcmVzcyA9IGUudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YScpO1xyXG4gICAgICAgIHRoaXMucHJvcHMuaGFuZGxlU2VsZWN0QWRkcmVzcyhhZGRyZXNzKTtcclxuICAgIH0sXHJcbiAgICBoYW5kbGVTZWFyY2g6IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgdmFyIGNvbnQgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICAgICAgdmFyIGxlbiA9IGNvbnQubGVuZ3RoO1xyXG4gICAgICAgIHZhciBhZGRyZXNzRGF0YSA9IHRoaXMucHJvcHMuYWRkcmVzc0RhdGE7XHJcbiAgICAgICAgLy8g5Yik5pat5piv5rGJ5a2X6L+Y5piv5ou86Z+zXHJcbiAgICAgICAgdmFyIHJlZz0vXltcXHU0RTAwLVxcdTlGQTVdKyQvO1xyXG4gICAgICAgIGlmKHJlZy50ZXN0KGNvbnQpKSB7XHJcbiAgICAgICAgICAgIC8vIOaYr+axieWtl+WkhOeQhlxyXG4gICAgICAgICAgICB2YXIgX3Jlc3VsdEggPSBbXTtcclxuICAgICAgICAgICAgdmFyIGogPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleUggaW4gYWRkcmVzc0RhdGEpIHtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIga2V5SFMgaW4gYWRkcmVzc0RhdGFba2V5SF0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZihhZGRyZXNzRGF0YVtrZXlIXVtrZXlIU10uY2l0eS5zdWJzdHJpbmcoMCxsZW4pID09IGNvbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc3VsdEhbal0gID0gYWRkcmVzc0RhdGFba2V5SF1ba2V5SFNdLmNpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGorKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7cmVzdWx0OiBfcmVzdWx0SH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyDmmK/mi7zpn7NcclxuICAgICAgICB2YXIgRkwgPSBjb250LnN1YnN0cmluZygwLDEpLnRvTG9jYWxlVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgdmFyIHJlc3VsdEZMID0gYWRkcmVzc0RhdGFbRkxdO1xyXG4gICAgICAgIHZhciBfcmVzdWx0ID0gW107XHJcbiAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgIGZvcih2YXIga2V5IGluIHJlc3VsdEZMKSB7XHJcbiAgICAgICAgICAgIGlmKGtleS5zdWJzdHJpbmcoMCxsZW4pID09IGNvbnQudG9Mb2NhbGVMb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgX3Jlc3VsdFtpXSAgPSByZXN1bHRGTFtrZXldLmNpdHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtyZXN1bHQ6IF9yZXN1bHR9KTtcclxuICAgIH0sXHJcbiAgICByZW5kZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBfaGFuZGxlUmVzdWx0Q2xpY2sgPSB0aGlzLmhhbmRsZVJlc3VsdENsaWNrO1xyXG4gICAgICAgIHZhciByZXN1bHROb2RlcyA9IHRoaXMuc3RhdGUucmVzdWx0Lm1hcChmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgICAgICA8bGkgZGF0YT17cmVzdWx0fSBvbkNsaWNrPXtfaGFuZGxlUmVzdWx0Q2xpY2t9PntyZXN1bHR9PC9saT5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NTZWFyY2hcIj5cclxuICAgICAgICAgICAgICAgIOebtOaOpeaQnOe0olxyXG4gICAgICAgICAgICAgICAgPGlucHV0IG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVNlYXJjaH0gcGxhY2Vob2xkZXI9XCLor7fovpPlhaXln47luILlkI1cIiAvPlxyXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIkFkZHJlc3NTZWFyY2hSZXN1bHRcIj5cclxuICAgICAgICAgICAgICAgICAgICB7cmVzdWx0Tm9kZXN9XHJcbiAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbi8vIOWcsOWdgOWIl+ihqOWuueWZqFxyXG52YXIgQWRkcmVzc0xpc3RXcmFwID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgYWRkcmVzc0RhdGEgPSB0aGlzLnByb3BzLmFkZHJlc3NEYXRhO1xyXG4gICAgICAgIHZhciBoYW5kbGVTZWxlY3RBZGRyZXNzID0gdGhpcy5wcm9wcy5oYW5kbGVTZWxlY3RBZGRyZXNzO1xyXG4gICAgICAgIHZhciByb3dOb2RlcyA9IGZ1bmN0aW9uKGRhdGEpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnQgPSBbXTtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICBmb3IodmFyIGtleSBpbiBkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBjb250W2ldICA9IDxBZGRyZXNzTGlzdFJvdyBrZXk9e2tleX0ga2V5RGF0YT17a2V5fSBkYXRhPXtkYXRhW2tleV19IGhhbmRsZVNlbGVjdEFkZHJlc3M9e2hhbmRsZVNlbGVjdEFkZHJlc3N9IC8+O1xyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb250O1xyXG4gICAgICAgIH0oYWRkcmVzc0RhdGEpO1xyXG4gICAgICAgIHJldHVybiAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiQWRkcmVzc0xpc3RXcmFwXCI+XHJcbiAgICAgICAgICAgICAgICB7cm93Tm9kZXN9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuLy8g5Zyw5Z2A5YiX6KGo6KGMXHJcbnZhciBBZGRyZXNzTGlzdFJvdyA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGhhbmRsZUNsaWNrOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIGFkZHJlc3MgPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2RhdGEnKTtcclxuICAgICAgICB0aGlzLnByb3BzLmhhbmRsZVNlbGVjdEFkZHJlc3MoYWRkcmVzcyk7XHJcbiAgICB9LFxyXG4gICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgaGFuZGxlQ2xpY2sgPSB0aGlzLmhhbmRsZUNsaWNrO1xyXG4gICAgICAgIHZhciBkYXRhTm9kZXMgPSBmdW5jdGlvbihkYXRhKSB7XHJcbiAgICAgICAgICAgIHZhciBjb250ID0gW107XHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgZm9yKHZhciBrZXkgaW4gZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgY29udFtpXSAgPSA8c3BhbiBrZXk9e1wicFwiK2tleX0+PHNwYW4gZGF0YT17ZGF0YVtrZXldLmNpdHl9IGtleT17aX0gIG9uQ2xpY2s9e2hhbmRsZUNsaWNrfSA+e2RhdGFba2V5XS5jaXR5fTwvc3Bhbj48L3NwYW4+O1xyXG4gICAgICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb250O1xyXG4gICAgICAgIH0odGhpcy5wcm9wcy5kYXRhKTtcclxuICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIkFkZHJlc3NMaXN0Um93XCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJrZXlEYXRhXCI+e3RoaXMucHJvcHMua2V5RGF0YX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJkYXRhV3JhcFwiPntkYXRhTm9kZXN9PC9zcGFuPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59KTtcclxuIiwiJ3VzZSBzdHJpY3QnXHJcblxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gIENvbXBvbmVudDogQWRkcmVzc1BpY2tlclxyXG4vL1xyXG4vLyAgSW5jbHVkZTogQWRkcmVzc0xpc3QgQWRkcmVzc1NlYXJjaFxyXG4vL1xyXG4vLyAgRGVwZW5kZW5jZTogcmVxd2VzdC5qc1xyXG4vL1xyXG4vLyAgRGVzY3JpcHRpb246ICBKc3ggZm9yIEFkZHJlc3NQaWNrZXJcclxuLy9cclxuLy8gIFRPRE86IFtAVG9uZ2NoZW5nUWl1XSBBZGRyZXNzTGlzdCDmm7TmjaLln47luILlkI7osIPnlKggc2V0Q2l0eSDorr7nva7ln47luIJcclxuLy8gICAgICAgICAg5L2g5Y+v5Lul5qC55o2uIEFkZHJlc3NQaWNrZXIg55qEIHN0YXRlLmFkZHJlc3Mg5Yik5pat5piv5ZCm5bey57uP6L+b6KGM5LqG5pCc57SiXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxudmFyIEFkZHJlc3NQaWNrZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNpdHk6IFwi5YyX5LqsXCIsXHJcbiAgICAgIGN1cnJlbnRDaXR5OiBudWxsLFxyXG4gICAgICBhZGRyZXNzOiBudWxsXHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgZ2V0RGVmYXVsdFByb3BzOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7fTtcclxuICB9LFxyXG4gIGNvbXBvbmVudFdpbGxNb3VudDogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbXlDaXR5ID0gbmV3IEJNYXAuTG9jYWxDaXR5KCk7XHJcbiAgICBteUNpdHlcclxuICAgICAgLmdldChmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICB2YXIgY3VycmVudENpdHkgPSByZXMubmFtZTtcclxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICAgICAgY3VycmVudENpdHk6IGN1cnJlbnRDaXR5XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgfSxcclxuICBzZXRBZGRyZXNzOiBmdW5jdGlvbihhZCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFkZHJlc3M6IGFkXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHNldENpdHk6IGZ1bmN0aW9uKGN0KSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgY2l0eTogY3RcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBhZGRyZXNzUGlja2VyQWN0aXZlU3R5bGUgPSB0aGlzLnN0YXRlLmFkZHJlc3NcclxuICAgICAgPyB0aGlzLnByb3BzLmFkZHJlc3NQaWNrZXJBY3RpdmVTdHlsZVxyXG4gICAgICA6IHt9O1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJhZGRyZXNzLXBpY2tlclwiIHN0eWxlPXthZGRyZXNzUGlja2VyQWN0aXZlU3R5bGV9PlxyXG4gICAgICAgIDxBZGRyZXNzTGlzdCBzZXRDaXR5PXt0aGlzLnNldENpdHl9IGxvY2FsQWRkcmVzcz17dGhpcy5zdGF0ZS5jdXJyZW50Q2l0eX0gYWRkcmVzc0RhdGE9e3RoaXMucHJvcHMuYWRkcmVzc0RhdGF9Lz5cclxuICAgICAgICA8QWRkcmVzc0lucHV0IGNpdHk9e3RoaXMuc3RhdGUuY2l0eX0gc2VhcmNoU3VibWl0SGFuZGxlcj17dGhpcy5zZXRBZGRyZXNzfS8+XHJcbiAgICAgICAgPEFkZHJlc3NNYXAgYWRkcmVzc0tleXdvcmQ9e3RoaXMuc3RhdGUuYWRkcmVzc30gY2l0eT17dGhpcy5wcm9wcy5jaXR5fS8+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG4iLCIndXNlIHN0cmljdCdcclxuXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyAgQ29tcG9uZW50OiBBZGRyZXNzU2VhcmNoXHJcbi8vXHJcbi8vICBJbmNsdWRlOiBBZGRyZXNzSW5wdXQgQWRkcmVzc01hcFxyXG4vL1xyXG4vLyAgRGVwZW5kZW5jZTogcmVxd2VzdC5qc1xyXG4vL1xyXG4vLyAgRGVzY3JpcHRpb246ICBKc3ggZm9yIEFkZHJlc3NTZWFyY2hcclxuLy9cclxuLy8gIFRPRE86IFthZGRdIOWinuWKoOWQhOmhueWPguaVsFxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qIEFkZHJlc3NTZWFyY2ggKi9cclxudmFyIEFkZHJlc3NTZWFyY2ggPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGFkZHJlc3M6IG51bGxcclxuICAgIH07XHJcbiAgfSxcclxuICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaW5wdXRXaWR0aDogNDAwLFxyXG4gICAgICBpbnB1dFRpcDogXCLovpPlhaXmg7PopoHmkJzntKLnmoTlnLDlnYBcIixcclxuICAgICAgc2VhcmNoQnRuVGV4dDogXCLmkJzntKJcIixcclxuICAgICAgY2l0eTogXCLljJfkuqxcIlxyXG4gICAgfVxyXG4gIH0sXHJcbiAgY29tcG9uZW50V2lsbE1vdW50OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBteUNpdHkgPSBuZXcgQk1hcC5Mb2NhbENpdHkoKTtcclxuICAgIG15Q2l0eVxyXG4gICAgICAuZ2V0KGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgIHZhciBjdXJyZW50Q2l0eSA9IHJlcy5uYW1lO1xyXG4gICAgICAgIHRoaXMuc2V0Q2l0eShjdXJyZW50Q2l0eSk7XHJcbiAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgfSxcclxuICBzZXRBZGRyZXNzOiBmdW5jdGlvbihhZCkge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIGFkZHJlc3M6IGFkXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIHNldENpdHk6IGZ1bmN0aW9uKGN0KSB7XHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgY2l0eTogY3RcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkcmVzcy1zZWFyY2hcIj5cclxuICAgICAgICA8QWRkcmVzc0lucHV0IGNpdHk9e3RoaXMucHJvcHMuY2l0eX0gaW5wdXRUaXA9e3RoaXMucHJvcHMuaW5wdXRUaXB9IGlucHV0V2lkdGg9e3RoaXMucHJvcHMuaW5wdXRXaWR0aH0gc2VhcmNoQnRuVGV4dD17dGhpcy5wcm9wcy5zZWFyY2hCdG5UZXh0fSBzZWFyY2hTdWJtaXRIYW5kbGVyPXt0aGlzLnNldEFkZHJlc3N9Lz5cclxuICAgICAgICA8QWRkcmVzc01hcCBhZGRyZXNzS2V5d29yZD17dGhpcy5zdGF0ZS5hZGRyZXNzfSBjaXR5PXt0aGlzLnByb3BzLmNpdHl9Lz5cclxuICAgICAgPC9kaXY+XHJcbiAgICApO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKiBBZGRyZXNzSW5wdXQgKi9cclxudmFyIEFkZHJlc3NJbnB1dCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAga2V5d29yZDogbnVsbFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbnB1dFdpZHRoOiA0MDAsXHJcbiAgICAgIGlucHV0VGlwOiBcIui+k+WFpeaDs+imgeaQnOe0oueahOWcsOWdgFwiLFxyXG4gICAgICBzZWFyY2hCdG5UZXh0OiBcIuaQnOe0olwiLFxyXG4gICAgICBjaXR5OiBcIuWMl+S6rFwiXHJcbiAgICB9XHJcbiAgfSxcclxuICBzZWFyY2hTdWJtaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGtleXdvcmQgPSB0aGlzLmdldERPTU5vZGUoKVxyXG4gICAgICAuY2hpbGRyZW5bMF1cclxuICAgICAgLnZhbHVlO1xyXG4gICAgdGhpcy5wcm9wc1xyXG4gICAgICAuc2VhcmNoU3VibWl0SGFuZGxlcihrZXl3b3JkKTtcclxuICB9LFxyXG4gIGNoZWNrRW50ZXI6IGZ1bmN0aW9uKGUpIHtcclxuICAgIChlLmtleUNvZGUgPT09IDEzKSAmJiB0aGlzLnNlYXJjaFN1Ym1pdCgpO1xyXG4gIH0sXHJcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIG1hcEF1dG9Db21wbGV0ZSA9IG5ldyBCTWFwLkF1dG9jb21wbGV0ZSh7XHJcbiAgICAgIFwiaW5wdXRcIjogXCJfYWRkcmVzc1NlYXJjaEtleXdvcmRcIixcclxuICAgICAgXCJsb2NhdGlvblwiOiB0aGlzLnByb3BzLmNpdHlcclxuICAgIH0pO1xyXG4gIH0sXHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBrZXl3b3JkU3R5bGUgPSB7XHJcbiAgICAgIHdpZHRoOiB0aGlzLnByb3BzLmlucHV0V2lkdGhcclxuICAgIH07XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtaW5wdXRcIj5cclxuICAgICAgICA8aW5wdXQgY2xhc3NOYW1lPVwiaW5wdXQta2V5d29yZFwiIGlkPVwiX2FkZHJlc3NTZWFyY2hLZXl3b3JkXCIgb25LZXlVcD17dGhpcy5jaGVja0VudGVyfSBwbGFjZWhvbGRlcj17dGhpcy5wcm9wcy5pbnB1dFRpcH0gc3R5bGU9e2tleXdvcmRTdHlsZX0+PC9pbnB1dD5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImlucHV0LWNvbW1pdFwiIG9uQ2xpY2s9e3RoaXMuc2VhcmNoU3VibWl0fT57dGhpcy5wcm9wcy5zZWFyY2hCdG5UZXh0fTwvYnV0dG9uPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qIEFkZHJlc3NNYXAgKi9cclxudmFyIEFkZHJlc3NNYXAgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgZ2V0SW5pdGlhbFN0YXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1hcExvY2FsT2JqOiBudWxsLFxyXG4gICAgICBpdGVtc051bWJlcjogMCxcclxuICAgICAgaXRlbXNMaXN0OiBbXSxcclxuICAgICAgaXRlbUFjdGl2ZTogMFxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBtYXBTZWFyY2hnZW90YWJsZUlkOiAxMjE3NjMsXHJcbiAgICAgIG1hcFNlYXJjaFRhZ3M6IFwiXCIsXHJcbiAgICAgIG1hcFNlYXJjaEZpbHRlcjogXCJcIlxyXG4gICAgfVxyXG4gIH0sXHJcbiAgY29tcG9uZW50RGlkTW91bnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5tYXAgPSBuZXcgQk1hcC5NYXAoXCJfYWRkcmVzc01hcE1haW5cIiwge1xyXG4gICAgICBlbmFibGVNYXBDbGljazogZmFsc2VcclxuICAgIH0pO1xyXG4gICAgdGhpcy5tYXBcclxuICAgICAgLmNlbnRlckFuZFpvb20odGhpcy5wcm9wcy5jaXR5LCAxMik7XHJcbiAgfSxcclxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiBmdW5jdGlvbihuZXh0UHJvcHMpIHtcclxuICAgIG5leHRQcm9wcy5hZGRyZXNzS2V5d29yZCAmJiB0aGlzLmdldE5lYXJieShuZXh0UHJvcHMuYWRkcmVzc0tleXdvcmQpO1xyXG4gIH0sXHJcbiAgZ2V0TmVhcmJ5OiBmdW5jdGlvbihrZXl3b3JkLCBwYWdlKSB7XHJcbiAgICAvLyDlnLDlnYDop6PmnpDojrflj5bnu4/nuqzluqZcclxuICAgIHZhciBteUdlbyA9IG5ldyBCTWFwLkdlb2NvZGVyKCk7XHJcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgbXlHZW9cclxuICAgICAgLmdldFBvaW50KGtleXdvcmQsIGZ1bmN0aW9uKHBvaW50KSB7IC8vIOino+aekOaIkOWKn+WQjueahOWbnuiwgyDmkJzntKLkv6Hmga9cclxuICAgICAgICBpZiAocG9pbnQpIHtcclxuICAgICAgICAgIHJlcXdlc3Qoe1xyXG4gICAgICAgICAgICB1cmw6ICdodHRwOi8vYXBpLm1hcC5iYWlkdS5jb20vZ2Vvc2VhcmNoL3YzL25lYXJieScsXHJcbiAgICAgICAgICAgIHR5cGU6ICdqc29ucCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICBhazogJ3NkcDlxQ2JUb1M3RTIzbkRSeGFBQXdiaCcsXHJcbiAgICAgICAgICAgICAgZ2VvdGFibGVfaWQ6IDEyMTc2MyxcclxuICAgICAgICAgICAgICBsb2NhdGlvbjogcG9pbnQubG5nICsgJywnICsgcG9pbnQubGF0LFxyXG4gICAgICAgICAgICAgIHJhZGl1czogMTAwMDAsXHJcbiAgICAgICAgICAgICAgcGFnZV9pbmRleDogcGFnZSB8fCAwLFxyXG4gICAgICAgICAgICAgIHBhZ2Vfc2l6ZTogNTBcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAganNvbnBDYWxsYmFjazogJ2NhbGxiYWNrJyxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgaXRlbXNOdW1iZXI6IHJlcy50b3RhbCxcclxuICAgICAgICAgICAgICAgIGl0ZW1zTGlzdDogcmVzLmNvbnRlbnRzXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgX3RoaXMuc2hvd05lYXJieSgpO1xyXG4gICAgICAgICAgICAgIF90aGlzLm1hcFxyXG4gICAgICAgICAgICAgICAgLmNlbnRlckFuZFpvb20oX3RoaXMucHJvcHMuYWRkcmVzc0tleXdvcmQsIDEyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYWxlcnQoXCLmnKrmib7liLDor6XljLrln5/kv6Hmga9cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LmJpbmQodGhpcyksIHRoaXMucHJvcHMuY2l0eSk7XHJcbiAgfSxcclxuICBzaG93TmVhcmJ5OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICBmb3IgKHZhciBrIGluIHRoaXMuc3RhdGUuaXRlbXNMaXN0KSB7XHJcbiAgICAgIHZhciBwb2ludCA9IG5ldyBCTWFwLlBvaW50KHRoaXMuc3RhdGUuaXRlbXNMaXN0W2tdLmxvY2F0aW9uWzBdLCB0aGlzLnN0YXRlLml0ZW1zTGlzdFtrXS5sb2NhdGlvblsxXSk7XHJcbiAgICAgIHZhciBtYXJrZXIgPSBuZXcgQk1hcC5NYXJrZXIocG9pbnQpO1xyXG4gICAgICB2YXIgbGFiZWwgPSBuZXcgQk1hcC5MYWJlbChTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgcGFyc2VJbnQoaykpLCB7XHJcbiAgICAgICAgb2Zmc2V0OiBuZXcgQk1hcC5TaXplKDQsIDIpXHJcbiAgICAgIH0pO1xyXG4gICAgICBsYWJlbC5zZXRTdHlsZSh7XHJcbiAgICAgICAgYm9yZGVyOiAnbm9uZScsXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAndHJhbnNwYXJlbnQnLFxyXG4gICAgICAgIGNvbG9yOiAnI0ZBRkFGQSdcclxuICAgICAgfSk7XHJcbiAgICAgIG1hcmtlci5zZXRMYWJlbChsYWJlbCk7XHJcbiAgICAgIG1hcmtlci5zZXRUaXRsZSh0aGlzLnN0YXRlLml0ZW1zTGlzdFtrXS50aXRsZSk7XHJcbiAgICAgIG1hcmtlclxyXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgIF90aGlzLnNob3dJbmZvV2luZG93KHRoaXMuZ2V0TGFiZWwoKS5jb250ZW50LmNoYXJDb2RlQXQoMCkgLSA2NSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIHRoaXMubWFwXHJcbiAgICAgICAgLmFkZE92ZXJsYXkobWFya2VyKTtcclxuICAgIH1cclxuICAgIHRoaXMuc3RhdGUuaXRlbXNMaXN0Lmxlbmd0aCAmJiB0aGlzLnNob3dJbmZvV2luZG93KDApO1xyXG4gIH0sXHJcbiAgc2hvd0luZm9XaW5kb3c6IGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICBpZiAoaW5kZXggIT09IHRoaXMuc3RhdGUuaXRlbUFjdGl2ZSB8fCAxKSB7XHJcbiAgICAgIHZhciBwb2ludCA9IG5ldyBCTWFwLlBvaW50KHRoaXMuc3RhdGUuaXRlbXNMaXN0W2luZGV4XS5sb2NhdGlvblswXSwgdGhpcy5zdGF0ZS5pdGVtc0xpc3RbaW5kZXhdLmxvY2F0aW9uWzFdKTtcclxuICAgICAgdmFyIGl0ZW1JbmZvID0gdGhpcy5zdGF0ZS5pdGVtc0xpc3RbaW5kZXhdO1xyXG4gICAgICB2YXIgdGl0bGUgPSBpdGVtSW5mby50aXRsZTtcclxuICAgICAgdmFyIGFkZHJlc3MgPSBpdGVtSW5mby5hZGRyZXNzO1xyXG4gICAgICB2YXIgdGVsID0gaXRlbUluZm8udGVsO1xyXG4gICAgICB2YXIgY29udGVudCA9ICc8cCBjbGFzcz1cIm1hcC1pbmZvLXdpbmRvd1wiPuWcsOWdgO+8micgKyBhZGRyZXNzICsgJzxidXR0b24gY2xhc3M9XCJtYXAtaW5mby1idG5cIj7ov5vlhaXkvZPpqozlupc8L2J1dHRvbj4nICsgJzwvcD4nO1xyXG4gICAgICB2YXIgaW5mb1dpbmRvdyA9IG5ldyBCTWFwLkluZm9XaW5kb3coY29udGVudCwge1xyXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcclxuICAgICAgICB3aWR0aDogMjkwLFxyXG4gICAgICAgIHBhbmVsOiBcInBhbmVsXCIsXHJcbiAgICAgICAgZW5hYmxlQXV0b1BhbjogdHJ1ZSxcclxuICAgICAgICBvZmZzZXQ6IG5ldyBCTWFwLlNpemUoMCwgLTI1KVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgaXRlbUFjdGl2ZTogKyBpbmRleFxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5tYXBcclxuICAgICAgICAub3BlbkluZm9XaW5kb3coaW5mb1dpbmRvdywgcG9pbnQpO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgY2xpY2tNYXBJdGVtOiBmdW5jdGlvbihlKSB7XHJcbiAgICB2YXIgZWxlID0gZS50YXJnZXQ7XHJcbiAgICB2YXIgZWxlQ2xhc3MgPSBlbGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpO1xyXG4gICAgdmFyIGl0ZW1JbmRleCA9IDA7XHJcbiAgICBpZiAoZWxlQ2xhc3MgPT09IFwibWFwLWl0ZW1cIikge1xyXG4gICAgICBpdGVtSW5kZXggPSBlbGUuZ2V0QXR0cmlidXRlKCdkYXRhLWtleScpO1xyXG4gICAgfSBlbHNlIGlmIChlbGVDbGFzcyA9PT0gXCJtYXAtaXRlbS1tYXJrXCIgfHwgZWxlQ2xhc3MgPT09IFwibWFwLWl0ZW0tbWFpblwiKSB7XHJcbiAgICAgIGl0ZW1JbmRleCA9IGVsZS5wYXJlbnROb2RlXHJcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcclxuICAgIH0gZWxzZSBpZiAoIWVsZUNsYXNzKSB7XHJcbiAgICAgIGl0ZW1JbmRleCA9IGVsZS5wYXJlbnROb2RlXHJcbiAgICAgICAgLnBhcmVudE5vZGVcclxuICAgICAgICAucGFyZW50Tm9kZVxyXG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoJ2RhdGEta2V5Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpdGVtSW5kZXggPSBlbGUucGFyZW50Tm9kZVxyXG4gICAgICAgIC5wYXJlbnROb2RlXHJcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZGF0YS1rZXknKTtcclxuICAgIH1cclxuICAgIHRoaXMuc2hvd0luZm9XaW5kb3coaXRlbUluZGV4KTtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbWFwSXRlbUFjdGllU3R5bGUgPSB7XHJcbiAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjRjBGMEYwXCJcclxuICAgIH07XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZHJlc3MtbWFwXCIgc3R5bGU9e3tcclxuICAgICAgICBkaXNwbGF5OiB0aGlzLnByb3BzLmFkZHJlc3NLZXl3b3JkXHJcbiAgICAgICAgICA/IFwiYmxvY2tcIlxyXG4gICAgICAgICAgOiBcIm5vbmVcIlxyXG4gICAgICB9fT5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1uYXZcIj5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLW5hdi10aXRsZVwiPlxyXG4gICAgICAgICAgICDpmYTov5HmnIlcclxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWFwLW5hdi1udW1iZXJcIj5cclxuICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5pdGVtc051bWJlcn1cclxuICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICDlrrbkvZPpqozlupdcclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cIm1hcC1pdGVtc1wiIGlkPVwiX2FkZHJlc3NNYXBJdGVtc1wiIG9uQ2xpY2s9e3RoaXMuY2xpY2tNYXBJdGVtfT5cclxuICAgICAgICAgICAge3RoaXNcclxuICAgICAgICAgICAgICAuc3RhdGVcclxuICAgICAgICAgICAgICAuaXRlbXNMaXN0XHJcbiAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoaXRlbSwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDxsaSBjbGFzc05hbWU9XCJtYXAtaXRlbVwiIGRhdGEta2V5PXtpfSBrZXk9e2l9IHN0eWxlPXsoaSA9PT0gdGhpcy5zdGF0ZS5pdGVtQWN0aXZlKVxyXG4gICAgICAgICAgICAgICAgICAgID8gbWFwSXRlbUFjdGllU3R5bGVcclxuICAgICAgICAgICAgICAgICAgICA6XHJcbiAgICAgICAgICAgICAgICAgICAgICB7fX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwibWFwLWl0ZW0tbWFya1wiIHN0eWxlPXsoaSA9PT0gdGhpcy5zdGF0ZS5pdGVtQWN0aXZlKSA/IHtiYWNrZ3JvdW5kQ29sb3I6IFwiIzFiYmM5YlwifSA6IHt9fT57U3RyaW5nLmZyb21DaGFyQ29kZSg2NSArIGkpfTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLW1haW5cIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tdGl0bGVcIj57aXRlbS50aXRsZX08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFwLWl0ZW0tYWRkcmVzc1wiPuWcsOWdgO+8mntpdGVtLmFkZHJlc3N9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1hcC1pdGVtLXRlbFwiPueUteivne+8mntpdGVtLnRlbH08L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPC9saT47XHJcbiAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKX1cclxuICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXAtbWFpblwiIGlkPVwiX2FkZHJlc3NNYXBNYWluXCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG4iLCIndXNlIHN0cmljdCdcclxuXHJcbi8vICA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyAgQ29tcG9uZW50OiBQcm9ncmVzc0JhclxyXG4vL1xyXG4vLyAgSW5jbHVkZTogU3Bpbm5lclxyXG4vL1xyXG4vLyAgRGVzY3JpcHRpb246IEpzeCBmb3IgUHJvZ3Jlc3NCYXJcclxuLy9cclxuLy8gIFRPRE86IFtmaXhdIOS/ruato+WIneWni+aXtiB0cmFuc2l0aW9uIOS4jeeUn+aViOeahOmXrumimFxyXG4vLyAgPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qIFNwaW5uZXIgKi9cclxudmFyIFNwaW5uZXIgPSBSZWFjdC5jcmVhdGVDbGFzcyh7XHJcbiAgcmVuZGVyOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY3Utc3Bpbm5lclwiPjwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG5cclxuLyogUHJvZ3Jlc3NCYXIgKi9cclxudmFyIFByb2dyZXNzQmFyID0gUmVhY3QuY3JlYXRlQ2xhc3Moe1xyXG4gIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByYXRlOiBudWxsLFxyXG4gICAgICBkb25lOiBmYWxzZVxyXG4gICAgfTtcclxuICB9LFxyXG4gIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzcGVlZDogMC42LCAgLy8g5Yqo55S76YCf5bqmXHJcbiAgICAgIHNwaW5uZXI6IHRydWUsICAvLyDmmK/lkKbmnInlnIjlnIhcclxuICAgICAgZWFzaW5nOiAnZWFzZScsICAvLyDliqjnlLvnvJPliqjmm7Lnur9cclxuICAgICAgbWF4UmF0ZTogMC45NiwgIC8vIOi/m+W6puadoeacgOWkp+WuveW6plxyXG4gICAgICBpbmNTdGVwOiAwLjA0LCAgLy8gaW5jIOWinumVv+atpeW5hVxyXG4gICAgICBtaW5TdGVwOiAwLjAwNSwgIC8vIOmaj+acuuWinumVv+eahOacgOWwj+atpeW5hVxyXG4gICAgICBtYXhTdGVwOiAwLjAzLCAgLy8g6ZqP5py65aKe6ZW/55qE5pyA5aSn5q2l5bmFXHJcbiAgICAgIHRyaWNrbGU6IHRydWUsICAvLyDmmK/lkKboh6rliqjlop7plb9cclxuICAgICAgdHJpY2tsZVNwZWVkOiA4MDAsICAvLyDoh6rliqjlop7plb/nmoTpl7TpmpTml7bpl7RcclxuICAgICAgc2V0VHJpY2tsZTogZmFsc2UgIC8vIHNldCDlkI7mmK/lkKboh6rliqjlop7plb/vvIjmnKrlkK/nlKjvvIlcclxuICAgIH07XHJcbiAgfSxcclxuICBzdGFydDogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLl9pbml0KCk7XHJcbiAgICB0aGlzLnNldCgnMC41JScpO1xyXG4gICAgdGhpcy5wcm9wcy50cmlja2xlICYmIHRoaXMuX2F1dG9JbmMoKTtcclxuICB9LFxyXG4gIHNldDogZnVuY3Rpb24obiwgdHJpY2tsZSkge1xyXG4gICAgIXRyaWNrbGUgJiYgdGhpcy5faW5pdCgpO1xyXG4gICAgbiA9IHRoaXMuX2Zvcm1hdChuKTtcclxuICAgIGlmIChuID09PSAxMDApIHtcclxuICAgICAgLyogZG9uZSAqL1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICByYXRlOiAxMDBcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuID0gbiA+IHRoaXMucHJvcHMubWF4UmF0ZSAqIDEwMFxyXG4gICAgICAgID8gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXHJcbiAgICAgICAgOiBuO1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgICByYXRlOiBuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgaW5jOiBmdW5jdGlvbihuKSB7XHJcbiAgICB0aGlzLl9pbml0KCk7XHJcbiAgICB0aGlzLnByb3BzLnRyaWNrbGUgJiYgdGhpcy5fYXV0b0luYygpO1xyXG4gICAgbiA9IG5cclxuICAgICAgPyB0aGlzLl9mb3JtYXQobilcclxuICAgICAgOiB0aGlzLnByb3BzLmluY1N0ZXAgKiAxMDA7XHJcbiAgICB2YXIgbmV3UmF0ZSA9IHRoaXMuc3RhdGUucmF0ZSArIG47XHJcbiAgICB0aGlzLnNldChuZXdSYXRlICsgJyUnLCB0cnVlKTtcclxuICB9LFxyXG4gIGRvbmU6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zZXQoJzEwMCUnKTtcclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgIGRvbmU6IHRydWVcclxuICAgICAgfSk7XHJcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgICByYXRlOiBudWxsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy5zcGVlZCAqIDIgKiAxMDAwKTtcclxuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy5zcGVlZCAqIDEwMDApO1xyXG4gIH0sXHJcbiAgX2Zvcm1hdDogZnVuY3Rpb24oZGF0YSkgeyAgLy8g5qC85byP5YyW5Li6IDAtMTAwIOeahOaVtOaVsFxyXG4gICAgaWYgKHR5cGVvZiBkYXRhID09PSAnbnVtYmVyJykgeyAgLy8gMC0xIOeahOWwj+aVsFxyXG4gICAgICByZXR1cm4gZGF0YSA+IDFcclxuICAgICAgICA/IHRoaXMucHJvcy5tYXhSYXRlICogMTAwXHJcbiAgICAgICAgOiBkYXRhICogMTAwO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHsgIC8vIOeZvuWIhuavlFxyXG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChkYXRhKSA+IDEwMFxyXG4gICAgICAgID8gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwXHJcbiAgICAgICAgOiBwYXJzZUZsb2F0KGRhdGEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgX2luaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy5zdGF0ZS5kb25lICYmIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICBkb25lOiBmYWxzZVxyXG4gICAgfSk7XHJcbiAgICB0aGlzLnRpbWVyICYmIHRoaXMuX2NsZWFySW50ZXJ2YWwoKTtcclxuICB9LFxyXG4gIF9hdXRvSW5jOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBuZXdSYXRlO1xyXG4gICAgdmFyIHJhbmRvbTtcclxuICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcclxuICAgICAgcmFuZG9tID0gdGhpcy5fZ2V0UmFkb21TdGVwKCk7XHJcbiAgICAgIG5ld1JhdGUgPSB0aGlzLnN0YXRlLnJhdGUgKyByYW5kb207XHJcbiAgICAgIGNvbnNvbGUubG9nKHJhbmRvbSk7XHJcbiAgICAgIGlmIChuZXdSYXRlID4gdGhpcy5wcm9wcy5tYXhSYXRlICogMTAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5wcm9wcy5tYXhSYXRlICogMTAwKTtcclxuICAgICAgICB0aGlzLl9jbGVhckludGVydmFsKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGNvbnNvbGUubG9nKG5ld1JhdGUpO1xyXG4gICAgICB0aGlzLnNldChuZXdSYXRlICsgJyUnLCB0cnVlKTtcclxuICAgIH0uYmluZCh0aGlzKSwgdGhpcy5wcm9wcy50cmlja2xlU3BlZWQpO1xyXG4gIH0sXHJcbiAgX2NsZWFySW50ZXJ2YWw6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy50aW1lciAmJiBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xyXG4gIH0sXHJcbiAgX2dldFJhZG9tU3RlcDogZnVuY3Rpb24obWluLCBtYXgpIHtcclxuICAgIG1pbiA9IG1pbiB8fCB0aGlzLnByb3BzLm1pblN0ZXAgKiAxMDA7XHJcbiAgICBtYXggPSBtYXggfHwgdGhpcy5wcm9wcy5tYXhTdGVwICogMTAwO1xyXG4gICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcclxuICB9LFxyXG4gIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcHJvZ3Jlc3NTdHlsZSA9IHtcclxuICAgICAgLy9kaXNwbGF5OiAoIXRoaXMuc3RhdGUucmF0ZSAmJiB0eXBlb2YgdGhpcy5zdGF0ZS5yYXRlID09PSAnb2JqZWN0JykgPyAnbm9uZScgOiAnYmxvY2snLFxyXG4gICAgICBvcGFjaXR5OiB0aGlzLnN0YXRlLmRvbmVcclxuICAgICAgICA/IDBcclxuICAgICAgICA6IDEsXHJcbiAgICAgIHRyYW5zaXRpb246ICdvcGFjaXR5ICcgKyB0aGlzLnByb3BzLnNwZWVkICogMiArICdzICcgKyB0aGlzLnByb3BzLmVhc2luZ1xyXG4gICAgfTtcclxuICAgIHZhciBiYXJTdHlsZSA9IHtcclxuICAgICAgd2lkdGg6ICF0aGlzLnN0YXRlLnJhdGVcclxuICAgICAgICA/IDBcclxuICAgICAgICA6IHRoaXMuc3RhdGUucmF0ZSArICclJyxcclxuICAgICAgdHJhbnNpdGlvbjogJ3dpZHRoICcgKyB0aGlzLnByb3BzLnNwZWVkICsgJ3MgJyArIHRoaXMucHJvcHMuZWFzaW5nXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGUucmF0ZVxyXG4gICAgICA/IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImN1LXByb2dyZXNzXCIgc3R5bGU9e3Byb2dyZXNzU3R5bGV9PlxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdS1wcm9ncmVzcy1iYXJcIiBzdHlsZT17YmFyU3R5bGV9PjwvZGl2PlxyXG4gICAgICAgICAge3RoaXMucHJvcHMuc3Bpbm5lclxyXG4gICAgICAgICAgICA/IDxTcGlubmVyLz5cclxuICAgICAgICAgICAgOiBudWxsfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICApXHJcbiAgICAgIDogbnVsbDtcclxuICB9XHJcbn0pO1xyXG4iLCJ2YXIgVG9vbFRpcCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcclxuICAgIGdldERlZmF1bHRQcm9wczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGlwOiBcInRpcFwiLFxyXG4gICAgICAgICAgICB0cmlnZ2VyOiAnaG92ZXInLFxyXG4gICAgICAgICAgICBkZWxheTogMCxcclxuICAgICAgICAgICAgaG92ZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgcG9zaXRpb246IFwidGlwXCIsXHJcbiAgICAgICAgICAgIHdpZHRoOiBcIjIwMHB4XCIsXHJcbiAgICAgICAgICAgIHR5cGU6ICdzcGFuJyxcclxuICAgICAgICAgICAgYUhyZWY6IFwiI1wiXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0aGlzLnByb3BzLnBvc2l0aW9uLFxyXG4gICAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIGlzT25UaXA6IGZhbHNlLFxyXG4gICAgICAgICAgICB0aXBIZWlnaHQ6IFwiXCJcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIGhhbmRsZU1vdXNlT3ZlcjogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHJpZ2dlcj09XCJob3ZlclwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiB0cnVlfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGhhbmRsZU1vdXNlT3V0OiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50cmlnZ2VyPT1cImhvdmVyXCIpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUuaXNPblRpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzQWN0aXZlOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykgLCB0aGlzLnByb3BzLmRlbGF5KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLnRyaWdnZXI9PVwiY2xpY2tcIikge1xyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogZmFsc2V9KTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmKCF0aGlzLnN0YXRlLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogdHJ1ZX0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGhhbmRsZVRpcE1vdXNlT3ZlcjogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmKHRoaXMucHJvcHMuaG92ZXJhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2lzT25UaXA6IHRydWV9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7aXNBY3RpdmU6IHRydWV9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaGFuZGxlVGlwTW91c2VPdXQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBpZih0aGlzLnByb3BzLmhvdmVyYWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc09uVGlwOiBmYWxzZX0pO1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtpc0FjdGl2ZTogZmFsc2V9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29tcG9uZW50RGlkVXBkYXRlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICB0aGlzLnNldFRpcFBvc2l0aW9uKCk7XHJcbiAgICB9LFxyXG4gICAgc2V0VGlwUG9zaXRpb246IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0aXAgPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKTtcclxuICAgICAgICB2YXIgY29udCA9IHRoaXMucmVmcy5jb250LmdldERPTU5vZGUoKTtcclxuICAgICAgICBpZighdGhpcy5mbGFnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhdGUudGlwSGVpZ2h0ID0gdGlwLm9mZnNldEhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5mbGFnID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRpcFdpZHRoID0gdGlwLm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHZhciB0aXBIZWlnaHQgPSB0aXAub2Zmc2V0SGVpZ2h0O1xyXG4gICAgICAgIHZhciBjb250V2lkdGggPSBjb250Lm9mZnNldFdpZHRoO1xyXG4gICAgICAgIHZhciBjb250SGVpZ2h0ID0gY29udC5vZmZzZXRIZWlnaHQ7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlLnBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJsZWZ0XCI6dGlwLnN0eWxlLnRvcCA9IC0odGlwSGVpZ2h0LWNvbnRIZWlnaHQpLzIrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUubGVmdCA9IC0odGlwV2lkdGgrMjApK1wicHhcIjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwicmlnaHRcIjp0aXAuc3R5bGUudG9wID0gLSh0aXBIZWlnaHQtY29udEhlaWdodCkvMitcInB4XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInRvcFwiOnRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aC1jb250V2lkdGgpLzIrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUuYm90dG9tID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcImJvdHRvbVwiOnRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aC1jb250V2lkdGgpLzIrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXAuc3R5bGUudG9wID0gXCIxMDAlXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDogdGlwLnN0eWxlLnRvcCA9IC0odGlwSGVpZ2h0LWNvbnRIZWlnaHQpLzIrXCJweFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRpcC5zdHlsZS5sZWZ0ID0gLSh0aXBXaWR0aCsyMCkrXCJweFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aXAuc3R5bGUuaGVpZ2h0ID0gdGhpcy5zdGF0ZS50aXBIZWlnaHQtMjArXCJweFwiO1xyXG4gICAgICAgIHRoaXMucHJldmVydFRpcE92ZXJmbG93KCk7XHJcbiAgICB9LFxyXG4gICAgcHJldmVydFRpcE92ZXJmbG93OiBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgdGlwWCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XHJcbiAgICAgICAgdmFyIHRpcFkgPSB0aGlzLnJlZnMudGlwLmdldERPTU5vZGUoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XHJcbiAgICAgICAgdmFyIHRpcFdpZHRoID0gdGhpcy5yZWZzLnRpcC5nZXRET01Ob2RlKCkub2Zmc2V0V2lkdGg7XHJcbiAgICAgICAgdmFyIHRpcEhlaWdodCA9IHRoaXMucmVmcy50aXAuZ2V0RE9NTm9kZSgpLm9mZnNldEhlaWdodDtcclxuICAgICAgICB2YXIgYXZhaWxXaWR0aCA9IHBhcnNlSW50KGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpO1xyXG4gICAgICAgIGlmKHRpcFggPCAwICYmIHRpcFgrdGlwV2lkdGggPiBhdmFpbFdpZHRoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aXBYIDwgMCkge1xyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwibGVmdFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJ0b3BcIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwidG9wXCIgfHwgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcImJvdHRvbVwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJyaWdodFwifSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRpcFgrdGlwV2lkdGggPiBhdmFpbFdpZHRoKSB7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuc3RhdGUucG9zaXRpb24gPT0gXCJyaWdodFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJib3R0b21cIn0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0aGlzLnN0YXRlLnBvc2l0aW9uID09IFwiYm90dG9tXCIgfHwgdGhpcy5zdGF0ZS5wb3NpdGlvbiA9PSBcInRvcFwiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtwb3NpdGlvbjogXCJsZWZ0XCJ9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIGdldFRpcFN0eWxlOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBkaXNwbGF5OiB0aGlzLnN0YXRlLmlzQWN0aXZlP1wiYmxvY2tcIjpcIm5vbmVcIixcclxuICAgICAgICAgICAgY29sb3I6IFwicGlua1wiLFxyXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzMzM1wiLFxyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy53aWR0aCxcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYodGhpcy5wcm9wcy50eXBlPT1cInNwYW5cIikge1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtcInRvb2x0aXAgXCIrdGhpcy5zdGF0ZS5wb3NpdGlvbn0+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlVGlwTW91c2VPdmVyfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVRpcE1vdXNlT3V0fSBjbGFzc05hbWU9XCJ0aXBcIiByZWY9XCJ0aXBcIiBzdHlsZT17dGhpcy5nZXRUaXBTdHlsZSgpfT57dGhpcy5wcm9wcy50aXB9PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMucHJvcHMudHlwZT09XCJhXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9e3RoaXMucHJvcHMuYUhyZWZ9IHJlZj1cImNvbnRcIiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlTW91c2VPdXR9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2t9Pnt0aGlzLnByb3BzLmNoaWxkcmVufTwvYT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZVRpcE1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVUaXBNb3VzZU91dH0gY2xhc3NOYW1lPVwidGlwXCIgcmVmPVwidGlwXCIgc3R5bGU9e3RoaXMuZ2V0VGlwU3R5bGUoKX0+e3RoaXMucHJvcHMudGlwfTwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLnByb3BzLnR5cGU9PVwiYnV0dG9uXCIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChcclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17XCJ0b29sdGlwIFwiK3RoaXMuc3RhdGUucG9zaXRpb259PlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gcmVmPVwiY29udFwiIG9uTW91c2VPdmVyPXt0aGlzLmhhbmRsZU1vdXNlT3Zlcn0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVNb3VzZU91dH0gb25DbGljaz17dGhpcy5oYW5kbGVDbGlja30+e3RoaXMucHJvcHMuY2hpbGRyZW59PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVUaXBNb3VzZU92ZXJ9IG9uTW91c2VPdXQ9e3RoaXMuaGFuZGxlVGlwTW91c2VPdXR9IGNsYXNzTmFtZT1cInRpcFwiIHJlZj1cInRpcFwiIHN0eWxlPXt0aGlzLmdldFRpcFN0eWxlKCl9Pnt0aGlzLnByb3BzLnRpcH08L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=